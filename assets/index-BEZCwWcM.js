(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function ab(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Gf={exports:{}},Ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function lb(){if(A_)return Ea;A_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:c}}return Ea.Fragment=e,Ea.jsx=i,Ea.jsxs=i,Ea}var N_;function ob(){return N_||(N_=1,Gf.exports=lb()),Gf.exports}var U=ob(),Yf={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function ub(){if(O_)return se;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,P={};function H(b,z,Y){this.props=b,this.context=z,this.refs=P,this.updater=Y||O}H.prototype.isReactComponent={},H.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},H.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function V(){}V.prototype=H.prototype;function q(b,z,Y){this.props=b,this.context=z,this.refs=P,this.updater=Y||O}var K=q.prototype=new V;K.constructor=q,D(K,H.prototype),K.isPureReactComponent=!0;var Te=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},Qe=Object.prototype.hasOwnProperty;function je(b,z,Y,j,W,de){return Y=de.ref,{$$typeof:s,type:b,key:z,ref:Y!==void 0?Y:null,props:de}}function Ke(b,z){return je(b.type,z,void 0,void 0,void 0,b.props)}function ke(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function Tt(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return z[Y]})}var kt=/\/+/g;function rt(b,z){return typeof b=="object"&&b!==null&&b.key!=null?Tt(""+b.key):z.toString(36)}function Di(){}function xi(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Di,Di):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function at(b,z,Y,j,W){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var ie=!1;if(b===null)ie=!0;else switch(de){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(b.$$typeof){case s:case e:ie=!0;break;case y:return ie=b._init,at(ie(b._payload),z,Y,j,W)}}if(ie)return W=W(b),ie=j===""?"."+rt(b,0):j,Te(W)?(Y="",ie!=null&&(Y=ie.replace(kt,"$&/")+"/"),at(W,z,Y,"",function(jn){return jn})):W!=null&&(ke(W)&&(W=Ke(W,Y+(W.key==null||b&&b.key===W.key?"":(""+W.key).replace(kt,"$&/")+"/")+ie)),z.push(W)),1;ie=0;var Ct=j===""?".":j+":";if(Te(b))for(var Ie=0;Ie<b.length;Ie++)j=b[Ie],de=Ct+rt(j,Ie),ie+=at(j,z,Y,de,W);else if(Ie=E(b),typeof Ie=="function")for(b=Ie.call(b),Ie=0;!(j=b.next()).done;)j=j.value,de=Ct+rt(j,Ie++),ie+=at(j,z,Y,de,W);else if(de==="object"){if(typeof b.then=="function")return at(xi(b),z,Y,j,W);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ie}function M(b,z,Y){if(b==null)return b;var j=[],W=0;return at(b,j,"","",function(de){return z.call(Y,de,W++)}),j}function G(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var $=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Ce(){}return se.Children={map:M,forEach:function(b,z,Y){M(b,function(){z.apply(this,arguments)},Y)},count:function(b){var z=0;return M(b,function(){z++}),z},toArray:function(b){return M(b,function(z){return z})||[]},only:function(b){if(!ke(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},se.Component=H,se.Fragment=i,se.Profiler=o,se.PureComponent=q,se.StrictMode=a,se.Suspense=p,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ne.H.useMemoCache(b)}},se.cache=function(b){return function(){return b.apply(null,arguments)}},se.cloneElement=function(b,z,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=D({},b.props),W=b.key,de=void 0;if(z!=null)for(ie in z.ref!==void 0&&(de=void 0),z.key!==void 0&&(W=""+z.key),z)!Qe.call(z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&z.ref===void 0||(j[ie]=z[ie]);var ie=arguments.length-2;if(ie===1)j.children=Y;else if(1<ie){for(var Ct=Array(ie),Ie=0;Ie<ie;Ie++)Ct[Ie]=arguments[Ie+2];j.children=Ct}return je(b.type,W,void 0,void 0,de,j)},se.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},se.createElement=function(b,z,Y){var j,W={},de=null;if(z!=null)for(j in z.key!==void 0&&(de=""+z.key),z)Qe.call(z,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(W[j]=z[j]);var ie=arguments.length-2;if(ie===1)W.children=Y;else if(1<ie){for(var Ct=Array(ie),Ie=0;Ie<ie;Ie++)Ct[Ie]=arguments[Ie+2];W.children=Ct}if(b&&b.defaultProps)for(j in ie=b.defaultProps,ie)W[j]===void 0&&(W[j]=ie[j]);return je(b,de,void 0,void 0,null,W)},se.createRef=function(){return{current:null}},se.forwardRef=function(b){return{$$typeof:d,render:b}},se.isValidElement=ke,se.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:G}},se.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},se.startTransition=function(b){var z=ne.T,Y={};ne.T=Y;try{var j=b(),W=ne.S;W!==null&&W(Y,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Ce,$)}catch(de){$(de)}finally{ne.T=z}},se.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},se.use=function(b){return ne.H.use(b)},se.useActionState=function(b,z,Y){return ne.H.useActionState(b,z,Y)},se.useCallback=function(b,z){return ne.H.useCallback(b,z)},se.useContext=function(b){return ne.H.useContext(b)},se.useDebugValue=function(){},se.useDeferredValue=function(b,z){return ne.H.useDeferredValue(b,z)},se.useEffect=function(b,z,Y){var j=ne.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(b,z)},se.useId=function(){return ne.H.useId()},se.useImperativeHandle=function(b,z,Y){return ne.H.useImperativeHandle(b,z,Y)},se.useInsertionEffect=function(b,z){return ne.H.useInsertionEffect(b,z)},se.useLayoutEffect=function(b,z){return ne.H.useLayoutEffect(b,z)},se.useMemo=function(b,z){return ne.H.useMemo(b,z)},se.useOptimistic=function(b,z){return ne.H.useOptimistic(b,z)},se.useReducer=function(b,z,Y){return ne.H.useReducer(b,z,Y)},se.useRef=function(b){return ne.H.useRef(b)},se.useState=function(b){return ne.H.useState(b)},se.useSyncExternalStore=function(b,z,Y){return ne.H.useSyncExternalStore(b,z,Y)},se.useTransition=function(){return ne.H.useTransition()},se.version="19.1.1",se}var I_;function Lh(){return I_||(I_=1,Yf.exports=ub()),Yf.exports}var I=Lh();const yi=ab(I);var Ff={exports:{}},Sa={},Qf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function cb(){return D_||(D_=1,(function(s){function e(M,G){var $=M.length;M.push(G);e:for(;0<$;){var Ce=$-1>>>1,b=M[Ce];if(0<o(b,G))M[Ce]=G,M[$]=b,$=Ce;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var G=M[0],$=M.pop();if($!==G){M[0]=$;e:for(var Ce=0,b=M.length,z=b>>>1;Ce<z;){var Y=2*(Ce+1)-1,j=M[Y],W=Y+1,de=M[W];if(0>o(j,$))W<b&&0>o(de,j)?(M[Ce]=de,M[W]=$,Ce=W):(M[Ce]=j,M[Y]=$,Ce=Y);else if(W<b&&0>o(de,$))M[Ce]=de,M[W]=$,Ce=W;else break e}}return G}function o(M,G){var $=M.sortIndex-G.sortIndex;return $!==0?$:M.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var p=[],m=[],y=1,v=null,E=3,O=!1,D=!1,P=!1,H=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Te(M){for(var G=i(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=M)a(m),G.sortIndex=G.expirationTime,e(p,G);else break;G=i(m)}}function ne(M){if(P=!1,Te(M),!D)if(i(p)!==null)D=!0,Qe||(Qe=!0,rt());else{var G=i(m);G!==null&&at(ne,G.startTime-M)}}var Qe=!1,je=-1,Ke=5,ke=-1;function Tt(){return H?!0:!(s.unstable_now()-ke<Ke)}function kt(){if(H=!1,Qe){var M=s.unstable_now();ke=M;var G=!0;try{e:{D=!1,P&&(P=!1,q(je),je=-1),O=!0;var $=E;try{t:{for(Te(M),v=i(p);v!==null&&!(v.expirationTime>M&&Tt());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,E=v.priorityLevel;var b=Ce(v.expirationTime<=M);if(M=s.unstable_now(),typeof b=="function"){v.callback=b,Te(M),G=!0;break t}v===i(p)&&a(p),Te(M)}else a(p);v=i(p)}if(v!==null)G=!0;else{var z=i(m);z!==null&&at(ne,z.startTime-M),G=!1}}break e}finally{v=null,E=$,O=!1}G=void 0}}finally{G?rt():Qe=!1}}}var rt;if(typeof K=="function")rt=function(){K(kt)};else if(typeof MessageChannel<"u"){var Di=new MessageChannel,xi=Di.port2;Di.port1.onmessage=kt,rt=function(){xi.postMessage(null)}}else rt=function(){V(kt,0)};function at(M,G){je=V(function(){M(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(M){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var $=E;E=G;try{return M()}finally{E=$}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=E;E=M;try{return G()}finally{E=$}},s.unstable_scheduleCallback=function(M,G,$){var Ce=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ce+$:Ce):$=Ce,M){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,M={id:y++,callback:G,priorityLevel:M,startTime:$,expirationTime:b,sortIndex:-1},$>Ce?(M.sortIndex=$,e(m,M),i(p)===null&&M===i(m)&&(P?(q(je),je=-1):P=!0,at(ne,$-Ce))):(M.sortIndex=b,e(p,M),D||O||(D=!0,Qe||(Qe=!0,rt()))),M},s.unstable_shouldYield=Tt,s.unstable_wrapCallback=function(M){var G=E;return function(){var $=E;E=G;try{return M.apply(this,arguments)}finally{E=$}}}})(Kf)),Kf}var x_;function fb(){return x_||(x_=1,Qf.exports=cb()),Qf.exports}var Wf={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function hb(){if(M_)return ut;M_=1;var s=Lh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ut.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},ut.flushSync=function(p){var m=h.T,y=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=m,a.p=y,a.d.f()}},ut.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},ut.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},ut.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:O}):y==="script"&&a.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ut.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},ut.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin);a.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ut.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},ut.requestFormReset=function(p){a.d.r(p)},ut.unstable_batchedUpdates=function(p,m){return p(m)},ut.useFormState=function(p,m,y){return h.H.useFormState(p,m,y)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.1.1",ut}var k_;function db(){if(k_)return Wf.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wf.exports=hb(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function pb(){if(L_)return Sa;L_=1;var s=fb(),e=Lh(),i=db();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return d(u),t;if(f===l)return d(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===r){g=!0,r=u,l=f;break}if(_===l){g=!0,l=u,r=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===r){g=!0,r=f,l=u;break}if(_===l){g=!0,l=f,r=u;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Tt=Symbol.for("react.memo_cache_sentinel"),kt=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=kt&&t[kt]||t["@@iterator"],typeof t=="function"?t:null)}var Di=Symbol.for("react.client.reference");function xi(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Di?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case H:return"Profiler";case P:return"StrictMode";case ne:return"Suspense";case Qe:return"SuspenseList";case ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case K:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case Te:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case je:return n=t.displayName||null,n!==null?n:xi(t.type)||"Memo";case Ke:n=t._payload,t=t._init;try{return xi(t(n))}catch{}}return null}var at=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Ce=[],b=-1;function z(t){return{current:t}}function Y(t){0>b||(t.current=Ce[b],Ce[b]=null,b--)}function j(t,n){b++,Ce[b]=t.current,t.current=n}var W=z(null),de=z(null),ie=z(null),Ct=z(null);function Ie(t,n){switch(j(ie,n),j(de,t),j(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?t_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=t_(n),t=n_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(W),j(W,t)}function jn(){Y(W),Y(de),Y(ie)}function Nu(t){t.memoizedState!==null&&j(Ct,t);var n=W.current,r=n_(n,t.type);n!==r&&(j(de,t),j(W,r))}function cl(t){de.current===t&&(Y(W),Y(de)),Ct.current===t&&(Y(Ct),ma._currentValue=$)}var Ou=Object.prototype.hasOwnProperty,Iu=s.unstable_scheduleCallback,Du=s.unstable_cancelCallback,PE=s.unstable_shouldYield,HE=s.unstable_requestPaint,rn=s.unstable_now,BE=s.unstable_getCurrentPriorityLevel,Ld=s.unstable_ImmediatePriority,Ud=s.unstable_UserBlockingPriority,fl=s.unstable_NormalPriority,qE=s.unstable_LowPriority,zd=s.unstable_IdlePriority,jE=s.log,VE=s.unstable_setDisableYieldValue,Tr=null,wt=null;function Vn(t){if(typeof jE=="function"&&VE(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Tr,t)}catch{}}var Rt=Math.clz32?Math.clz32:FE,GE=Math.log,YE=Math.LN2;function FE(t){return t>>>=0,t===0?32:31-(GE(t)/YE|0)|0}var hl=256,dl=4194304;function Mi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?u=Mi(l):(g&=_,g!==0?u=Mi(g):r||(r=_&~t,r!==0&&(u=Mi(r))))):(_=l&~f,_!==0?u=Mi(_):g!==0?u=Mi(g):r||(r=l&~t,r!==0&&(u=Mi(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function Cr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function QE(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var t=hl;return hl<<=1,(hl&4194048)===0&&(hl=256),t}function Hd(){var t=dl;return dl<<=1,(dl&62914560)===0&&(dl=4194304),t}function xu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function KE(t,n,r,l,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(r=g&~r;0<r;){var x=31-Rt(r),L=1<<x;_[x]=0,S[x]=-1;var A=R[x];if(A!==null)for(R[x]=null,x=0;x<A.length;x++){var N=A[x];N!==null&&(N.lane&=-536870913)}r&=~L}l!==0&&Bd(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Bd(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Rt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function qd(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Rt(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}function Mu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ku(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jd(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function WE(t,n){var r=G.p;try{return G.p=t,n()}finally{G.p=r}}var Gn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Gn,mt="__reactProps$"+Gn,cs="__reactContainer$"+Gn,Lu="__reactEvents$"+Gn,XE="__reactListeners$"+Gn,ZE="__reactHandles$"+Gn,Vd="__reactResources$"+Gn,Rr="__reactMarker$"+Gn;function Uu(t){delete t[lt],delete t[mt],delete t[Lu],delete t[XE],delete t[ZE]}function fs(t){var n=t[lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[cs]||r[lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=a_(t);t!==null;){if(r=t[lt])return r;t=a_(t)}return n}t=r,r=t.parentNode}return null}function hs(t){if(t=t[lt]||t[cs]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ar(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ds(t){var n=t[Vd];return n||(n=t[Vd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(t){t[Rr]=!0}var Gd=new Set,Yd={};function ki(t,n){ps(t,n),ps(t+"Capture",n)}function ps(t,n){for(Yd[t]=n,t=0;t<n.length;t++)Gd.add(n[t])}var $E=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fd={},Qd={};function JE(t){return Ou.call(Qd,t)?!0:Ou.call(Fd,t)?!1:$E.test(t)?Qd[t]=!0:(Fd[t]=!0,!1)}function ml(t,n,r){if(JE(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function gl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zu,Kd;function ms(t){if(zu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zu=n&&n[1]||"",Kd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zu+t+Kd}var Pu=!1;function Hu(t,n){if(!t||Pu)return"";Pu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(N){var A=N}Reflect.construct(t,[],L)}else{try{L.call()}catch(N){A=N}t.call(L.prototype)}}else{try{throw Error()}catch(N){A=N}(L=t())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var S=g.split(`
`),R=_.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===R.length)for(l=S.length-1,u=R.length-1;1<=l&&0<=u&&S[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==R[u]){var x=`
`+S[l].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=l&&0<=u);break}}}finally{Pu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ms(r):""}function e1(t){switch(t.tag){case 26:case 27:case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return Hu(t.type,!1);case 11:return Hu(t.type.render,!1);case 1:return Hu(t.type,!0);case 31:return ms("Activity");default:return""}}function Wd(t){try{var n="";do n+=e1(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xd(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function t1(t){var n=Xd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _l(t){t._valueTracker||(t._valueTracker=t1(t))}function Zd(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Xd(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var n1=/[\n"\\]/g;function Ut(t){return t.replace(n1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Bu(t,n,r,l,u,f,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?qu(t,g,Lt(n)):r!=null?qu(t,g,Lt(r)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Lt(_):t.removeAttribute("name")}function $d(t,n,r,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function qu(t,n,r){n==="number"&&yl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function gs(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Jd(t,n,r){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Lt(r):""}function ep(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(at(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _s(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||i1.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function np(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&tp(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&tp(t,f,n[f])}function ju(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(t){return r1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vu=null;function Gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,vs=null;function ip(t){var n=hs(t);if(n&&(t=n.stateNode)){var r=t[mt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Bu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ut(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=l[mt]||null;if(!u)throw Error(a(90));Bu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Zd(l)}break e;case"textarea":Jd(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&gs(t,!!r.multiple,n,!1)}}}var Yu=!1;function sp(t,n,r){if(Yu)return t(n,r);Yu=!0;try{var l=t(n);return l}finally{if(Yu=!1,(ys!==null||vs!==null)&&(so(),ys&&(n=ys,t=vs,vs=ys=null,ip(n),t)))for(n=0;n<t.length;n++)ip(t[n])}}function Nr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[mt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=!1;if(mn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Fu=!1}var Yn=null,Qu=null,El=null;function rp(){if(El)return El;var t,n=Qu,r=n.length,l,u="value"in Yn?Yn.value:Yn.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return El=u.slice(t,1<l?1-l:void 0)}function Sl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function ap(){return!1}function gt(t){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bl:ap,this.isPropagationStopped=ap,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=gt(Li),Ir=y({},Li,{view:0,detail:0}),a1=gt(Ir),Ku,Wu,Dr,Cl=y({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(Ku=t.screenX-Dr.screenX,Wu=t.screenY-Dr.screenY):Wu=Ku=0,Dr=t),Ku)},movementY:function(t){return"movementY"in t?t.movementY:Wu}}),lp=gt(Cl),l1=y({},Cl,{dataTransfer:0}),o1=gt(l1),u1=y({},Ir,{relatedTarget:0}),Xu=gt(u1),c1=y({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=gt(c1),h1=y({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d1=gt(h1),p1=y({},Li,{data:0}),op=gt(p1),m1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_1[t])?!!n[t]:!1}function Zu(){return y1}var v1=y({},Ir,{key:function(t){if(t.key){var n=m1[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E1=gt(v1),S1=y({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=gt(S1),b1=y({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),T1=gt(b1),C1=y({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=gt(C1),R1=y({},Cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=gt(R1),N1=y({},Li,{newState:0,oldState:0}),O1=gt(N1),I1=[9,13,27,32],$u=mn&&"CompositionEvent"in window,xr=null;mn&&"documentMode"in document&&(xr=document.documentMode);var D1=mn&&"TextEvent"in window&&!xr,cp=mn&&(!$u||xr&&8<xr&&11>=xr),fp=" ",hp=!1;function dp(t,n){switch(t){case"keyup":return I1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function x1(t,n){switch(t){case"compositionend":return pp(n);case"keypress":return n.which!==32?null:(hp=!0,fp);case"textInput":return t=n.data,t===fp&&hp?null:t;default:return null}}function M1(t,n){if(Es)return t==="compositionend"||!$u&&dp(t,n)?(t=rp(),El=Qu=Yn=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cp&&n.locale!=="ko"?null:n.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!k1[t.type]:n==="textarea"}function gp(t,n,r,l){ys?vs?vs.push(l):vs=[l]:ys=l,n=co(n,"onChange"),0<n.length&&(r=new Tl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Mr=null,kr=null;function L1(t){Xg(t,0)}function wl(t){var n=Ar(t);if(Zd(n))return t}function _p(t,n){if(t==="change")return n}var yp=!1;if(mn){var Ju;if(mn){var ec="oninput"in document;if(!ec){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),ec=typeof vp.oninput=="function"}Ju=ec}else Ju=!1;yp=Ju&&(!document.documentMode||9<document.documentMode)}function Ep(){Mr&&(Mr.detachEvent("onpropertychange",Sp),kr=Mr=null)}function Sp(t){if(t.propertyName==="value"&&wl(kr)){var n=[];gp(n,kr,t,Gu(t)),sp(L1,n)}}function U1(t,n,r){t==="focusin"?(Ep(),Mr=n,kr=r,Mr.attachEvent("onpropertychange",Sp)):t==="focusout"&&Ep()}function z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wl(kr)}function P1(t,n){if(t==="click")return wl(n)}function H1(t,n){if(t==="input"||t==="change")return wl(n)}function B1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var At=typeof Object.is=="function"?Object.is:B1;function Lr(t,n){if(At(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!Ou.call(n,u)||!At(t[u],n[u]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,n){var r=bp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bp(r)}}function Cp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=yl(t.document)}return n}function tc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var q1=mn&&"documentMode"in document&&11>=document.documentMode,Ss=null,nc=null,Ur=null,ic=!1;function Rp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ic||Ss==null||Ss!==yl(l)||(l=Ss,"selectionStart"in l&&tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ur&&Lr(Ur,l)||(Ur=l,l=co(nc,"onSelect"),0<l.length&&(n=new Tl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ss)))}function Ui(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var bs={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},sc={},Ap={};mn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function zi(t){if(sc[t])return sc[t];if(!bs[t])return t;var n=bs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ap)return sc[t]=n[r];return t}var Np=zi("animationend"),Op=zi("animationiteration"),Ip=zi("animationstart"),j1=zi("transitionrun"),V1=zi("transitionstart"),G1=zi("transitioncancel"),Dp=zi("transitionend"),xp=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function Yt(t,n){xp.set(t,n),ki(n,[t])}var Mp=new WeakMap;function zt(t,n){if(typeof t=="object"&&t!==null){var r=Mp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Wd(n)},Mp.set(t,n),n)}return{value:t,source:n,stack:Wd(n)}}var Pt=[],Ts=0,ac=0;function Rl(){for(var t=Ts,n=ac=Ts=0;n<t;){var r=Pt[n];Pt[n++]=null;var l=Pt[n];Pt[n++]=null;var u=Pt[n];Pt[n++]=null;var f=Pt[n];if(Pt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&kp(r,u,f)}}function Al(t,n,r,l){Pt[Ts++]=t,Pt[Ts++]=n,Pt[Ts++]=r,Pt[Ts++]=l,ac|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lc(t,n,r,l){return Al(t,n,r,l),Nl(t)}function Cs(t,n){return Al(t,null,null,n),Nl(t)}function kp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Rt(r),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function Nl(t){if(50<la)throw la=0,pf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ws={};function Y1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,n,r,l){return new Y1(t,n,r,l)}function oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gn(t,n){var r=t.alternate;return r===null?(r=Nt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ol(t,n,r,l,u,f){var g=0;if(l=t,typeof t=="function")oc(t)&&(g=1);else if(typeof t=="string")g=QS(t,r,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ke:return t=Nt(31,r,n,u),t.elementType=ke,t.lanes=f,t;case D:return Pi(r.children,u,f,n);case P:g=8,u|=24;break;case H:return t=Nt(12,r,n,u|2),t.elementType=H,t.lanes=f,t;case ne:return t=Nt(13,r,n,u),t.elementType=ne,t.lanes=f,t;case Qe:return t=Nt(19,r,n,u),t.elementType=Qe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case K:g=10;break e;case q:g=9;break e;case Te:g=11;break e;case je:g=14;break e;case Ke:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nt(g,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function Pi(t,n,r,l){return t=Nt(7,t,l,n),t.lanes=r,t}function uc(t,n,r){return t=Nt(6,t,null,n),t.lanes=r,t}function cc(t,n,r){return n=Nt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Rs=[],As=0,Il=null,Dl=0,Ht=[],Bt=0,Hi=null,_n=1,yn="";function Bi(t,n){Rs[As++]=Dl,Rs[As++]=Il,Il=t,Dl=n}function Up(t,n,r){Ht[Bt++]=_n,Ht[Bt++]=yn,Ht[Bt++]=Hi,Hi=t;var l=_n;t=yn;var u=32-Rt(l)-1;l&=~(1<<u),r+=1;var f=32-Rt(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,_n=1<<32-Rt(n)+u|r<<u|l,yn=f+t}else _n=1<<f|r<<u|l,yn=t}function fc(t){t.return!==null&&(Bi(t,1),Up(t,1,0))}function hc(t){for(;t===Il;)Il=Rs[--As],Rs[As]=null,Dl=Rs[--As],Rs[As]=null;for(;t===Hi;)Hi=Ht[--Bt],Ht[Bt]=null,yn=Ht[--Bt],Ht[Bt]=null,_n=Ht[--Bt],Ht[Bt]=null}var ht=null,Le=null,ge=!1,qi=null,an=!1,dc=Error(a(519));function ji(t){var n=Error(a(418,""));throw Hr(zt(n,t)),dc}function zp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[lt]=t,n[mt]=l,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(r=0;r<ua.length;r++)ue(ua[r],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":ue("invalid",n),$d(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_l(n);break;case"select":ue("invalid",n);break;case"textarea":ue("invalid",n),ep(n,l.value,l.defaultValue,l.children),_l(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||e_(n.textContent,r)?(l.popover!=null&&(ue("beforetoggle",n),ue("toggle",n)),l.onScroll!=null&&ue("scroll",n),l.onScrollEnd!=null&&ue("scrollend",n),l.onClick!=null&&(n.onclick=fo),n=!0):n=!1,n||ji(t)}function Pp(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:ht=ht.return}}function zr(t){if(t!==ht)return!1;if(!ge)return Pp(t),ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||If(t.type,t.memoizedProps)),r=!r),r&&Le&&ji(t),Pp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=Qt(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else n===27?(n=Le,li(t.type)?(t=kf,kf=null,Le=t):Le=n):Le=ht?Qt(t.stateNode.nextSibling):null;return!0}function Pr(){Le=ht=null,ge=!1}function Hp(){var t=qi;return t!==null&&(vt===null?vt=t:vt.push.apply(vt,t),qi=null),t}function Hr(t){qi===null?qi=[t]:qi.push(t)}var pc=z(null),Vi=null,vn=null;function Fn(t,n,r){j(pc,n._currentValue),n._currentValue=r}function En(t){t._currentValue=pc.current,Y(pc)}function mc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function gc(t,n,r,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var S=0;S<n.length;S++)if(_.context===n[S]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),mc(f.return,r,t),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),mc(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Br(t,n,r,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=u.type;At(u.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(u===Ct.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ma):t=[ma])}u=u.return}t!==null&&gc(n,t,r,l),n.flags|=262144}function xl(t){for(t=t.firstContext;t!==null;){if(!At(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gi(t){Vi=t,vn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return Bp(Vi,t)}function Ml(t,n){return Vi===null&&Gi(t),Bp(t,n)}function Bp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vn===null){if(t===null)throw Error(a(308));vn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vn=vn.next=n;return r}var F1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Q1=s.unstable_scheduleCallback,K1=s.unstable_NormalPriority,Ve={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new F1,data:new Map,refCount:0}}function qr(t){t.refCount--,t.refCount===0&&Q1(K1,function(){t.controller.abort()})}var jr=null,yc=0,Ns=0,Os=null;function W1(t,n){if(jr===null){var r=jr=[];yc=0,Ns=Sf(),Os={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yc++,n.then(qp,qp),n}function qp(){if(--yc===0&&jr!==null){Os!==null&&(Os.status="fulfilled");var t=jr;jr=null,Ns=0,Os=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function X1(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var jp=M.S;M.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&W1(t,n),jp!==null&&jp(t,n)};var Yi=z(null);function vc(){var t=Yi.current;return t!==null?t:Ae.pooledCache}function kl(t,n){n===null?j(Yi,Yi.current):j(Yi,n.pool)}function Vp(){var t=vc();return t===null?null:{parent:Ve._currentValue,pool:t}}var Vr=Error(a(460)),Gp=Error(a(474)),Ll=Error(a(542)),Ec={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ul(){}function Fp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ul,Ul),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(Ul,Ul);else{if(t=Ae,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw Gr=n,Vr}}var Gr=null;function Qp(){if(Gr===null)throw Error(a(459));var t=Gr;return Gr=null,t}function Kp(t){if(t===Vr||t===Ll)throw Error(a(483))}var Qn=!1;function Sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Nl(t),kp(t,null,r),n}return Al(t,l,n,r),Nl(t)}function Yr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qd(t,r)}}function Tc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Cc=!1;function Fr(){if(Cc){var t=Os;if(t!==null)throw t}}function Qr(t,n,r,l){Cc=!1;var u=t.updateQueue;Qn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,R=S.next;S.next=null,g===null?f=R:g.next=R,g=S;var x=t.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==g&&(_===null?x.firstBaseUpdate=R:_.next=R,x.lastBaseUpdate=S))}if(f!==null){var L=u.baseState;g=0,x=R=S=null,_=f;do{var A=_.lane&-536870913,N=A!==_.lane;if(N?(he&A)===A:(l&A)===A){A!==0&&A===Ns&&(Cc=!0),x!==null&&(x=x.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var te=t,X=_;A=n;var Se=r;switch(X.tag){case 1:if(te=X.payload,typeof te=="function"){L=te.call(Se,L,A);break e}L=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=X.payload,A=typeof te=="function"?te.call(Se,L,A):te,A==null)break e;L=y({},L,A);break e;case 2:Qn=!0}}A=_.callback,A!==null&&(t.flags|=64,N&&(t.flags|=8192),N=u.callbacks,N===null?u.callbacks=[A]:N.push(A))}else N={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(R=x=N,S=L):x=x.next=N,g|=A;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);x===null&&(S=L),u.baseState=S,u.firstBaseUpdate=R,u.lastBaseUpdate=x,f===null&&(u.shared.lanes=0),ii|=g,t.lanes=g,t.memoizedState=L}}function Wp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Xp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wp(r[t],n)}var Is=z(null),zl=z(0);function Zp(t,n){t=An,j(zl,t),j(Is,n),An=t|n.baseLanes}function wc(){j(zl,An),j(Is,Is.current)}function Rc(){An=zl.current,Y(Is),Y(zl)}var Xn=0,re=null,ve=null,Be=null,Pl=!1,Ds=!1,Fi=!1,Hl=0,Kr=0,xs=null,Z1=0;function Pe(){throw Error(a(321))}function Ac(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!At(t[r],n[r]))return!1;return!0}function Nc(t,n,r,l,u,f){return Xn=f,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?km:Lm,Fi=!1,f=r(l,u),Fi=!1,Ds&&(f=Jp(n,r,l,u)),$p(t),f}function $p(t){M.H=Yl;var n=ve!==null&&ve.next!==null;if(Xn=0,Be=ve=re=null,Pl=!1,Kr=0,xs=null,n)throw Error(a(300));t===null||Xe||(t=t.dependencies,t!==null&&xl(t)&&(Xe=!0))}function Jp(t,n,r,l){re=t;var u=0;do{if(Ds&&(xs=null),Kr=0,Ds=!1,25<=u)throw Error(a(301));if(u+=1,Be=ve=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=sS,f=n(r,l)}while(Ds);return f}function $1(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?Wr(n):n,t=t.useState()[0],(ve!==null?ve.memoizedState:null)!==t&&(re.flags|=1024),n}function Oc(){var t=Hl!==0;return Hl=0,t}function Ic(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Dc(t){if(Pl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pl=!1}Xn=0,Be=ve=re=null,Ds=!1,Kr=Hl=0,xs=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?re.memoizedState=Be=t:Be=Be.next=t,Be}function qe(){if(ve===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var n=Be===null?re.memoizedState:Be.next;if(n!==null)Be=n,ve=t;else{if(t===null)throw re.alternate===null?Error(a(467)):Error(a(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Be===null?re.memoizedState=Be=t:Be=Be.next=t}return Be}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wr(t){var n=Kr;return Kr+=1,xs===null&&(xs=[]),t=Fp(xs,t,n),n=re,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?km:Lm),t}function Bl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wr(t);if(t.$$typeof===K)return ot(t)}throw Error(a(438,String(t)))}function Mc(t){var n=null,r=re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=xc(),re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Tt;return n.index++,r}function Sn(t,n){return typeof n=="function"?n(t):n}function ql(t){var n=qe();return kc(n,ve,t)}function kc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var _=g=null,S=null,R=n,x=!1;do{var L=R.lane&-536870913;if(L!==R.lane?(he&L)===L:(Xn&L)===L){var A=R.revertLane;if(A===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),L===Ns&&(x=!0);else if((Xn&A)===A){R=R.next,A===Ns&&(x=!0);continue}else L={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=L,g=f):S=S.next=L,re.lanes|=A,ii|=A;L=R.action,Fi&&r(f,L),f=R.hasEagerState?R.eagerState:r(f,L)}else A={lane:L,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=A,g=f):S=S.next=A,re.lanes|=L,ii|=L;R=R.next}while(R!==null&&R!==n);if(S===null?g=f:S.next=_,!At(f,t.memoizedState)&&(Xe=!0,x&&(r=Os,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=S,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lc(t){var n=qe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);At(f,n.memoizedState)||(Xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function em(t,n,r){var l=re,u=qe(),f=ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!At((ve||u).memoizedState,r);g&&(u.memoizedState=r,Xe=!0),u=u.queue;var _=im.bind(null,l,u,t);if(Xr(2048,8,_,[t]),u.getSnapshot!==n||g||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,Ms(9,jl(),nm.bind(null,l,u,r,n),null),Ae===null)throw Error(a(349));f||(Xn&124)!==0||tm(l,n,r)}return r}function tm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=re.updateQueue,n===null?(n=xc(),re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function nm(t,n,r,l){n.value=r,n.getSnapshot=l,sm(n)&&rm(t)}function im(t,n,r){return r(function(){sm(n)&&rm(t)})}function sm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!At(t,r)}catch{return!0}}function rm(t){var n=Cs(t,2);n!==null&&Mt(n,t,2)}function Uc(t){var n=_t();if(typeof t=="function"){var r=t;if(t=r(),Fi){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:t},n}function am(t,n,r,l){return t.baseState=r,kc(t,ve,typeof l=="function"?l:Sn)}function J1(t,n,r,l,u){if(Gl(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,lm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lm(t,n){var r=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var _=r(u,l),S=M.S;S!==null&&S(g,_),om(t,n,_)}catch(R){zc(t,n,R)}finally{M.T=f}}else try{f=r(u,l),om(t,n,f)}catch(R){zc(t,n,R)}}function om(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){um(t,n,l)},function(l){return zc(t,n,l)}):um(t,n,r)}function um(t,n,r){n.status="fulfilled",n.value=r,cm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,lm(t,r)))}function zc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,cm(n),n=n.next;while(n!==l)}t.action=null}function cm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fm(t,n){return n}function hm(t,n){if(ge){var r=Ae.formState;if(r!==null){e:{var l=re;if(ge){if(Le){t:{for(var u=Le,f=an;u.nodeType!==8;){if(!f){u=null;break t}if(u=Qt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Le=Qt(u.nextSibling),l=u.data==="F!";break e}}ji(l)}l=!1}l&&(n=r[0])}}return r=_t(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:n},r.queue=l,r=Dm.bind(null,re,l),l.dispatch=r,l=Uc(!1),f=jc.bind(null,re,!1,l.queue),l=_t(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,r=J1.bind(null,re,u,f,r),u.dispatch=r,l.memoizedState=t,[n,r,!1]}function dm(t){var n=qe();return pm(n,ve,t)}function pm(t,n,r){if(n=kc(t,n,fm)[0],t=ql(Sn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wr(n)}catch(g){throw g===Vr?Ll:g}else l=n;n=qe();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(re.flags|=2048,Ms(9,jl(),eS.bind(null,u,r),null)),[l,f,t]}function eS(t,n){t.action=n}function mm(t){var n=qe(),r=ve;if(r!==null)return pm(n,r,t);qe(),n=n.memoizedState,r=qe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ms(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=re.updateQueue,n===null&&(n=xc(),re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function jl(){return{destroy:void 0,resource:void 0}}function gm(){return qe().memoizedState}function Vl(t,n,r,l){var u=_t();l=l===void 0?null:l,re.flags|=t,u.memoizedState=Ms(1|n,jl(),r,l)}function Xr(t,n,r,l){var u=qe();l=l===void 0?null:l;var f=u.memoizedState.inst;ve!==null&&l!==null&&Ac(l,ve.memoizedState.deps)?u.memoizedState=Ms(n,f,r,l):(re.flags|=t,u.memoizedState=Ms(1|n,f,r,l))}function _m(t,n){Vl(8390656,8,t,n)}function ym(t,n){Xr(2048,8,t,n)}function vm(t,n){return Xr(4,2,t,n)}function Em(t,n){return Xr(4,4,t,n)}function Sm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bm(t,n,r){r=r!=null?r.concat([t]):null,Xr(4,4,Sm.bind(null,n,t),r)}function Pc(){}function Tm(t,n){var r=qe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ac(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Cm(t,n){var r=qe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ac(n,l[1]))return l[0];if(l=t(),Fi){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[l,n],l}function Hc(t,n,r){return r===void 0||(Xn&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Ag(),re.lanes|=t,ii|=t,r)}function wm(t,n,r,l){return At(r,n)?r:Is.current!==null?(t=Hc(t,r,l),At(t,n)||(Xe=!0),t):(Xn&42)===0?(Xe=!0,t.memoizedState=r):(t=Ag(),re.lanes|=t,ii|=t,n)}function Rm(t,n,r,l,u){var f=G.p;G.p=f!==0&&8>f?f:8;var g=M.T,_={};M.T=_,jc(t,!1,n,r);try{var S=u(),R=M.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var x=X1(S,l);Zr(t,n,x,xt(t))}else Zr(t,n,l,xt(t))}catch(L){Zr(t,n,{then:function(){},status:"rejected",reason:L},xt())}finally{G.p=f,M.T=g}}function tS(){}function Bc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var u=Am(t).queue;Rm(t,u,n,$,r===null?tS:function(){return Nm(t),r(l)})}function Am(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:$},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Nm(t){var n=Am(t).next.queue;Zr(t,n,{},xt())}function qc(){return ot(ma)}function Om(){return qe().memoizedState}function Im(){return qe().memoizedState}function nS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=xt();t=Kn(r);var l=Wn(n,t,r);l!==null&&(Mt(l,n,r),Yr(l,n,r)),n={cache:_c()},t.payload=n;return}n=n.return}}function iS(t,n,r){var l=xt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(t)?xm(n,r):(r=lc(t,n,r,l),r!==null&&(Mt(r,t,l),Mm(r,n,l)))}function Dm(t,n,r){var l=xt();Zr(t,n,r,l)}function Zr(t,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))xm(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,r);if(u.hasEagerState=!0,u.eagerState=_,At(_,g))return Al(t,n,u,0),Ae===null&&Rl(),!1}catch{}finally{}if(r=lc(t,n,u,l),r!==null)return Mt(r,t,l),Mm(r,n,l),!0}return!1}function jc(t,n,r,l){if(l={lane:2,revertLane:Sf(),action:l,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(n)throw Error(a(479))}else n=lc(t,r,l,2),n!==null&&Mt(n,t,2)}function Gl(t){var n=t.alternate;return t===re||n!==null&&n===re}function xm(t,n){Ds=Pl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Mm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qd(t,r)}}var Yl={readContext:ot,use:Bl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},km={readContext:ot,use:Bl,useCallback:function(t,n){return _t().memoizedState=[t,n===void 0?null:n],t},useContext:ot,useEffect:_m,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Vl(4194308,4,Sm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Vl(4194308,4,t,n)},useInsertionEffect:function(t,n){Vl(4,2,t,n)},useMemo:function(t,n){var r=_t();n=n===void 0?null:n;var l=t();if(Fi){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=_t();if(r!==void 0){var u=r(n);if(Fi){Vn(!0);try{r(n)}finally{Vn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=iS.bind(null,re,t),[l.memoizedState,t]},useRef:function(t){var n=_t();return t={current:t},n.memoizedState=t},useState:function(t){t=Uc(t);var n=t.queue,r=Dm.bind(null,re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Pc,useDeferredValue:function(t,n){var r=_t();return Hc(r,t,n)},useTransition:function(){var t=Uc(!1);return t=Rm.bind(null,re,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=re,u=_t();if(ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ae===null)throw Error(a(349));(he&124)!==0||tm(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,_m(im.bind(null,l,f,t),[t]),l.flags|=2048,Ms(9,jl(),nm.bind(null,l,f,r,n),null),r},useId:function(){var t=_t(),n=Ae.identifierPrefix;if(ge){var r=yn,l=_n;r=(l&~(1<<32-Rt(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Hl++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Z1++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:qc,useFormState:hm,useActionState:hm,useOptimistic:function(t){var n=_t();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jc.bind(null,re,!0,r),r.dispatch=n,[t,n]},useMemoCache:Mc,useCacheRefresh:function(){return _t().memoizedState=nS.bind(null,re)}},Lm={readContext:ot,use:Bl,useCallback:Tm,useContext:ot,useEffect:ym,useImperativeHandle:bm,useInsertionEffect:vm,useLayoutEffect:Em,useMemo:Cm,useReducer:ql,useRef:gm,useState:function(){return ql(Sn)},useDebugValue:Pc,useDeferredValue:function(t,n){var r=qe();return wm(r,ve.memoizedState,t,n)},useTransition:function(){var t=ql(Sn)[0],n=qe().memoizedState;return[typeof t=="boolean"?t:Wr(t),n]},useSyncExternalStore:em,useId:Om,useHostTransitionStatus:qc,useFormState:dm,useActionState:dm,useOptimistic:function(t,n){var r=qe();return am(r,ve,t,n)},useMemoCache:Mc,useCacheRefresh:Im},sS={readContext:ot,use:Bl,useCallback:Tm,useContext:ot,useEffect:ym,useImperativeHandle:bm,useInsertionEffect:vm,useLayoutEffect:Em,useMemo:Cm,useReducer:Lc,useRef:gm,useState:function(){return Lc(Sn)},useDebugValue:Pc,useDeferredValue:function(t,n){var r=qe();return ve===null?Hc(r,t,n):wm(r,ve.memoizedState,t,n)},useTransition:function(){var t=Lc(Sn)[0],n=qe().memoizedState;return[typeof t=="boolean"?t:Wr(t),n]},useSyncExternalStore:em,useId:Om,useHostTransitionStatus:qc,useFormState:mm,useActionState:mm,useOptimistic:function(t,n){var r=qe();return ve!==null?am(r,ve,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Mc,useCacheRefresh:Im},ks=null,$r=0;function Fl(t){var n=$r;return $r+=1,ks===null&&(ks=[]),Fp(ks,t,n)}function Jr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ql(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Um(t){var n=t._init;return n(t._payload)}function zm(t){function n(C,T){if(t){var w=C.deletions;w===null?(C.deletions=[T],C.flags|=16):w.push(T)}}function r(C,T){if(!t)return null;for(;T!==null;)n(C,T),T=T.sibling;return null}function l(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function u(C,T){return C=gn(C,T),C.index=0,C.sibling=null,C}function f(C,T,w){return C.index=w,t?(w=C.alternate,w!==null?(w=w.index,w<T?(C.flags|=67108866,T):w):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function g(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function _(C,T,w,k){return T===null||T.tag!==6?(T=uc(w,C.mode,k),T.return=C,T):(T=u(T,w),T.return=C,T)}function S(C,T,w,k){var F=w.type;return F===D?x(C,T,w.props.children,k,w.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ke&&Um(F)===T.type)?(T=u(T,w.props),Jr(T,w),T.return=C,T):(T=Ol(w.type,w.key,w.props,null,C.mode,k),Jr(T,w),T.return=C,T)}function R(C,T,w,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=cc(w,C.mode,k),T.return=C,T):(T=u(T,w.children||[]),T.return=C,T)}function x(C,T,w,k,F){return T===null||T.tag!==7?(T=Pi(w,C.mode,k,F),T.return=C,T):(T=u(T,w),T.return=C,T)}function L(C,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=uc(""+T,C.mode,w),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return w=Ol(T.type,T.key,T.props,null,C.mode,w),Jr(w,T),w.return=C,w;case O:return T=cc(T,C.mode,w),T.return=C,T;case Ke:var k=T._init;return T=k(T._payload),L(C,T,w)}if(at(T)||rt(T))return T=Pi(T,C.mode,w,null),T.return=C,T;if(typeof T.then=="function")return L(C,Fl(T),w);if(T.$$typeof===K)return L(C,Ml(C,T),w);Ql(C,T)}return null}function A(C,T,w,k){var F=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return F!==null?null:_(C,T,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return w.key===F?S(C,T,w,k):null;case O:return w.key===F?R(C,T,w,k):null;case Ke:return F=w._init,w=F(w._payload),A(C,T,w,k)}if(at(w)||rt(w))return F!==null?null:x(C,T,w,k,null);if(typeof w.then=="function")return A(C,T,Fl(w),k);if(w.$$typeof===K)return A(C,T,Ml(C,w),k);Ql(C,w)}return null}function N(C,T,w,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return C=C.get(w)||null,_(T,C,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return C=C.get(k.key===null?w:k.key)||null,S(T,C,k,F);case O:return C=C.get(k.key===null?w:k.key)||null,R(T,C,k,F);case Ke:var ae=k._init;return k=ae(k._payload),N(C,T,w,k,F)}if(at(k)||rt(k))return C=C.get(w)||null,x(T,C,k,F,null);if(typeof k.then=="function")return N(C,T,w,Fl(k),F);if(k.$$typeof===K)return N(C,T,w,Ml(T,k),F);Ql(T,k)}return null}function te(C,T,w,k){for(var F=null,ae=null,Q=T,Z=T=0,$e=null;Q!==null&&Z<w.length;Z++){Q.index>Z?($e=Q,Q=null):$e=Q.sibling;var pe=A(C,Q,w[Z],k);if(pe===null){Q===null&&(Q=$e);break}t&&Q&&pe.alternate===null&&n(C,Q),T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe,Q=$e}if(Z===w.length)return r(C,Q),ge&&Bi(C,Z),F;if(Q===null){for(;Z<w.length;Z++)Q=L(C,w[Z],k),Q!==null&&(T=f(Q,T,Z),ae===null?F=Q:ae.sibling=Q,ae=Q);return ge&&Bi(C,Z),F}for(Q=l(Q);Z<w.length;Z++)$e=N(Q,C,Z,w[Z],k),$e!==null&&(t&&$e.alternate!==null&&Q.delete($e.key===null?Z:$e.key),T=f($e,T,Z),ae===null?F=$e:ae.sibling=$e,ae=$e);return t&&Q.forEach(function(hi){return n(C,hi)}),ge&&Bi(C,Z),F}function X(C,T,w,k){if(w==null)throw Error(a(151));for(var F=null,ae=null,Q=T,Z=T=0,$e=null,pe=w.next();Q!==null&&!pe.done;Z++,pe=w.next()){Q.index>Z?($e=Q,Q=null):$e=Q.sibling;var hi=A(C,Q,pe.value,k);if(hi===null){Q===null&&(Q=$e);break}t&&Q&&hi.alternate===null&&n(C,Q),T=f(hi,T,Z),ae===null?F=hi:ae.sibling=hi,ae=hi,Q=$e}if(pe.done)return r(C,Q),ge&&Bi(C,Z),F;if(Q===null){for(;!pe.done;Z++,pe=w.next())pe=L(C,pe.value,k),pe!==null&&(T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe);return ge&&Bi(C,Z),F}for(Q=l(Q);!pe.done;Z++,pe=w.next())pe=N(Q,C,Z,pe.value,k),pe!==null&&(t&&pe.alternate!==null&&Q.delete(pe.key===null?Z:pe.key),T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe);return t&&Q.forEach(function(rb){return n(C,rb)}),ge&&Bi(C,Z),F}function Se(C,T,w,k){if(typeof w=="object"&&w!==null&&w.type===D&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case E:e:{for(var F=w.key;T!==null;){if(T.key===F){if(F=w.type,F===D){if(T.tag===7){r(C,T.sibling),k=u(T,w.props.children),k.return=C,C=k;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ke&&Um(F)===T.type){r(C,T.sibling),k=u(T,w.props),Jr(k,w),k.return=C,C=k;break e}r(C,T);break}else n(C,T);T=T.sibling}w.type===D?(k=Pi(w.props.children,C.mode,k,w.key),k.return=C,C=k):(k=Ol(w.type,w.key,w.props,null,C.mode,k),Jr(k,w),k.return=C,C=k)}return g(C);case O:e:{for(F=w.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){r(C,T.sibling),k=u(T,w.children||[]),k.return=C,C=k;break e}else{r(C,T);break}else n(C,T);T=T.sibling}k=cc(w,C.mode,k),k.return=C,C=k}return g(C);case Ke:return F=w._init,w=F(w._payload),Se(C,T,w,k)}if(at(w))return te(C,T,w,k);if(rt(w)){if(F=rt(w),typeof F!="function")throw Error(a(150));return w=F.call(w),X(C,T,w,k)}if(typeof w.then=="function")return Se(C,T,Fl(w),k);if(w.$$typeof===K)return Se(C,T,Ml(C,w),k);Ql(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(r(C,T.sibling),k=u(T,w),k.return=C,C=k):(r(C,T),k=uc(w,C.mode,k),k.return=C,C=k),g(C)):r(C,T)}return function(C,T,w,k){try{$r=0;var F=Se(C,T,w,k);return ks=null,F}catch(Q){if(Q===Vr||Q===Ll)throw Q;var ae=Nt(29,Q,null,C.mode);return ae.lanes=k,ae.return=C,ae}finally{}}}var Ls=zm(!0),Pm=zm(!1),qt=z(null),ln=null;function Zn(t){var n=t.alternate;j(Ge,Ge.current&1),j(qt,t),ln===null&&(n===null||Is.current!==null||n.memoizedState!==null)&&(ln=t)}function Hm(t){if(t.tag===22){if(j(Ge,Ge.current),j(qt,t),ln===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ln=t)}}else $n()}function $n(){j(Ge,Ge.current),j(qt,qt.current)}function bn(t){Y(qt),ln===t&&(ln=null),Y(Ge)}var Ge=z(0);function Kl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Mf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=xt(),u=Kn(l);u.payload=n,r!=null&&(u.callback=r),n=Wn(t,u,l),n!==null&&(Mt(n,t,l),Yr(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=xt(),u=Kn(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Wn(t,u,l),n!==null&&(Mt(n,t,l),Yr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=xt(),l=Kn(r);l.tag=2,n!=null&&(l.callback=n),n=Wn(t,l,r),n!==null&&(Mt(n,t,r),Yr(n,t,r))}};function Bm(t,n,r,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lr(r,l)||!Lr(u,f):!0}function qm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Gc.enqueueReplaceState(n,n.state,null)}function Qi(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=y({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}var Wl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jm(t){Wl(t)}function Vm(t){console.error(t)}function Gm(t){Wl(t)}function Xl(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ym(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Yc(t,n,r){return r=Kn(r),r.tag=3,r.payload={element:null},r.callback=function(){Xl(t,n)},r}function Fm(t){return t=Kn(t),t.tag=3,t}function Qm(t,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Ym(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ym(n,r,l),typeof u!="function"&&(si===null?si=new Set([this]):si.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function rS(t,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Br(n,r,u,!0),r=qt.current,r!==null){switch(r.tag){case 13:return ln===null?gf():r.alternate===null&&Ue===0&&(Ue=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===Ec?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),yf(t,l,u)),!1;case 22:return r.flags|=65536,l===Ec?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),yf(t,l,u)),!1}throw Error(a(435,r.tag))}return yf(t,l,u),gf(),!1}if(ge)return n=qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==dc&&(t=Error(a(422),{cause:l}),Hr(zt(t,r)))):(l!==dc&&(n=Error(a(423),{cause:l}),Hr(zt(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=zt(l,r),u=Yc(t.stateNode,l,u),Tc(t,u),Ue!==4&&(Ue=2)),!1;var f=Error(a(520),{cause:l});if(f=zt(f,r),aa===null?aa=[f]:aa.push(f),Ue!==4&&(Ue=2),n===null)return!0;l=zt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=Yc(r.stateNode,l,t),Tc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(si===null||!si.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Fm(u),Qm(u,t,r,l),Tc(r,u),!1}r=r.return}while(r!==null);return!1}var Km=Error(a(461)),Xe=!1;function nt(t,n,r,l){n.child=t===null?Pm(n,null,r,l):Ls(n,t.child,r,l)}function Wm(t,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Gi(n),l=Nc(t,n,r,g,f,u),_=Oc(),t!==null&&!Xe?(Ic(t,n,u),Tn(t,n,u)):(ge&&_&&fc(n),n.flags|=1,nt(t,n,l,u),n.child)}function Xm(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!oc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Zm(t,n,f,l,u)):(t=Ol(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jc(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lr,r(g,l)&&t.ref===n.ref)return Tn(t,n,u)}return n.flags|=1,t=gn(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zm(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(Lr(f,l)&&t.ref===n.ref)if(Xe=!1,n.pendingProps=l=f,Jc(t,u))(t.flags&131072)!==0&&(Xe=!0);else return n.lanes=t.lanes,Tn(t,n,u)}return Fc(t,n,r,l,u)}function $m(t,n,r){var l=n.pendingProps,u=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Jm(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&kl(n,f!==null?f.cachePool:null),f!==null?Zp(n,f):wc(),Hm(n);else return n.lanes=n.childLanes=536870912,Jm(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(kl(n,f.cachePool),Zp(n,f),$n(),n.memoizedState=null):(t!==null&&kl(n,null),wc(),$n());return nt(t,n,u,r),n.child}function Jm(t,n,r,l){var u=vc();return u=u===null?null:{parent:Ve._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},t!==null&&kl(n,null),wc(),Hm(n),t!==null&&Br(t,n,l,!0),null}function Zl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Fc(t,n,r,l,u){return Gi(n),r=Nc(t,n,r,l,void 0,u),l=Oc(),t!==null&&!Xe?(Ic(t,n,u),Tn(t,n,u)):(ge&&l&&fc(n),n.flags|=1,nt(t,n,r,u),n.child)}function eg(t,n,r,l,u,f){return Gi(n),n.updateQueue=null,r=Jp(n,l,r,u),$p(t),l=Oc(),t!==null&&!Xe?(Ic(t,n,f),Tn(t,n,f)):(ge&&l&&fc(n),n.flags|=1,nt(t,n,r,f),n.child)}function tg(t,n,r,l,u){if(Gi(n),n.stateNode===null){var f=ws,g=r.contextType;typeof g=="object"&&g!==null&&(f=ot(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sc(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ot(g):ws,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Gc.enqueueReplaceState(f,f.state,null),Qr(n,l,f,u),Fr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var _=n.memoizedProps,S=Qi(r,_);f.props=S;var R=f.context,x=r.contextType;g=ws,typeof x=="object"&&x!==null&&(g=ot(x));var L=r.getDerivedStateFromProps;x=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,x||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==g)&&qm(n,f,l,g),Qn=!1;var A=n.memoizedState;f.state=A,Qr(n,l,f,u),Fr(),R=n.memoizedState,_||A!==R||Qn?(typeof L=="function"&&(Vc(n,r,L,l),R=n.memoizedState),(S=Qn||Bm(n,r,S,l,A,R,g))?(x||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=g,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,bc(t,n),g=n.memoizedProps,x=Qi(r,g),f.props=x,L=n.pendingProps,A=f.context,R=r.contextType,S=ws,typeof R=="object"&&R!==null&&(S=ot(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==L||A!==S)&&qm(n,f,l,S),Qn=!1,A=n.memoizedState,f.state=A,Qr(n,l,f,u),Fr();var N=n.memoizedState;g!==L||A!==N||Qn||t!==null&&t.dependencies!==null&&xl(t.dependencies)?(typeof _=="function"&&(Vc(n,r,_,l),N=n.memoizedState),(x=Qn||Bm(n,r,x,l,A,N,S)||t!==null&&t.dependencies!==null&&xl(t.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=S,l=x):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ls(n,t.child,null,u),n.child=Ls(n,null,r,u)):nt(t,n,r,u),n.memoizedState=f.state,t=n.child):t=Tn(t,n,u),t}function ng(t,n,r,l){return Pr(),n.flags|=256,nt(t,n,r,l),n.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(t){return{baseLanes:t,cachePool:Vp()}}function Wc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=jt),t}function ig(t,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ge.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ge){if(u?Zn(n):$n(),ge){var _=Le,S;if(S=_){e:{for(S=_,_=an;S.nodeType!==8;){if(!_){_=null;break e}if(S=Qt(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(n.memoizedState={dehydrated:_,treeContext:Hi!==null?{id:_n,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},S=Nt(18,null,null,0),S.stateNode=_,S.return=n,n.child=S,ht=n,Le=null,S=!0):S=!1}S||ji(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Mf(_)?n.lanes=32:n.lanes=536870912,null;bn(n)}return _=l.children,l=l.fallback,u?($n(),u=n.mode,_=$l({mode:"hidden",children:_},u),l=Pi(l,u,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=Kc(r),u.childLanes=Wc(t,g,r),n.memoizedState=Qc,l):(Zn(n),Xc(n,_))}if(S=t.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(f)n.flags&256?(Zn(n),n.flags&=-257,n=Zc(t,n,r)):n.memoizedState!==null?($n(),n.child=t.child,n.flags|=128,n=null):($n(),u=l.fallback,_=n.mode,l=$l({mode:"visible",children:l.children},_),u=Pi(u,_,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Ls(n,t.child,null,r),l=n.child,l.memoizedState=Kc(r),l.childLanes=Wc(t,g,r),n.memoizedState=Qc,n=u);else if(Zn(n),Mf(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(a(419)),l.stack="",l.digest=g,Hr({value:l,source:null,stack:null}),n=Zc(t,n,r)}else if(Xe||Br(t,n,r,!1),g=(r&t.childLanes)!==0,Xe||g){if(g=Ae,g!==null&&(l=r&-r,l=(l&42)!==0?1:Mu(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Cs(t,l),Mt(g,t,l),Km;_.data==="$?"||gf(),n=Zc(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,Le=Qt(_.nextSibling),ht=n,ge=!0,qi=null,an=!1,t!==null&&(Ht[Bt++]=_n,Ht[Bt++]=yn,Ht[Bt++]=Hi,_n=t.id,yn=t.overflow,Hi=n),n=Xc(n,l.children),n.flags|=4096);return n}return u?($n(),u=l.fallback,_=n.mode,S=t.child,R=S.sibling,l=gn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,R!==null?u=gn(R,u):(u=Pi(u,_,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=t.child.memoizedState,_===null?_=Kc(r):(S=_.cachePool,S!==null?(R=Ve._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=Vp(),_={baseLanes:_.baseLanes|r,cachePool:S}),u.memoizedState=_,u.childLanes=Wc(t,g,r),n.memoizedState=Qc,l):(Zn(n),r=t.child,t=r.sibling,r=gn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Xc(t,n){return n=$l({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $l(t,n){return t=Nt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zc(t,n,r){return Ls(n,t.child,null,r),t=Xc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mc(t.return,n,r)}function $c(t,n,r,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function rg(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(nt(t,n,l.children,r),l=Ge.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,r,n);else if(t.tag===19)sg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(j(Ge,l),u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Kl(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),$c(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Kl(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}$c(n,!0,r,null,f);break;case"together":$c(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ii|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Br(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Jc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xl(t)))}function aS(t,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Fn(n,Ve,t.memoizedState.cache),Pr();break;case 27:case 5:Nu(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Fn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zn(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ig(t,n,r):(Zn(n),t=Tn(t,n,r),t!==null?t.sibling:null);Zn(n);break;case 19:var u=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Br(t,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return rg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(Ge,Ge.current),l)break;return null;case 22:case 23:return n.lanes=0,$m(t,n,r);case 24:Fn(n,Ve,t.memoizedState.cache)}return Tn(t,n,r)}function ag(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Jc(t,r)&&(n.flags&128)===0)return Xe=!1,aS(t,n,r);Xe=(t.flags&131072)!==0}else Xe=!1,ge&&(n.flags&1048576)!==0&&Up(n,Dl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")oc(l)?(t=Qi(l,t),n.tag=1,n=tg(null,n,l,t,r)):(n.tag=0,n=Fc(null,n,l,t,r));else{if(l!=null){if(u=l.$$typeof,u===Te){n.tag=11,n=Wm(null,n,l,t,r);break e}else if(u===je){n.tag=14,n=Xm(null,n,l,t,r);break e}}throw n=xi(l)||l,Error(a(306,n,""))}}return n;case 0:return Fc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=Qi(l,n.pendingProps),tg(t,n,l,u,r);case 3:e:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,bc(t,n),Qr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Fn(n,Ve,l),l!==f.cache&&gc(n,[Ve],r,!0),Fr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ng(t,n,l,r);break e}else if(l!==u){u=zt(Error(a(424)),n),Hr(u),n=ng(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=Qt(t.firstChild),ht=n,ge=!0,qi=null,an=!0,r=Pm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Pr(),l===u){n=Tn(t,n,r);break e}nt(t,n,l,r)}n=n.child}return n;case 26:return Zl(t,n),t===null?(r=c_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ge||(r=n.type,t=n.pendingProps,l=ho(ie.current).createElement(r),l[lt]=n,l[mt]=t,st(l,r,t),We(l),n.stateNode=l):n.memoizedState=c_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Nu(n),t===null&&ge&&(l=n.stateNode=l_(n.type,n.pendingProps,ie.current),ht=n,an=!0,u=Le,li(n.type)?(kf=u,Le=Qt(l.firstChild)):Le=u),nt(t,n,n.pendingProps.children,r),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ge&&((u=l=Le)&&(l=kS(l,n.type,n.pendingProps,an),l!==null?(n.stateNode=l,ht=n,Le=Qt(l.firstChild),an=!1,u=!0):u=!1),u||ji(n)),Nu(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,If(u,f)?l=null:g!==null&&If(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Nc(t,n,$1,null,null,r),ma._currentValue=u),Zl(t,n),nt(t,n,l,r),n.child;case 6:return t===null&&ge&&((t=r=Le)&&(r=LS(r,n.pendingProps,an),r!==null?(n.stateNode=r,ht=n,Le=null,t=!0):t=!1),t||ji(n)),null;case 13:return ig(t,n,r);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ls(n,null,l,r):nt(t,n,l,r),n.child;case 11:return Wm(t,n,n.type,n.pendingProps,r);case 7:return nt(t,n,n.pendingProps,r),n.child;case 8:return nt(t,n,n.pendingProps.children,r),n.child;case 12:return nt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fn(n,n.type,l.value),nt(t,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Gi(n),u=ot(u),l=l(u),n.flags|=1,nt(t,n,l,r),n.child;case 14:return Xm(t,n,n.type,n.pendingProps,r);case 15:return Zm(t,n,n.type,n.pendingProps,r);case 19:return rg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=$l(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gn(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return $m(t,n,r);case 24:return Gi(n),l=ot(Ve),t===null?(u=vc(),u===null&&(u=Ae,f=_c(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},Sc(n),Fn(n,Ve,u)):((t.lanes&r)!==0&&(bc(t,n),Qr(n,null,null,r),Fr()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Fn(n,Ve,l)):(l=f.cache,Fn(n,Ve,l),l!==u.cache&&gc(n,[Ve],r,!0))),nt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Cn(t){t.flags|=4}function lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n)){if(n=qt.current,n!==null&&((he&4194048)===he?ln!==null:(he&62914560)!==he&&(he&536870912)===0||n!==ln))throw Gr=Ec,Gp;t.flags|=8192}}function Jl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hd():536870912,t.lanes|=n,Hs|=n)}function ea(t,n){if(!ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Me(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function lS(t,n,r){var l=n.pendingProps;switch(hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(n),null;case 1:return Me(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),En(Ve),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zr(n)?Cn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hp())),Me(n),null;case 26:return r=n.memoizedState,t===null?(Cn(n),r!==null?(Me(n),lg(n,r)):(Me(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Cn(n),Me(n),lg(n,r)):(Me(n),n.flags&=-16777217):(t.memoizedProps!==l&&Cn(n),Me(n),n.flags&=-16777217),null;case 27:cl(n),r=ie.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Cn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Me(n),null}t=W.current,zr(n)?zp(n):(t=l_(u,l,r),n.stateNode=t,Cn(n))}return Me(n),null;case 5:if(cl(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Cn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Me(n),null}if(t=W.current,zr(n))zp(n);else{switch(u=ho(ie.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}t[lt]=n,t[mt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(st(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Cn(n)}}return Me(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Cn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ie.current,zr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,u=ht,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[lt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,r)),t||ji(n)}else t=ho(t).createTextNode(l),t[lt]=n,n.stateNode=t}return Me(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=zr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[lt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Me(n),u=!1}else u=Hp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(bn(n),n):(bn(n),null)}if(bn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Jl(n,n.updateQueue),Me(n),null;case 4:return jn(),t===null&&wf(n.stateNode.containerInfo),Me(n),null;case 10:return En(n.type),Me(n),null;case 19:if(Y(Ge),u=n.memoizedState,u===null)return Me(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)ea(u,!1);else{if(Ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Kl(t),f!==null){for(n.flags|=128,ea(u,!1),t=f.updateQueue,n.updateQueue=t,Jl(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lp(r,t),r=r.sibling;return j(Ge,Ge.current&1|2),n.child}t=t.sibling}u.tail!==null&&rn()>no&&(n.flags|=128,l=!0,ea(u,!1),n.lanes=4194304)}else{if(!l)if(t=Kl(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Jl(n,t),ea(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!ge)return Me(n),null}else 2*rn()-u.renderingStartTime>no&&r!==536870912&&(n.flags|=128,l=!0,ea(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(t=u.last,t!==null?t.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=rn(),n.sibling=null,t=Ge.current,j(Ge,l?t&1|2:t&1),n):(Me(n),null);case 22:case 23:return bn(n),Rc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Me(n),n.subtreeFlags&6&&(n.flags|=8192)):Me(n),r=n.updateQueue,r!==null&&Jl(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Yi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),En(Ve),Me(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function oS(t,n){switch(hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return En(Ve),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cl(n),null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ge),null;case 4:return jn(),null;case 10:return En(n.type),null;case 22:case 23:return bn(n),Rc(),t!==null&&Y(Yi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return En(Ve),null;case 25:return null;default:return null}}function og(t,n){switch(hc(n),n.tag){case 3:En(Ve),jn();break;case 26:case 27:case 5:cl(n);break;case 4:jn();break;case 13:bn(n);break;case 19:Y(Ge);break;case 10:En(n.type);break;case 22:case 23:bn(n),Rc(),t!==null&&Y(Yi);break;case 24:En(Ve)}}function ta(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(_){we(n,n.return,_)}}function Jn(t,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var S=r,R=_;try{R()}catch(x){we(u,S,x)}}}l=l.next}while(l!==f)}}catch(x){we(n,n.return,x)}}function ug(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Xp(n,r)}catch(l){we(t,t.return,l)}}}function cg(t,n,r){r.props=Qi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){we(t,n,l)}}function na(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(u){we(t,n,u)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){we(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){we(t,n,u)}else r.current=null}function fg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){we(t,t.return,u)}}function ef(t,n,r){try{var l=t.stateNode;OS(l,t.type,r,n),l[mt]=n}catch(u){we(t,t.return,u)}}function hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fo));else if(l!==4&&(l===27&&li(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(nf(t,n,r),t=t.sibling;t!==null;)nf(t,n,r),t=t.sibling}function eo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&li(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(eo(t,n,r),t=t.sibling;t!==null;)eo(t,n,r),t=t.sibling}function dg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);st(n,l,r),n[lt]=t,n[mt]=r}catch(f){we(t,t.return,f)}}var wn=!1,He=!1,sf=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function uS(t,n){if(t=t.containerInfo,Nf=vo,t=wp(t),tc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,_=-1,S=-1,R=0,x=0,L=t,A=null;t:for(;;){for(var N;L!==r||u!==0&&L.nodeType!==3||(_=g+u),L!==f||l!==0&&L.nodeType!==3||(S=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(N=L.firstChild)!==null;)A=L,L=N;for(;;){if(L===t)break t;if(A===r&&++R===u&&(_=g),A===f&&++x===l&&(S=g),(N=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=N}r=_===-1||S===-1?null:{start:_,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Of={focusedElem:t,selectionRange:r},vo=!1,Ze=n;Ze!==null;)if(n=Ze,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ze=t;else for(;Ze!==null;){switch(n=Ze,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var te=Qi(r.type,u,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(te,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(X){we(r,r.return,X)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ze=t;break}Ze=n.return}}function mg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ei(t,r),l&4&&ta(5,r);break;case 1:if(ei(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){we(r,r.return,g)}else{var u=Qi(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){we(r,r.return,g)}}l&64&&ug(r),l&512&&na(r,r.return);break;case 3:if(ei(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Xp(t,n)}catch(g){we(r,r.return,g)}}break;case 27:n===null&&l&4&&dg(r);case 26:case 5:ei(t,r),n===null&&l&4&&fg(r),l&512&&na(r,r.return);break;case 12:ei(t,r);break;case 13:ei(t,r),l&4&&yg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=yS.bind(null,r),US(t,r))));break;case 22:if(l=r.memoizedState!==null||wn,!l){n=n!==null&&n.memoizedState!==null||He,u=wn;var f=He;wn=l,(He=n)&&!f?ti(t,r,(r.subtreeFlags&8772)!==0):ei(t,r),wn=u,He=f}break;case 30:break;default:ei(t,r)}}function gg(t){var n=t.alternate;n!==null&&(t.alternate=null,gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Uu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var De=null,yt=!1;function Rn(t,n,r){for(r=r.child;r!==null;)_g(t,n,r),r=r.sibling}function _g(t,n,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Tr,r)}catch{}switch(r.tag){case 26:He||on(r,n),Rn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:He||on(r,n);var l=De,u=yt;li(r.type)&&(De=r.stateNode,yt=!1),Rn(t,n,r),fa(r.stateNode),De=l,yt=u;break;case 5:He||on(r,n);case 6:if(l=De,u=yt,De=null,Rn(t,n,r),De=l,yt=u,De!==null)if(yt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(r.stateNode)}catch(f){we(r,n,f)}else try{De.removeChild(r.stateNode)}catch(f){we(r,n,f)}break;case 18:De!==null&&(yt?(t=De,r_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),va(t)):r_(De,r.stateNode));break;case 4:l=De,u=yt,De=r.stateNode.containerInfo,yt=!0,Rn(t,n,r),De=l,yt=u;break;case 0:case 11:case 14:case 15:He||Jn(2,r,n),He||Jn(4,r,n),Rn(t,n,r);break;case 1:He||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cg(r,n,l)),Rn(t,n,r);break;case 21:Rn(t,n,r);break;case 22:He=(l=He)||r.memoizedState!==null,Rn(t,n,r),He=l;break;default:Rn(t,n,r)}}function yg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{va(t)}catch(r){we(n,n.return,r)}}function cS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(a(435,t.tag))}}function rf(t,n){var r=cS(t);n.forEach(function(l){var u=vS.bind(null,t,l);r.has(l)||(r.add(l),l.then(u,u))})}function Ot(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(li(_.type)){De=_.stateNode,yt=!1;break e}break;case 5:De=_.stateNode,yt=!1;break e;case 3:case 4:De=_.stateNode.containerInfo,yt=!0;break e}_=_.return}if(De===null)throw Error(a(160));_g(f,g,u),De=null,yt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)vg(n,t),n=n.sibling}var Ft=null;function vg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ot(n,t),It(t),l&4&&(Jn(3,t,t.return),ta(3,t),Jn(5,t,t.return));break;case 1:Ot(n,t),It(t),l&512&&(He||r===null||on(r,r.return)),l&64&&wn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=Ft;if(Ot(n,t),It(t),l&512&&(He||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Rr]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),st(f,l,r),f[lt]=t,We(f),l=f;break e;case"link":var g=d_("link","href",u).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),st(f,l,r),u.head.appendChild(f);break;case"meta":if(g=d_("meta","content",u).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}f=u.createElement(l),st(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[lt]=t,We(f),l=f}t.stateNode=l}else p_(u,t.type,t.stateNode);else t.stateNode=h_(u,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?p_(u,t.type,t.stateNode):h_(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ef(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ot(n,t),It(t),l&512&&(He||r===null||on(r,r.return)),r!==null&&l&4&&ef(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ot(n,t),It(t),l&512&&(He||r===null||on(r,r.return)),t.flags&32){u=t.stateNode;try{_s(u,"")}catch(N){we(t,t.return,N)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,ef(t,u,r!==null?r.memoizedProps:u)),l&1024&&(sf=!0);break;case 6:if(Ot(n,t),It(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(N){we(t,t.return,N)}}break;case 3:if(go=null,u=Ft,Ft=po(n.containerInfo),Ot(n,t),Ft=u,It(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{va(n.containerInfo)}catch(N){we(t,t.return,N)}sf&&(sf=!1,Eg(t));break;case 4:l=Ft,Ft=po(t.stateNode.containerInfo),Ot(n,t),It(t),Ft=l;break;case 12:Ot(n,t),It(t);break;case 13:Ot(n,t),It(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ff=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:u=t.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,R=wn,x=He;if(wn=R||u,He=x||S,Ot(n,t),He=x,wn=R,It(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||S||wn||He||Ki(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){S=r=n;try{if(f=S.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=S.stateNode;var L=S.memoizedProps.style,A=L!=null&&L.hasOwnProperty("display")?L.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(N){we(S,S.return,N)}}}else if(n.tag===6){if(r===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(N){we(S,S.return,N)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rf(t,r))));break;case 19:Ot(n,t),It(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:Ot(n,t),It(t)}}function It(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(hg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,f=tf(t);eo(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(_s(g,""),r.flags&=-33);var _=tf(t);eo(t,_,g);break;case 3:case 4:var S=r.stateNode.containerInfo,R=tf(t);nf(t,R,S);break;default:throw Error(a(161))}}catch(x){we(t,t.return,x)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Eg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Eg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ei(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mg(t,n.alternate,n),n=n.sibling}function Ki(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Jn(4,n,n.return),Ki(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cg(n,n.return,r),Ki(n);break;case 27:fa(n.stateNode);case 26:case 5:on(n,n.return),Ki(n);break;case 22:n.memoizedState===null&&Ki(n);break;case 30:Ki(n);break;default:Ki(n)}t=t.sibling}}function ti(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ti(u,f,r),ta(4,f);break;case 1:if(ti(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){we(l,l.return,R)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Wp(S[u],_)}catch(R){we(l,l.return,R)}}r&&g&64&&ug(f),na(f,f.return);break;case 27:dg(f);case 26:case 5:ti(u,f,r),r&&l===null&&g&4&&fg(f),na(f,f.return);break;case 12:ti(u,f,r);break;case 13:ti(u,f,r),r&&g&4&&yg(u,f);break;case 22:f.memoizedState===null&&ti(u,f,r),na(f,f.return);break;case 30:break;default:ti(u,f,r)}n=n.sibling}}function af(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&qr(r))}function lf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qr(t))}function un(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sg(t,n,r,l),n=n.sibling}function Sg(t,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:un(t,n,r,l),u&2048&&ta(9,n);break;case 1:un(t,n,r,l);break;case 3:un(t,n,r,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qr(t)));break;case 12:if(u&2048){un(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){we(n,n.return,S)}}else un(t,n,r,l);break;case 13:un(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?un(t,n,r,l):ia(t,n):f._visibility&2?un(t,n,r,l):(f._visibility|=2,Us(t,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&af(g,n);break;case 24:un(t,n,r,l),u&2048&&lf(n.alternate,n);break;default:un(t,n,r,l)}}function Us(t,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,g=n,_=r,S=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:Us(f,g,_,S,u),ta(8,g);break;case 23:break;case 22:var x=g.stateNode;g.memoizedState!==null?x._visibility&2?Us(f,g,_,S,u):ia(f,g):(x._visibility|=2,Us(f,g,_,S,u)),u&&R&2048&&af(g.alternate,g);break;case 24:Us(f,g,_,S,u),u&&R&2048&&lf(g.alternate,g);break;default:Us(f,g,_,S,u)}n=n.sibling}}function ia(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,u=l.flags;switch(l.tag){case 22:ia(r,l),u&2048&&af(l.alternate,l);break;case 24:ia(r,l),u&2048&&lf(l.alternate,l);break;default:ia(r,l)}n=n.sibling}}var sa=8192;function zs(t){if(t.subtreeFlags&sa)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 26:zs(t),t.flags&sa&&t.memoizedState!==null&&WS(Ft,t.memoizedState,t.memoizedProps);break;case 5:zs(t);break;case 3:case 4:var n=Ft;Ft=po(t.stateNode.containerInfo),zs(t),Ft=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=sa,sa=16777216,zs(t),sa=n):zs(t));break;default:zs(t)}}function Tg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ra(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ze=l,wg(l,t)}Tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 0:case 11:case 15:ra(t),t.flags&2048&&Jn(9,t,t.return);break;case 3:ra(t);break;case 12:ra(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,to(t)):ra(t);break;default:ra(t)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ze=l,wg(l,t)}Tg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Jn(8,n,n.return),to(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,to(n));break;default:to(n)}t=t.sibling}}function wg(t,n){for(;Ze!==null;){var r=Ze;switch(r.tag){case 0:case 11:case 15:Jn(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ze=l;else e:for(r=t;Ze!==null;){l=Ze;var u=l.sibling,f=l.return;if(gg(l),l===r){Ze=null;break e}if(u!==null){u.return=f,Ze=u;break e}Ze=f}}}var fS={getCacheForType:function(t){var n=ot(Ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},hS=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ae=null,oe=null,he=0,ye=0,Dt=null,ni=!1,Ps=!1,of=!1,An=0,Ue=0,ii=0,Wi=0,uf=0,jt=0,Hs=0,aa=null,vt=null,cf=!1,ff=0,no=1/0,io=null,si=null,it=0,ri=null,Bs=null,qs=0,hf=0,df=null,Rg=null,la=0,pf=null;function xt(){if((_e&2)!==0&&he!==0)return he&-he;if(M.T!==null){var t=Ns;return t!==0?t:Sf()}return jd()}function Ag(){jt===0&&(jt=(he&536870912)===0||ge?Pd():536870912);var t=qt.current;return t!==null&&(t.flags|=32),jt}function Mt(t,n,r){(t===Ae&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(js(t,0),ai(t,he,jt,!1)),wr(t,r),((_e&2)===0||t!==Ae)&&(t===Ae&&((_e&2)===0&&(Wi|=r),Ue===4&&ai(t,he,jt,!1)),cn(t))}function Ng(t,n,r){if((_e&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Cr(t,n),u=l?mS(t,n):_f(t,n,!0),f=l;do{if(u===0){Ps&&!l&&ai(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!dS(r)){u=_f(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;u=aa;var S=_.current.memoizedState.isDehydrated;if(S&&(js(_,g).flags|=256),g=_f(_,g,!1),g!==2){if(of&&!S){_.errorRecoveryDisabledLanes|=f,Wi|=f,u=4;break e}f=vt,vt=u,f!==null&&(vt===null?vt=f:vt.push.apply(vt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){js(t,0),ai(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ai(l,n,jt,!ni);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=ff+300-rn(),10<u)){if(ai(l,n,jt,!ni),pl(l,0,!0)!==0)break e;l.timeoutHandle=i_(Og.bind(null,l,r,vt,io,cf,n,jt,Wi,Hs,ni,f,2,-0,0),u);break e}Og(l,r,vt,io,cf,n,jt,Wi,Hs,ni,f,0,-0,0)}}break}while(!0);cn(t)}function Og(t,n,r,l,u,f,g,_,S,R,x,L,A,N){if(t.timeoutHandle=-1,L=n.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(pa={stylesheets:null,count:0,unsuspend:KS},bg(n),L=XS(),L!==null)){t.cancelPendingCommit=L(Ug.bind(null,t,n,f,r,l,u,g,_,S,x,1,A,N)),ai(t,f,g,!R);return}Ug(t,n,f,r,l,u,g,_,S)}function dS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!At(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ai(t,n,r,l){n&=~uf,n&=~Wi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-Rt(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&Bd(t,r,n)}function so(){return(_e&6)===0?(oa(0),!1):!0}function mf(){if(oe!==null){if(ye===0)var t=oe.return;else t=oe,vn=Vi=null,Dc(t),ks=null,$r=0,t=oe;for(;t!==null;)og(t.alternate,t),t=t.return;oe=null}}function js(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,DS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),mf(),Ae=t,oe=r=gn(t.current,null),he=n,ye=0,Dt=null,ni=!1,Ps=Cr(t,n),of=!1,Hs=jt=uf=Wi=ii=Ue=0,vt=aa=null,cf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Rt(l),f=1<<u;n|=t[u],l&=~f}return An=n,Rl(),r}function Ig(t,n){re=null,M.H=Yl,n===Vr||n===Ll?(n=Qp(),ye=3):n===Gp?(n=Qp(),ye=4):ye=n===Km?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,oe===null&&(Ue=1,Xl(t,zt(n,t.current)))}function Dg(){var t=M.H;return M.H=Yl,t===null?Yl:t}function xg(){var t=M.A;return M.A=fS,t}function gf(){Ue=4,ni||(he&4194048)!==he&&qt.current!==null||(Ps=!0),(ii&134217727)===0&&(Wi&134217727)===0||Ae===null||ai(Ae,he,jt,!1)}function _f(t,n,r){var l=_e;_e|=2;var u=Dg(),f=xg();(Ae!==t||he!==n)&&(io=null,js(t,n)),n=!1;var g=Ue;e:do try{if(ye!==0&&oe!==null){var _=oe,S=Dt;switch(ye){case 8:mf(),g=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(n=!0);var R=ye;if(ye=0,Dt=null,Vs(t,_,S,R),r&&Ps){g=0;break e}break;default:R=ye,ye=0,Dt=null,Vs(t,_,S,R)}}pS(),g=Ue;break}catch(x){Ig(t,x)}while(!0);return n&&t.shellSuspendCounter++,vn=Vi=null,_e=l,M.H=u,M.A=f,oe===null&&(Ae=null,he=0,Rl()),g}function pS(){for(;oe!==null;)Mg(oe)}function mS(t,n){var r=_e;_e|=2;var l=Dg(),u=xg();Ae!==t||he!==n?(io=null,no=rn()+500,js(t,n)):Ps=Cr(t,n);e:do try{if(ye!==0&&oe!==null){n=oe;var f=Dt;t:switch(ye){case 1:ye=0,Dt=null,Vs(t,n,f,1);break;case 2:case 9:if(Yp(f)){ye=0,Dt=null,kg(n);break}n=function(){ye!==2&&ye!==9||Ae!==t||(ye=7),cn(t)},f.then(n,n);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Yp(f)?(ye=0,Dt=null,kg(n)):(ye=0,Dt=null,Vs(t,n,f,7));break;case 5:var g=null;switch(oe.tag){case 26:g=oe.memoizedState;case 5:case 27:var _=oe;if(!g||m_(g)){ye=0,Dt=null;var S=_.sibling;if(S!==null)oe=S;else{var R=_.return;R!==null?(oe=R,ro(R)):oe=null}break t}}ye=0,Dt=null,Vs(t,n,f,5);break;case 6:ye=0,Dt=null,Vs(t,n,f,6);break;case 8:mf(),Ue=6;break e;default:throw Error(a(462))}}gS();break}catch(x){Ig(t,x)}while(!0);return vn=Vi=null,M.H=l,M.A=u,_e=r,oe!==null?0:(Ae=null,he=0,Rl(),Ue)}function gS(){for(;oe!==null&&!PE();)Mg(oe)}function Mg(t){var n=ag(t.alternate,t,An);t.memoizedProps=t.pendingProps,n===null?ro(t):oe=n}function kg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=eg(r,n,n.pendingProps,n.type,void 0,he);break;case 11:n=eg(r,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:Dc(n);default:og(r,n),n=oe=Lp(n,An),n=ag(r,n,An)}t.memoizedProps=t.pendingProps,n===null?ro(t):oe=n}function Vs(t,n,r,l){vn=Vi=null,Dc(n),ks=null,$r=0;var u=n.return;try{if(rS(t,u,n,r,he)){Ue=1,Xl(t,zt(r,t.current)),oe=null;return}}catch(f){if(u!==null)throw oe=u,f;Ue=1,Xl(t,zt(r,t.current)),oe=null;return}n.flags&32768?(ge||l===1?t=!0:Ps||(he&536870912)!==0?t=!1:(ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lg(n,t)):ro(n)}function ro(t){var n=t;do{if((n.flags&32768)!==0){Lg(n,ni);return}t=n.return;var r=lS(n.alternate,n,An);if(r!==null){oe=r;return}if(n=n.sibling,n!==null){oe=n;return}oe=n=t}while(n!==null);Ue===0&&(Ue=5)}function Lg(t,n){do{var r=oS(t.alternate,t);if(r!==null){r.flags&=32767,oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){oe=t;return}oe=t=r}while(t!==null);Ue=6,oe=null}function Ug(t,n,r,l,u,f,g,_,S){t.cancelPendingCommit=null;do ao();while(it!==0);if((_e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ac,KE(t,r,f,g,_,S),t===Ae&&(oe=Ae=null,he=0),Bs=n,ri=t,qs=r,hf=f,df=u,Rg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(fl,function(){return qg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=G.p,G.p=2,g=_e,_e|=4;try{uS(t,n,r)}finally{_e=g,G.p=u,M.T=l}}it=1,zg(),Pg(),Hg()}}function zg(){if(it===1){it=0;var t=ri,n=Bs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=G.p;G.p=2;var u=_e;_e|=4;try{vg(n,t);var f=Of,g=wp(t.containerInfo),_=f.focusedElem,S=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&Cp(_.ownerDocument.documentElement,_)){if(S!==null&&tc(_)){var R=S.start,x=S.end;if(x===void 0&&(x=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(x,_.value.length);else{var L=_.ownerDocument||document,A=L&&L.defaultView||window;if(A.getSelection){var N=A.getSelection(),te=_.textContent.length,X=Math.min(S.start,te),Se=S.end===void 0?X:Math.min(S.end,te);!N.extend&&X>Se&&(g=Se,Se=X,X=g);var C=Tp(_,X),T=Tp(_,Se);if(C&&T&&(N.rangeCount!==1||N.anchorNode!==C.node||N.anchorOffset!==C.offset||N.focusNode!==T.node||N.focusOffset!==T.offset)){var w=L.createRange();w.setStart(C.node,C.offset),N.removeAllRanges(),X>Se?(N.addRange(w),N.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),N.addRange(w))}}}}for(L=[],N=_;N=N.parentNode;)N.nodeType===1&&L.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<L.length;_++){var k=L[_];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}vo=!!Nf,Of=Nf=null}finally{_e=u,G.p=l,M.T=r}}t.current=n,it=2}}function Pg(){if(it===2){it=0;var t=ri,n=Bs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=G.p;G.p=2;var u=_e;_e|=4;try{mg(t,n.alternate,n)}finally{_e=u,G.p=l,M.T=r}}it=3}}function Hg(){if(it===4||it===3){it=0,HE();var t=ri,n=Bs,r=qs,l=Rg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,Bs=ri=null,Bg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(si=null),ku(r),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Tr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=G.p,G.p=2,M.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];f(_.value,{componentStack:_.stack})}}finally{M.T=n,G.p=u}}(qs&3)!==0&&ao(),cn(t),u=t.pendingLanes,(r&4194090)!==0&&(u&42)!==0?t===pf?la++:(la=0,pf=t):la=0,oa(0)}}function Bg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,qr(n)))}function ao(t){return zg(),Pg(),Hg(),qg()}function qg(){if(it!==5)return!1;var t=ri,n=hf;hf=0;var r=ku(qs),l=M.T,u=G.p;try{G.p=32>r?32:r,M.T=null,r=df,df=null;var f=ri,g=qs;if(it=0,Bs=ri=null,qs=0,(_e&6)!==0)throw Error(a(331));var _=_e;if(_e|=4,Cg(f.current),Sg(f,f.current,g,r),_e=_,oa(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Tr,f)}catch{}return!0}finally{G.p=u,M.T=l,Bg(t,n)}}function jg(t,n,r){n=zt(r,n),n=Yc(t.stateNode,n,2),t=Wn(t,n,2),t!==null&&(wr(t,2),cn(t))}function we(t,n,r){if(t.tag===3)jg(t,t,r);else for(;n!==null;){if(n.tag===3){jg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(si===null||!si.has(l))){t=zt(r,t),r=Fm(2),l=Wn(n,r,2),l!==null&&(Qm(r,l,n,t),wr(l,2),cn(l));break}}n=n.return}}function yf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new hS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(of=!0,u.add(r),t=_S.bind(null,t,n,r),n.then(t,t))}function _S(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ae===t&&(he&r)===r&&(Ue===4||Ue===3&&(he&62914560)===he&&300>rn()-ff?(_e&2)===0&&js(t,0):uf|=r,Hs===he&&(Hs=0)),cn(t)}function Vg(t,n){n===0&&(n=Hd()),t=Cs(t,n),t!==null&&(wr(t,n),cn(t))}function yS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Vg(t,r)}function vS(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Vg(t,r)}function ES(t,n){return Iu(t,n)}var lo=null,Gs=null,vf=!1,oo=!1,Ef=!1,Xi=0;function cn(t){t!==Gs&&t.next===null&&(Gs===null?lo=Gs=t:Gs=Gs.next=t),oo=!0,vf||(vf=!0,bS())}function oa(t,n){if(!Ef&&oo){Ef=!0;do for(var r=!1,l=lo;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=u&~(g&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Qg(l,f))}else f=he,f=pl(l,l===Ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Cr(l,f)||(r=!0,Qg(l,f));l=l.next}while(r);Ef=!1}}function SS(){Gg()}function Gg(){oo=vf=!1;var t=0;Xi!==0&&(IS()&&(t=Xi),Xi=0);for(var n=rn(),r=null,l=lo;l!==null;){var u=l.next,f=Yg(l,n);f===0?(l.next=null,r===null?lo=u:r.next=u,u===null&&(Gs=r)):(r=l,(t!==0||(f&3)!==0)&&(oo=!0)),l=u}oa(t)}function Yg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Rt(f),_=1<<g,S=u[g];S===-1?((_&r)===0||(_&l)!==0)&&(u[g]=QE(_,n)):S<=n&&(t.expiredLanes|=_),f&=~_}if(n=Ae,r=he,r=pl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Du(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Cr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Du(l),ku(r)){case 2:case 8:r=Ud;break;case 32:r=fl;break;case 268435456:r=zd;break;default:r=fl}return l=Fg.bind(null,t),r=Iu(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Du(l),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ao()&&t.callbackNode!==r)return null;var l=he;return l=pl(t,t===Ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ng(t,l,n),Yg(t,rn()),t.callbackNode!=null&&t.callbackNode===r?Fg.bind(null,t):null)}function Qg(t,n){if(ao())return null;Ng(t,n,!0)}function bS(){xS(function(){(_e&6)!==0?Iu(Ld,SS):Gg()})}function Sf(){return Xi===0&&(Xi=Pd()),Xi}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vl(""+t)}function Wg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function TS(t,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=Kg((u[mt]||null).action),g=l.submitter;g&&(n=(n=g[mt]||null)?Kg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new Tl("action","action",null,l,u);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xi!==0){var S=g?Wg(u,g):new FormData(u);Bc(r,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=g?Wg(u,g):new FormData(u),Bc(r,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var bf=0;bf<rc.length;bf++){var Tf=rc[bf],CS=Tf.toLowerCase(),wS=Tf[0].toUpperCase()+Tf.slice(1);Yt(CS,"on"+wS)}Yt(Np,"onAnimationEnd"),Yt(Op,"onAnimationIteration"),Yt(Ip,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(j1,"onTransitionRun"),Yt(V1,"onTransitionStart"),Yt(G1,"onTransitionCancel"),Yt(Dp,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ua));function Xg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(x){Wl(x)}u.currentTarget=null,f=S}else for(g=0;g<l.length;g++){if(_=l[g],S=_.instance,R=_.currentTarget,_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(x){Wl(x)}u.currentTarget=null,f=S}}}}function ue(t,n){var r=n[Lu];r===void 0&&(r=n[Lu]=new Set);var l=t+"__bubble";r.has(l)||(Zg(n,t,2,!1),r.add(l))}function Cf(t,n,r){var l=0;n&&(l|=4),Zg(r,t,l,n)}var uo="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[uo]){t[uo]=!0,Gd.forEach(function(r){r!=="selectionchange"&&(RS.has(r)||Cf(r,!1,t),Cf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uo]||(n[uo]=!0,Cf("selectionchange",!1,n))}}function Zg(t,n,r,l){switch(S_(n)){case 2:var u=JS;break;case 8:u=eb;break;default:u=Hf}r=u.bind(null,n,r,t),u=void 0,!Fu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Rf(t,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=fs(_),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=f=g;continue e}_=_.parentNode}}l=l.return}sp(function(){var R=f,x=Gu(r),L=[];e:{var A=xp.get(t);if(A!==void 0){var N=Tl,te=t;switch(t){case"keypress":if(Sl(r)===0)break e;case"keydown":case"keyup":N=E1;break;case"focusin":te="focus",N=Xu;break;case"focusout":te="blur",N=Xu;break;case"beforeblur":case"afterblur":N=Xu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=T1;break;case Np:case Op:case Ip:N=f1;break;case Dp:N=w1;break;case"scroll":case"scrollend":N=a1;break;case"wheel":N=A1;break;case"copy":case"cut":case"paste":N=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=up;break;case"toggle":case"beforetoggle":N=O1}var X=(n&4)!==0,Se=!X&&(t==="scroll"||t==="scrollend"),C=X?A!==null?A+"Capture":null:A;X=[];for(var T=R,w;T!==null;){var k=T;if(w=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||w===null||C===null||(k=Nr(T,C),k!=null&&X.push(ca(T,k,w))),Se)break;T=T.return}0<X.length&&(A=new N(A,te,null,r,x),L.push({event:A,listeners:X}))}}if((n&7)===0){e:{if(A=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",A&&r!==Vu&&(te=r.relatedTarget||r.fromElement)&&(fs(te)||te[cs]))break e;if((N||A)&&(A=x.window===x?x:(A=x.ownerDocument)?A.defaultView||A.parentWindow:window,N?(te=r.relatedTarget||r.toElement,N=R,te=te?fs(te):null,te!==null&&(Se=c(te),X=te.tag,te!==Se||X!==5&&X!==27&&X!==6)&&(te=null)):(N=null,te=R),N!==te)){if(X=lp,k="onMouseLeave",C="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(X=up,k="onPointerLeave",C="onPointerEnter",T="pointer"),Se=N==null?A:Ar(N),w=te==null?A:Ar(te),A=new X(k,T+"leave",N,r,x),A.target=Se,A.relatedTarget=w,k=null,fs(x)===R&&(X=new X(C,T+"enter",te,r,x),X.target=w,X.relatedTarget=Se,k=X),Se=k,N&&te)t:{for(X=N,C=te,T=0,w=X;w;w=Ys(w))T++;for(w=0,k=C;k;k=Ys(k))w++;for(;0<T-w;)X=Ys(X),T--;for(;0<w-T;)C=Ys(C),w--;for(;T--;){if(X===C||C!==null&&X===C.alternate)break t;X=Ys(X),C=Ys(C)}X=null}else X=null;N!==null&&$g(L,A,N,X,!1),te!==null&&Se!==null&&$g(L,Se,te,X,!0)}}e:{if(A=R?Ar(R):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var F=_p;else if(mp(A))if(yp)F=H1;else{F=z1;var ae=U1}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?R&&ju(R.elementType)&&(F=_p):F=P1;if(F&&(F=F(t,R))){gp(L,F,r,x);break e}ae&&ae(t,A,R),t==="focusout"&&R&&A.type==="number"&&R.memoizedProps.value!=null&&qu(A,"number",A.value)}switch(ae=R?Ar(R):window,t){case"focusin":(mp(ae)||ae.contentEditable==="true")&&(Ss=ae,nc=R,Ur=null);break;case"focusout":Ur=nc=Ss=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,Rp(L,r,x);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":Rp(L,r,x)}var Q;if($u)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Es?dp(t,r)&&(Z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(cp&&r.locale!=="ko"&&(Es||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Es&&(Q=rp()):(Yn=x,Qu="value"in Yn?Yn.value:Yn.textContent,Es=!0)),ae=co(R,Z),0<ae.length&&(Z=new op(Z,t,null,r,x),L.push({event:Z,listeners:ae}),Q?Z.data=Q:(Q=pp(r),Q!==null&&(Z.data=Q)))),(Q=D1?x1(t,r):M1(t,r))&&(Z=co(R,"onBeforeInput"),0<Z.length&&(ae=new op("onBeforeInput","beforeinput",null,r,x),L.push({event:ae,listeners:Z}),ae.data=Q)),TS(L,t,R,r,x)}Xg(L,n)})}function ca(t,n,r){return{instance:t,listener:n,currentTarget:r}}function co(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Nr(t,r),u!=null&&l.unshift(ca(t,u,f)),u=Nr(t,n),u!=null&&l.push(ca(t,u,f))),t.tag===3)return l;t=t.return}return[]}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var _=r,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||R===null||(S=R,u?(R=Nr(r,f),R!=null&&g.unshift(ca(r,R,S))):u||(R=Nr(r,f),R!=null&&g.push(ca(r,R,S)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var AS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(NS,"")}function e_(t,n){return n=Jg(n),Jg(t)===n}function fo(){}function Ee(t,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_s(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_s(t,""+l);break;case"className":gl(t,"class",l);break;case"tabIndex":gl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gl(t,r,l);break;case"style":np(t,l,f);break;case"data":if(n!=="object"){gl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=vl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ee(t,n,"name",u.name,u,null),Ee(t,n,"formEncType",u.formEncType,u,null),Ee(t,n,"formMethod",u.formMethod,u,null),Ee(t,n,"formTarget",u.formTarget,u,null)):(Ee(t,n,"encType",u.encType,u,null),Ee(t,n,"method",u.method,u,null),Ee(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=vl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fo);break;case"onScroll":l!=null&&ue("scroll",t);break;case"onScrollEnd":l!=null&&ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=vl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ue("beforetoggle",t),ue("toggle",t),ml(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=s1.get(r)||r,ml(t,r,l))}}function Af(t,n,r,l,u,f){switch(r){case"style":np(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_s(t,l):(typeof l=="number"||typeof l=="bigint")&&_s(t,""+l);break;case"onScroll":l!=null&&ue("scroll",t);break;case"onScrollEnd":l!=null&&ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[mt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,u);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ml(t,r,l)}}}function st(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",t),ue("load",t);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(t,n,f,g,r,null)}}u&&Ee(t,n,"srcSet",r.srcSet,r,null),l&&Ee(t,n,"src",r.src,r,null);return;case"input":ue("invalid",t);var _=f=g=u=null,S=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var x=r[l];if(x!=null)switch(l){case"name":u=x;break;case"type":g=x;break;case"checked":S=x;break;case"defaultChecked":R=x;break;case"value":f=x;break;case"defaultValue":_=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,n));break;default:Ee(t,n,l,x,r,null)}}$d(t,f,_,S,R,g,u,!1),_l(t);return;case"select":ue("invalid",t),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(_=r[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Ee(t,n,u,_,r,null)}n=f,r=g,t.multiple=!!l,n!=null?gs(t,!!l,n,!1):r!=null&&gs(t,!!l,r,!0);return;case"textarea":ue("invalid",t),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ee(t,n,g,_,r,null)}ep(t,l,u,f),_l(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ee(t,n,S,l,r,null)}return;case"dialog":ue("beforetoggle",t),ue("toggle",t),ue("cancel",t),ue("close",t);break;case"iframe":case"object":ue("load",t);break;case"video":case"audio":for(l=0;l<ua.length;l++)ue(ua[l],t);break;case"image":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"embed":case"source":case"link":ue("error",t),ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(t,n,R,l,r,null)}return;default:if(ju(n)){for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!==void 0&&Af(t,n,x,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ee(t,n,_,l,r,null))}function OS(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,S=null,R=null,x=null;for(N in r){var L=r[N];if(r.hasOwnProperty(N)&&L!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":S=L;default:l.hasOwnProperty(N)||Ee(t,n,N,null,l,L)}}for(var A in l){var N=l[A];if(L=r[A],l.hasOwnProperty(A)&&(N!=null||L!=null))switch(A){case"type":f=N;break;case"name":u=N;break;case"checked":R=N;break;case"defaultChecked":x=N;break;case"value":g=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,n));break;default:N!==L&&Ee(t,n,A,N,l,L)}}Bu(t,g,_,S,R,x,f,u);return;case"select":N=g=_=A=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":N=S;default:l.hasOwnProperty(f)||Ee(t,n,f,null,l,S)}for(u in l)if(f=l[u],S=r[u],l.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":A=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==S&&Ee(t,n,u,f,l,S)}n=_,r=g,l=N,A!=null?gs(t,!!r,A,!1):!!l!=!!r&&(n!=null?gs(t,!!r,n,!0):gs(t,!!r,r?[]:"",!1));return;case"textarea":N=A=null;for(_ in r)if(u=r[_],r.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ee(t,n,_,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":A=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Ee(t,n,g,u,l,f)}Jd(t,A,N);return;case"option":for(var te in r)if(A=r[te],r.hasOwnProperty(te)&&A!=null&&!l.hasOwnProperty(te))switch(te){case"selected":t.selected=!1;break;default:Ee(t,n,te,null,l,A)}for(S in l)if(A=l[S],N=r[S],l.hasOwnProperty(S)&&A!==N&&(A!=null||N!=null))switch(S){case"selected":t.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Ee(t,n,S,A,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var X in r)A=r[X],r.hasOwnProperty(X)&&A!=null&&!l.hasOwnProperty(X)&&Ee(t,n,X,null,l,A);for(R in l)if(A=l[R],N=r[R],l.hasOwnProperty(R)&&A!==N&&(A!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(137,n));break;default:Ee(t,n,R,A,l,N)}return;default:if(ju(n)){for(var Se in r)A=r[Se],r.hasOwnProperty(Se)&&A!==void 0&&!l.hasOwnProperty(Se)&&Af(t,n,Se,void 0,l,A);for(x in l)A=l[x],N=r[x],!l.hasOwnProperty(x)||A===N||A===void 0&&N===void 0||Af(t,n,x,A,l,N);return}}for(var C in r)A=r[C],r.hasOwnProperty(C)&&A!=null&&!l.hasOwnProperty(C)&&Ee(t,n,C,null,l,A);for(L in l)A=l[L],N=r[L],!l.hasOwnProperty(L)||A===N||A==null&&N==null||Ee(t,n,L,A,l,N)}var Nf=null,Of=null;function ho(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function If(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Df=null;function IS(){var t=window.event;return t&&t.type==="popstate"?t===Df?!1:(Df=t,!0):(Df=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(MS)}:i_;function MS(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function r_(t,n){var r=n,l=0,u=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var g=t.ownerDocument;if(r&1&&fa(g.documentElement),r&2&&fa(g.body),r&4)for(r=g.head,fa(r),g=r.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Rr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(u===0){t.removeChild(f),va(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);va(n)}function xf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xf(r),Uu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kS(t,n,r,l){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qt(t.nextSibling),t===null)break}return null}function LS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qt(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function US(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var kf=null;function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function l_(t,n,r){switch(n=ho(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function fa(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Uu(t)}var Vt=new Map,o_=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Nn=G.d;G.d={f:zS,r:PS,D:HS,C:BS,L:qS,m:jS,X:GS,S:VS,M:YS};function zS(){var t=Nn.f(),n=so();return t||n}function PS(t){var n=hs(t);n!==null&&n.tag===5&&n.type==="form"?Nm(n):Nn.r(t)}var Fs=typeof document>"u"?null:document;function u_(t,n,r){var l=Fs;if(l&&typeof n=="string"&&n){var u=Ut(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),o_.has(u)||(o_.add(u),t={rel:t,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),st(n,"link",t),We(n),l.head.appendChild(n)))}}function HS(t){Nn.D(t),u_("dns-prefetch",t,null)}function BS(t,n){Nn.C(t,n),u_("preconnect",t,n)}function qS(t,n,r){Nn.L(t,n,r);var l=Fs;if(l&&t&&n){var u='link[rel="preload"][as="'+Ut(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ut(r.imageSizes)+'"]')):u+='[href="'+Ut(t)+'"]';var f=u;switch(n){case"style":f=Qs(t);break;case"script":f=Ks(t)}Vt.has(f)||(t=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vt.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ha(f))||n==="script"&&l.querySelector(da(f))||(n=l.createElement("link"),st(n,"link",t),We(n),l.head.appendChild(n)))}}function jS(t,n){Nn.m(t,n);var r=Fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ks(t)}if(!Vt.has(f)&&(t=y({rel:"modulepreload",href:t},n),Vt.set(f,t),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(da(f)))return}l=r.createElement("link"),st(l,"link",t),We(l),r.head.appendChild(l)}}}function VS(t,n,r){Nn.S(t,n,r);var l=Fs;if(l&&t){var u=ds(l).hoistableStyles,f=Qs(t);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ha(f)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vt.get(f))&&Lf(t,r);var S=g=l.createElement("link");We(S),st(S,"link",t),S._p=new Promise(function(R,x){S.onload=R,S.onerror=x}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,mo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function GS(t,n){Nn.X(t,n);var r=Fs;if(r&&t){var l=ds(r).hoistableScripts,u=Ks(t),f=l.get(u);f||(f=r.querySelector(da(u)),f||(t=y({src:t,async:!0},n),(n=Vt.get(u))&&Uf(t,n),f=r.createElement("script"),We(f),st(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function YS(t,n){Nn.M(t,n);var r=Fs;if(r&&t){var l=ds(r).hoistableScripts,u=Ks(t),f=l.get(u);f||(f=r.querySelector(da(u)),f||(t=y({src:t,async:!0,type:"module"},n),(n=Vt.get(u))&&Uf(t,n),f=r.createElement("script"),We(f),st(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function c_(t,n,r,l){var u=(u=ie.current)?po(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Qs(r.href),r=ds(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Qs(r.href);var f=ds(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ha(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vt.set(t,r),f||FS(u,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ks(r),r=ds(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Qs(t){return'href="'+Ut(t)+'"'}function ha(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),st(n,"link",r),We(n),t.head.appendChild(n))}function Ks(t){return'[src="'+Ut(t)+'"]'}function da(t){return"script[async]"+t}function h_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(r.href)+'"]');if(l)return n.instance=l,We(l),l;var u=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),st(l,"style",u),mo(l,r.precedence,t),n.instance=l;case"stylesheet":u=Qs(r.href);var f=t.querySelector(ha(u));if(f)return n.state.loading|=4,n.instance=f,We(f),f;l=f_(r),(u=Vt.get(u))&&Lf(l,u),f=(t.ownerDocument||t).createElement("link"),We(f);var g=f;return g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),st(f,"link",l),n.state.loading|=4,mo(f,r.precedence,t),n.instance=f;case"script":return f=Ks(r.src),(u=t.querySelector(da(f)))?(n.instance=u,We(u),u):(l=r,(u=Vt.get(f))&&(l=y({},r),Uf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),We(u),st(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mo(l,r.precedence,t));return n.instance}function mo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var go=null;function d_(t,n,r){if(go===null){var l=new Map,u=go=new Map;u.set(r,l)}else u=go,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Rr]||f[lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function p_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function QS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var pa=null;function KS(){}function WS(t,n,r){if(pa===null)throw Error(a(475));var l=pa;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Qs(r.href),f=t.querySelector(ha(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_o.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,We(f);return}f=t.ownerDocument||t,r=f_(r),(u=Vt.get(u))&&Lf(r,u),f=f.createElement("link"),We(f);var g=f;g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),st(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=_o.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function XS(){if(pa===null)throw Error(a(475));var t=pa;return t.stylesheets&&t.count===0&&zf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function _o(){if(this.count--,this.count===0){if(this.stylesheets)zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yo=null;function zf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yo=new Map,n.forEach(ZS,t),yo=null,_o.call(t))}function ZS(t,n){if(!(n.state.loading&4)){var r=yo.get(t);if(r)var l=r.get(null);else{r=new Map,yo.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=_o.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ma={$$typeof:K,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function $S(t,n,r,l,u,f,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.hiddenUpdates=xu(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function g_(t,n,r,l,u,f,g,_,S,R,x,L){return t=new $S(t,n,r,g,_,S,R,L),n=1,f===!0&&(n|=24),f=Nt(3,null,null,n),t.current=f,f.stateNode=t,n=_c(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Sc(f),t}function __(t){return t?(t=ws,t):ws}function y_(t,n,r,l,u,f){u=__(u),l.context===null?l.context=u:l.pendingContext=u,l=Kn(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Wn(t,l,n),r!==null&&(Mt(r,t,n),Yr(r,t,n))}function v_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Pf(t,n){v_(t,n),(t=t.alternate)&&v_(t,n)}function E_(t){if(t.tag===13){var n=Cs(t,67108864);n!==null&&Mt(n,t,67108864),Pf(t,67108864)}}var vo=!0;function JS(t,n,r,l){var u=M.T;M.T=null;var f=G.p;try{G.p=2,Hf(t,n,r,l)}finally{G.p=f,M.T=u}}function eb(t,n,r,l){var u=M.T;M.T=null;var f=G.p;try{G.p=8,Hf(t,n,r,l)}finally{G.p=f,M.T=u}}function Hf(t,n,r,l){if(vo){var u=Bf(l);if(u===null)Rf(t,n,l,Eo,r),b_(t,l);else if(nb(u,t,n,r,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<tb.indexOf(t)){for(;u!==null;){var f=hs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Mi(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var S=1<<31-Rt(g);_.entanglements[1]|=S,g&=~S}cn(f),(_e&6)===0&&(no=rn()+500,oa(0))}}break;case 13:_=Cs(f,2),_!==null&&Mt(_,f,2),so(),Pf(f,2)}if(f=Bf(l),f===null&&Rf(t,n,l,Eo,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else Rf(t,n,l,null,r)}}function Bf(t){return t=Gu(t),qf(t)}var Eo=null;function qf(t){if(Eo=null,t=fs(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Eo=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BE()){case Ld:return 2;case Ud:return 8;case fl:case qE:return 32;case zd:return 268435456;default:return 32}default:return 32}}var jf=!1,oi=null,ui=null,ci=null,ga=new Map,_a=new Map,fi=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":ga.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(n.pointerId)}}function ya(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=hs(n),n!==null&&E_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function nb(t,n,r,l,u){switch(n){case"focusin":return oi=ya(oi,t,n,r,l,u),!0;case"dragenter":return ui=ya(ui,t,n,r,l,u),!0;case"mouseover":return ci=ya(ci,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return ga.set(f,ya(ga.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,_a.set(f,ya(_a.get(f)||null,t,n,r,l,u)),!0}return!1}function T_(t){var n=fs(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,WE(t.priority,function(){if(r.tag===13){var l=xt();l=Mu(l);var u=Cs(r,l);u!==null&&Mt(u,r,l),Pf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Vu=l,r.target.dispatchEvent(l),Vu=null}else return n=hs(r),n!==null&&E_(n),t.blockedOn=r,!1;n.shift()}return!0}function C_(t,n,r){So(t)&&r.delete(n)}function ib(){jf=!1,oi!==null&&So(oi)&&(oi=null),ui!==null&&So(ui)&&(ui=null),ci!==null&&So(ci)&&(ci=null),ga.forEach(C_),_a.forEach(C_)}function bo(t,n){t.blockedOn===n&&(t.blockedOn=null,jf||(jf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ib)))}var To=null;function w_(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(qf(l||r)===null)continue;break}var f=hs(r);f!==null&&(t.splice(n,3),n-=3,Bc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function va(t){function n(S){return bo(S,t)}oi!==null&&bo(oi,t),ui!==null&&bo(ui,t),ci!==null&&bo(ci,t),ga.forEach(n),_a.forEach(n);for(var r=0;r<fi.length;r++){var l=fi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)T_(r),r.blockedOn===null&&fi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[mt]||null;if(typeof f=="function")g||w_(r);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[mt]||null)_=g.formAction;else if(qf(u)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),w_(r)}}}function Vf(t){this._internalRoot=t}Co.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=xt();y_(r,l,t,n,null,null)},Co.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),so(),n[cs]=null}};function Co(t){this._internalRoot=t}Co.prototype.unstable_scheduleHydration=function(t){if(t){var n=jd();t={blockedOn:null,target:t,priority:n};for(var r=0;r<fi.length&&n!==0&&n<fi[r].priority;r++);fi.splice(r,0,t),r===0&&T_(t)}};var R_=e.version;if(R_!=="19.1.1")throw Error(a(527,R_,"19.1.1"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var sb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Tr=wo.inject(sb),wt=wo}catch{}}return Sa.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",u=jm,f=Vm,g=Gm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=g_(t,1,!1,null,null,r,l,u,f,g,_,null),t[cs]=n.current,wf(t),new Vf(n)},Sa.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,u="",f=jm,g=Vm,_=Gm,S=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=g_(t,1,!0,n,r??null,l,u,f,g,_,S,R),n.context=__(null),r=n.current,l=xt(),l=Mu(l),u=Kn(l),u.callback=null,Wn(r,u,l),r=l,n.current.lanes=r,wr(n,r),cn(n),t[cs]=n.current,wf(t),new Co(n)},Sa.version="19.1.1",Sa}var U_;function mb(){if(U_)return Ff.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=pb(),Ff.exports}var gb=mb();const _b=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(s,e){if(!s)throw fr(e)},fr=function(s){return new Error("Firebase Database ("+tv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},yb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],d=s[i++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],h=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Uh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,d=h?s[o+1]:0,p=o+2<s.length,m=p?s[o+2]:0,y=c>>2,v=(c&3)<<4|d>>4;let E=(d&15)<<2|m>>6,O=m&63;p||(O=64,h||(E=64)),a.push(i[y],i[v],i[E],i[O])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(nv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):yb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||d==null||m==null||v==null)throw new vb;const E=c<<2|d>>4;if(a.push(E),m!==64){const O=d<<4&240|m>>2;if(a.push(O),v!==64){const D=m<<6&192|v;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iv=function(s){const e=nv(s);return Uh.encodeByteArray(e,!0)},zo=function(s){return iv(s).replace(/\./g,"")},Po=function(s){try{return Uh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s){return sv(void 0,s)}function sv(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!Sb(i)||(s[i]=sv(s[i],e[i]));return s}function Sb(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=()=>bb().__FIREBASE_DEFAULTS__,Cb=()=>{if(typeof process>"u"||typeof z_>"u")return;const s=z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Po(s[1]);return e&&JSON.parse(e)},zh=()=>{try{return _b()||Tb()||Cb()||wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rv=s=>zh()?.emulatorHosts?.[s],Rb=s=>{const e=rv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},av=()=>zh()?.config,lv=s=>zh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ov(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[zo(JSON.stringify(i)),zo(JSON.stringify(h)),""].join(".")}const Oa={};function Nb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Oa))Oa[e]?s.emulator.push(e):s.prod.push(e);return s}function Ob(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let P_=!1;function uv(s,e){if(typeof window>"u"||typeof document>"u"||!hr(window.location.host)||Oa[s]===e||Oa[s]||P_)return;Oa[s]=e;function i(E){return`__firebase__banner__${E}`}const a="__firebase__banner",c=Nb().prod.length>0;function h(){const E=document.getElementById(a);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,O){E.setAttribute("width","24"),E.setAttribute("id",O),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{P_=!0,h()},E}function y(E,O){E.setAttribute("id",O),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=Ob(a),O=i("text"),D=document.getElementById(O)||document.createElement("span"),P=i("learnmore"),H=document.getElementById(P)||document.createElement("a"),V=i("preprendIcon"),q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;d(K),y(H,P);const Te=m();p(q,V),K.append(q,D,H,Te),document.body.appendChild(K)}c?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ph(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Db(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function cv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xb(){const s=pt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Mb(){return tv.NODE_ADMIN===!0}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Lb(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="FirebaseError";class Ai extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Ub,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?zb(c,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ai(o,d,a)}}function zb(s,e){return s.replace(Pb,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Pb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(s){return JSON.parse(s)}function Ye(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(s){let e={},i={},a={},o="";try{const c=s.split(".");e=Ua(Po(c[0])||""),i=Ua(Po(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},Hb=function(s){const e=fv(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Bb=function(s){const e=fv(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function sr(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function dh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ho(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function ts(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],h=e[o];if(H_(c)&&H_(h)){if(!ts(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function H_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Aa(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Na(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)a[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,y;for(let v=0;v<80;v++){v<40?v<20?(m=d^c&(h^d),y=1518500249):(m=c^h^d,y=1859775393):v<60?(m=c&h|d&(c|h),y=2400959708):(m=c^h^d,y=3395469782);const E=(o<<5|o>>>27)+m+p+y+a[v]&4294967295;p=d,d=h,h=(c<<30|c>>>2)&4294967295,c=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=e[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[a]=this.chain_[o]>>c&255,++a;return e}}function jb(s,e){const i=new Vb(s,e);return i.subscribe.bind(i)}class Vb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Gb(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gb(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Xf(){}function Hh(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,B(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},cu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s){return s&&s._delegate?s._delegate:s}class ns{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uu;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kb(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);a===d&&h.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Qb(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qb(s){return s===Zi?void 0:s}function Kb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Fb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(be||(be={}));const Xb={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Zb=be.INFO,$b={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},Jb=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=$b[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bh{constructor(e){this.name=e,this._logLevel=Zb,this._logHandler=Jb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const eT=(s,e)=>e.some(i=>s instanceof i);let B_,q_;function tT(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nT(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hv=new WeakMap,ph=new WeakMap,dv=new WeakMap,Zf=new WeakMap,qh=new WeakMap;function iT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(vi(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&hv.set(i,s)}).catch(()=>{}),qh.set(e,s),e}function sT(s){if(ph.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});ph.set(s,e)}let mh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ph.get(s);if(e==="objectStoreNames")return s.objectStoreNames||dv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function rT(s){mh=s(mh)}function aT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($f(this),e,...i);return dv.set(a,e.sort?e.sort():[e]),vi(a)}:nT().includes(s)?function(...e){return s.apply($f(this),e),vi(hv.get(this))}:function(...e){return vi(s.apply($f(this),e))}}function lT(s){return typeof s=="function"?aT(s):(s instanceof IDBTransaction&&sT(s),eT(s,tT())?new Proxy(s,mh):s)}function vi(s){if(s instanceof IDBRequest)return iT(s);if(Zf.has(s))return Zf.get(s);const e=lT(s);return e!==s&&(Zf.set(s,e),qh.set(e,s)),e}const $f=s=>qh.get(s);function oT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),d=vi(h);return a&&h.addEventListener("upgradeneeded",p=>{a(vi(h.result),p.oldVersion,p.newVersion,vi(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const uT=["get","getKey","getAll","getAllKeys","count"],cT=["put","add","delete","clear"],Jf=new Map;function j_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=cT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||uT.includes(i)))return;const c=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let m=p.store;return a&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),o&&p.done]))[0]};return Jf.set(e,c),c}rT(s=>({...s,get:(e,i,a)=>j_(e,i)||s.get(e,i,a),has:(e,i)=>!!j_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function hT(s){return s.getComponent()?.type==="VERSION"}const gh="@firebase/app",V_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new Bh("@firebase/app"),dT="@firebase/app-compat",pT="@firebase/analytics-compat",mT="@firebase/analytics",gT="@firebase/app-check-compat",_T="@firebase/app-check",yT="@firebase/auth",vT="@firebase/auth-compat",ET="@firebase/database",ST="@firebase/data-connect",bT="@firebase/database-compat",TT="@firebase/functions",CT="@firebase/functions-compat",wT="@firebase/installations",RT="@firebase/installations-compat",AT="@firebase/messaging",NT="@firebase/messaging-compat",OT="@firebase/performance",IT="@firebase/performance-compat",DT="@firebase/remote-config",xT="@firebase/remote-config-compat",MT="@firebase/storage",kT="@firebase/storage-compat",LT="@firebase/firestore",UT="@firebase/ai",zT="@firebase/firestore-compat",PT="firebase",HT="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="[DEFAULT]",BT={[gh]:"fire-core",[dT]:"fire-core-compat",[mT]:"fire-analytics",[pT]:"fire-analytics-compat",[_T]:"fire-app-check",[gT]:"fire-app-check-compat",[yT]:"fire-auth",[vT]:"fire-auth-compat",[ET]:"fire-rtdb",[ST]:"fire-data-connect",[bT]:"fire-rtdb-compat",[TT]:"fire-fn",[CT]:"fire-fn-compat",[wT]:"fire-iid",[RT]:"fire-iid-compat",[AT]:"fire-fcm",[NT]:"fire-fcm-compat",[OT]:"fire-perf",[IT]:"fire-perf-compat",[DT]:"fire-rc",[xT]:"fire-rc-compat",[MT]:"fire-gcs",[kT]:"fire-gcs-compat",[LT]:"fire-fst",[zT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[PT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,qT=new Map,yh=new Map;function G_(s,e){try{s.container.addComponent(e)}catch(i){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function rr(s){const e=s.name;if(yh.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;yh.set(e,s);for(const i of Bo.values())G_(i,s);for(const i of qT.values())G_(i,s);return!0}function jh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Gt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Xa("app","Firebase",jT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=HT;function pv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:_h,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(i||(i=av()),!i)throw Ei.create("no-options");const c=Bo.get(o);if(c){if(ts(i,c.options)&&ts(a,c.config))return c;throw Ei.create("duplicate-app",{appName:o})}const h=new Wb(o);for(const p of yh.values())h.addComponent(p);const d=new VT(i,a,h);return Bo.set(o,d),d}function mv(s=_h){const e=Bo.get(s);if(!e&&s===_h&&av())return pv();if(!e)throw Ei.create("no-app",{appName:s});return e}function Si(s,e,i){let a=BT[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(h.join(" "));return}rr(new ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",YT=1,za="firebase-heartbeat-store";let eh=null;function gv(){return eh||(eh=oT(GT,YT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(za)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ei.create("idb-open",{originalErrorMessage:s.message})})),eh}async function FT(s){try{const i=(await gv()).transaction(za),a=await i.objectStore(za).get(_v(s));return await i.done,a}catch(e){if(e instanceof Ai)Ln.warn(e.message);else{const i=Ei.create("idb-get",{originalErrorMessage:e?.message});Ln.warn(i.message)}}}async function Y_(s,e){try{const a=(await gv()).transaction(za,"readwrite");await a.objectStore(za).put(e,_v(s)),await a.done}catch(i){if(i instanceof Ai)Ln.warn(i.message);else{const a=Ei.create("idb-set",{originalErrorMessage:i?.message});Ln.warn(a.message)}}}function _v(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=1024,KT=30;class WT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>KT){const o=$T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ln.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F_(),{heartbeatsToSend:i,unsentEntries:a}=XT(this._heartbeatsCache.heartbeats),o=zo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ln.warn(e),""}}}function F_(){return new Date().toISOString().substring(0,10)}function XT(s,e=QT){const i=[];let a=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Q_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Q_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ZT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?Lb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q_(s){return zo(JSON.stringify({version:2,heartbeats:s})).length}function $T(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(s){rr(new ns("platform-logger",e=>new fT(e),"PRIVATE")),rr(new ns("heartbeat",e=>new WT(e),"PRIVATE")),Si(gh,V_,s),Si(gh,V_,"esm2020"),Si("fire-js","")}JT("");var eC="firebase",tC="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(eC,tC,"app");function yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nC=yv,vv=new Xa("auth","Firebase",yv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Bh("@firebase/auth");function iC(s,...e){qo.logLevel<=be.WARN&&qo.warn(`Auth (${pr}): ${s}`,...e)}function Io(s,...e){qo.logLevel<=be.ERROR&&qo.error(`Auth (${pr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(s,...e){throw Vh(s,...e)}function fn(s,...e){return Vh(s,...e)}function Ev(s,e,i){const a={...nC(),[e]:i};return new Xa("auth","Firebase",a).create(e,{appName:s.name})}function xn(s){return Ev(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return vv.create(s,...e)}function J(s,e,...i){if(!s)throw Vh(e,...i)}function On(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Io(e),new Error(e)}function Un(s,e){s||On(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){return typeof self<"u"&&self.location?.href||""}function sC(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||Db()||"connection"in navigator)?navigator.onLine:!0}function aC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,i){this.shortDelay=e,this.longDelay=i,Un(i>e,"Short delay should be less than long delay!"),this.isMobile=Ph()||cv()}get(){return rC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(s,e){Un(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uC=new Za(3e4,6e4);function Ni(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Oi(s,e,i,a,o={}){return bv(s,o,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const d=dr({key:s.config.apiKey,...h}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const m={method:e,headers:p,...c};return Ib()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&hr(s.emulatorConfig.host)&&(m.credentials="include"),Sv.fetch()(await Tv(s,s.config.apiHost,i,d),m)})}async function bv(s,e,i){s._canInitEmulator=!1;const a={...lC,...e};try{const o=new fC(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Ro(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ro(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Ro(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw Ro(s,"user-disabled",h);const y=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ev(s,y,m);Jt(s,y)}}catch(o){if(o instanceof Ai)throw o;Jt(s,"network-request-failed",{message:String(o)})}}async function $a(s,e,i,a,o={}){const c=await Oi(s,e,i,a,o);return"mfaPendingCredential"in c&&Jt(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Tv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,h=c.config.emulator?Gh(s.config,o):`${s.config.apiScheme}://${o}`;return oC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function cC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(fn(this.auth,"network-request-failed")),uC.get())})}}function Ro(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=fn(s,e,a);return o.customData._tokenResponse=i,o}function W_(s){return s!==void 0&&s.enterprise!==void 0}class hC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return cC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dC(s,e){return Oi(s,"GET","/v2/recaptchaConfig",Ni(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(s,e){return Oi(s,"POST","/v1/accounts:delete",e)}async function jo(s,e){return Oi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mC(s,e=!1){const i=ft(s),a=await i.getIdToken(e),o=Yh(a);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:a,authTime:Ia(th(o.auth_time)),issuedAtTime:Ia(th(o.iat)),expirationTime:Ia(th(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function th(s){return Number(s)*1e3}function Yh(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Io("JWT malformed, contained fewer than 3 sections"),null;try{const o=Po(i);return o?JSON.parse(o):(Io("Failed to decode base64 JWT payload"),null)}catch(o){return Io("Caught error parsing JWT payload as JSON",o?.toString()),null}}function X_(s){const e=Yh(s);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ai&&gC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ia(this.lastLoginAt),this.creationTime=Ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(s){const e=s.auth,i=await s.getIdToken(),a=await Pa(s,jo(e,{idToken:i}));J(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Cv(o.providerUserInfo):[],h=vC(s.providerData,c),d=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!h?.length,m=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Eh(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(s,y)}async function yC(s){const e=ft(s);await Vo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vC(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Cv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(s,e){const i=await bv(s,{},async()=>{const a=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await Tv(s,o,"/v1/token",`key=${c}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return s.emulatorConfig&&hr(s.emulatorConfig.host)&&(p.credentials="include"),Sv.fetch()(h,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function SC(s,e){return Oi(s,"POST","/v2/accounts:revokeToken",Ni(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){J(e.length!==0,"internal-error");const i=X_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await EC(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new Js;return a&&(J(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(J(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(J(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,e){J(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wt{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Pa(this,this.stsTokenManager.getToken(this.auth,e));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return mC(this,e)}reload(){return yC(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Vo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(xn(this.auth));const e=await this.getIdToken();return await Pa(this,pC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,p=i._redirectEventId??void 0,m=i.createdAt??void 0,y=i.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:O,providerData:D,stsTokenManager:P}=i;J(v&&P,e,"internal-error");const H=Js.fromJSON(this.name,P);J(typeof v=="string",e,"internal-error"),di(a,e.name),di(o,e.name),J(typeof E=="boolean",e,"internal-error"),J(typeof O=="boolean",e,"internal-error"),di(c,e.name),di(h,e.name),di(d,e.name),di(p,e.name),di(m,e.name),di(y,e.name);const V=new Wt({uid:v,auth:e,email:o,emailVerified:E,displayName:a,isAnonymous:O,photoURL:h,phoneNumber:c,tenantId:d,stsTokenManager:H,createdAt:m,lastLoginAt:y});return D&&Array.isArray(D)&&(V.providerData=D.map(q=>({...q}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,i,a=!1){const o=new Js;o.updateFromServerResponse(i);const c=new Wt({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Vo(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];J(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Cv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,d=new Js;d.updateFromIdToken(a);const p=new Wt({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Eh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function In(s){Un(s instanceof Function,"Expected a class definition");let e=Z_.get(s);return e?(Un(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Z_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}wv.type="NONE";const $_=wv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(s,e,i){return`firebase:${s}:${e}:${i}`}class er{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Do(this.userKey,o.apiKey,c),this.fullPersistenceKey=Do("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await jo(this.auth,{idToken:e}).catch(()=>{});return i?Wt._fromGetAccountInfoResponse(this.auth,i,e):null}return Wt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new er(In($_),e,a);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||In($_);const h=Do(a,e.config.apiKey,e.name);let d=null;for(const m of i)try{const y=await m._get(h);if(y){let v;if(typeof y=="string"){const E=await jo(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Wt._fromGetAccountInfoResponse(e,E,y)}else v=Wt._fromJSON(e,y);m!==c&&(d=v),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new er(c,e,a):(c=p[0],d&&await c._set(h,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==c)try{await m._remove(h)}catch{}})),new er(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ov(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dv(e))return"Blackberry";if(xv(e))return"Webos";if(Av(e))return"Safari";if((e.includes("chrome/")||Nv(e))&&!e.includes("edge/"))return"Chrome";if(Iv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Rv(s=pt()){return/firefox\//i.test(s)}function Av(s=pt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nv(s=pt()){return/crios\//i.test(s)}function Ov(s=pt()){return/iemobile/i.test(s)}function Iv(s=pt()){return/android/i.test(s)}function Dv(s=pt()){return/blackberry/i.test(s)}function xv(s=pt()){return/webos/i.test(s)}function Fh(s=pt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bC(s=pt()){return Fh(s)&&!!window.navigator?.standalone}function TC(){return xb()&&document.documentMode===10}function Mv(s=pt()){return Fh(s)||Iv(s)||xv(s)||Dv(s)||/windows phone/i.test(s)||Ov(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(s,e=[]){let i;switch(s){case"Browser":i=J_(pt());break;case"Worker":i=`${J_(pt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${pr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((h,d)=>{try{const p=e(c);h(p)}catch(p){d(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(s,e={}){return Oi(s,"GET","/v2/passwordPolicy",Ni(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=6;class AC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??RC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ey(this),this.idTokenSubscription=new ey(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=In(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await er.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await jo(this,{idToken:e}),a=await Wt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Vo(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(xn(this));const i=e?ft(e):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wC(this),i=new AC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xa("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await SC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&In(e)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await er.create(this,[In(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(i);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function os(s){return ft(s)}class ey{constructor(e){this.auth=e,this.observer=null,this.addObserver=jb(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(s){fu=s}function Lv(s){return fu.loadJS(s)}function IC(){return fu.recaptchaEnterpriseScript}function DC(){return fu.gapiScript}function xC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class MC{constructor(){this.enterprise=new kC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class kC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const LC="recaptcha-enterprise",Uv="NO_RECAPTCHA";class UC{constructor(e){this.type=LC,this.auth=os(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,d)=>{dC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new hC(p);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,h(m.siteKey)}}).catch(p=>{d(p)})})}function o(c,h,d){const p=window.grecaptcha;W_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(m=>{h(m)}).catch(()=>{h(Uv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MC().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(d=>{if(!i&&W_(window.grecaptcha))o(d,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=IC();p.length!==0&&(p+=d),Lv(p).then(()=>{o(d,c,h)}).catch(m=>{h(m)})}}).catch(d=>{h(d)})})}}async function ty(s,e,i,a=!1,o=!1){const c=new UC(s);let h;if(o)h=Uv;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const d={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Sh(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ty(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ty(s,e,i,i==="getOobCode");return a(s,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(s,e){const i=jh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ts(c,e??{}))return o;Jt(o,"already-initialized")}return i.initialize({options:e})}function PC(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(In);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function HC(s,e,i){const a=os(s);J(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=zv(e),{host:h,port:d}=BC(e),p=d===null?"":`:${d}`,m={url:`${c}//${h}${p}/`},y=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){J(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),J(ts(m,a.config.emulator)&&ts(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,hr(h)?(ov(`${c}//${h}${p}`),uv("Auth",!0)):qC()}function zv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function BC(s){const e=zv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:ny(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:ny(h)}}}function ny(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function qC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,i){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}async function jC(s,e){return Oi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(s,e){return $a(s,"POST","/v1/accounts:signInWithPassword",Ni(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(s,e){return $a(s,"POST","/v1/accounts:signInWithEmailLink",Ni(s,e))}async function YC(s,e){return $a(s,"POST","/v1/accounts:signInWithEmailLink",Ni(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Qh{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Ha(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ha(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,i,"signInWithPassword",VC);case"emailLink":return GC(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,a,"signUpPassword",jC);case"emailLink":return YC(e,{idToken:i,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tr(s,e){return $a(s,"POST","/v1/accounts:signInWithIdp",Ni(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class is extends Qh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Jt("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const h=new is(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return tr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,tr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,tr(e,i)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=dr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KC(s){const e=Aa(Na(s)).link,i=e?Aa(Na(e)).deep_link_id:null,a=Aa(Na(s)).deep_link_id;return(a?Aa(Na(a)).link:null)||a||i||e||s}class Kh{constructor(e){const i=Aa(Na(e)),a=i.apiKey??null,o=i.oobCode??null,c=QC(i.mode??null);J(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=KC(e);try{return new Kh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.providerId=mr.PROVIDER_ID}static credential(e,i){return Ha._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Kh.parseLink(i);return J(a,"argument-error"),Ha._fromEmailAndCode(e,a.code,a.tenantId)}}mr.PROVIDER_ID="password";mr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Pv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Ja{constructor(){super("facebook.com")}static credential(e){return is._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return is._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return mi.credential(i,a)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Ja{constructor(){super("github.com")}static credential(e){return is._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ja{constructor(){super("twitter.com")}static credential(e,i){return is._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return _i.credential(i,a)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(s,e){return $a(s,"POST","/v1/accounts:signUp",Ni(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Wt._fromIdTokenResponse(e,a,o),h=iy(a);return new ss({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=iy(a);return new ss({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function iy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ai{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Go(e,i,a,o)}}function Hv(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Go._fromErrorAndOperation(s,c,e,a):c})}async function XC(s,e,i=!1){const a=await Pa(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ss._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(s,e,i=!1){const{auth:a}=s;if(Gt(a.app))return Promise.reject(xn(a));const o="reauthenticate";try{const c=await Pa(s,Hv(a,o,e,s),i);J(c.idToken,a,"internal-error");const h=Yh(c.idToken);J(h,a,"internal-error");const{sub:d}=h;return J(s.uid===d,a,"user-mismatch"),ss._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jt(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(s,e,i=!1){if(Gt(s.app))return Promise.reject(xn(s));const a="signIn",o=await Hv(s,a,e),c=await ss._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function $C(s,e){return Bv(os(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(s){const e=os(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JC(s,e,i){if(Gt(s.app))return Promise.reject(xn(s));const a=os(s),h=await Sh(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&qv(s),p}),d=await ss._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function ew(s,e,i){return Gt(s.app)?Promise.reject(xn(s)):$C(ft(s),mr.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&qv(s),a})}function tw(s,e,i,a){return ft(s).onIdTokenChanged(e,i,a)}function nw(s,e,i){return ft(s).beforeAuthStateChanged(e,i)}function iw(s,e,i,a){return ft(s).onAuthStateChanged(e,i,a)}const Yo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=1e3,rw=10;class Vv extends jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);TC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vv.type="LOCAL";const aw=Vv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Gv.type="SESSION";const Yv=Gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new hu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async m=>m(i.origin,c)),p=await lw(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,p)=>{const m=Wh("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(E.data.response);break;default:clearTimeout(y),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function uw(s){hn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){return navigator?.serviceWorker?.controller||null}function hw(){return Fv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="firebaseLocalStorageDb",dw=1,Fo="firebaseLocalStorage",Kv="fbase_key";class el{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function du(s,e){return s.transaction([Fo],e?"readwrite":"readonly").objectStore(Fo)}function pw(){const s=indexedDB.deleteDatabase(Qv);return new el(s).toPromise()}function bh(){const s=indexedDB.open(Qv,dw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Fo,{keyPath:Kv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Fo)?e(a):(a.close(),await pw(),e(await bh()))})})}async function sy(s,e,i){const a=du(s,!0).put({[Kv]:e,value:i});return new el(a).toPromise()}async function mw(s,e){const i=du(s,!1).get(e),a=await new el(i).toPromise();return a===void 0?null:a.value}function ry(s,e){const i=du(s,!0).delete(e);return new el(i).toPromise()}const gw=800,_w=3;class Wv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>_w)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hu._getInstance(hw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cw(),!this.activeServiceWorker)return;this.sender=new ow(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bh();return await sy(e,Yo,"1"),await ry(e,Yo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>mw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ry(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=du(o,!1).getAll();return new el(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wv.type="LOCAL";const yw=Wv;new Za(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(s,e){return e?In(e):(J(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends Qh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return tr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return tr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Ew(s){return Bv(s.auth,new Xh(s),s.bypassAuthState)}function Sw(s){const{auth:e,user:i}=s;return J(i,e,"internal-error"),ZC(i,new Xh(s),s.bypassAuthState)}async function bw(s){const{auth:e,user:i}=s;return J(i,e,"internal-error"),XC(i,new Xh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:Jt(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Za(2e3,1e4);class Zs extends Xv{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=Wh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tw.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="pendingRedirect",xo=new Map;class ww extends Xv{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=xo.get(this.auth._key());if(!e){try{const a=await Rw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}xo.set(this.auth._key(),e)}return this.bypassAuthState||xo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(s,e){const i=Ow(e),a=Nw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Aw(s,e){xo.set(s._key(),e)}function Nw(s){return In(s._redirectPersistence)}function Ow(s){return Do(Cw,s.config.apiKey,s.name)}async function Iw(s,e,i=!1){if(Gt(s.app))return Promise.reject(xn(s));const a=os(s),o=vw(a,e),h=await new ww(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=600*1e3;class xw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Zv(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(fn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(ay(e))}saveEventToCache(e){this.cachedEventUids.add(ay(e)),this.lastProcessedEventTime=Date.now()}}function ay(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Zv({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Mw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(s,e={}){return Oi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uw=/^https?/;async function zw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await kw(s);for(const i of e)try{if(Pw(i))return}catch{}Jt(s,"unauthorized-domain")}function Pw(s){const e=vh(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!Uw.test(i))return!1;if(Lw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Za(3e4,6e4);function ly(){const s=hn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Bw(s){return new Promise((e,i)=>{function a(){ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ly(),i(fn(s,"network-request-failed"))},timeout:Hw.get()})}if(hn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hn().gapi?.load)a();else{const o=xC("iframefcb");return hn()[o]=()=>{gapi.load?a():i(fn(s,"network-request-failed"))},Lv(`${DC()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Mo=null,e})}let Mo=null;function qw(s){return Mo=Mo||Bw(s),Mo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Za(5e3,15e3),Vw="__/auth/iframe",Gw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qw(s){const e=s.config;J(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Gh(e,Gw):`https://${s.config.authDomain}/${Vw}`,a={apiKey:e.apiKey,appName:s.name,v:pr},o=Fw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${dr(a).slice(1)}`}async function Kw(s){const e=await qw(s),i=hn().gapi;return J(i,s,"internal-error"),e.open({where:document.body,url:Qw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=fn(s,"network-request-failed"),d=hn().setTimeout(()=>{c(h)},jw.get());function p(){hn().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xw=500,Zw=600,$w="_blank",Jw="http://localhost";class oy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(s,e,i,a=Xw,o=Zw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...Ww,width:a.toString(),height:o.toString(),top:c,left:h},m=pt().toLowerCase();i&&(d=Nv(m)?$w:i),Rv(m)&&(e=e||Jw,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[O,D])=>`${E}${O}=${D},`,"");if(bC(m)&&d!=="_self")return tR(e||"",d),new oy(null);const v=window.open(e||"",d,y);J(v,s,"popup-blocked");try{v.focus()}catch{}return new oy(v)}function tR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="__/auth/handler",iR="emulator/auth/handler",sR=encodeURIComponent("fac");async function uy(s,e,i,a,o,c){J(s.config.authDomain,s,"auth-domain-config-required"),J(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:pr,eventId:o};if(e instanceof Pv){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",dh(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))h[y]=v}if(e instanceof Ja){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(h.scopes=y.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await s._getAppCheckToken(),m=p?`#${sR}=${encodeURIComponent(p)}`:"";return`${rR(s)}?${dr(d).slice(1)}${m}`}function rR({config:s}){return s.emulator?Gh(s,iR):`https://${s.authDomain}/${nR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yv,this._completeRedirectFn=Iw,this._overrideRedirectResult=Aw}async _openPopup(e,i,a,o){Un(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uy(e,i,a,vh(),o);return eR(e,c,Wh())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await uy(e,i,a,vh(),o);return uw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Un(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Kw(e),a=new xw(e);return i.register("authEvent",o=>(J(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nh,{type:nh},o=>{const c=o?.[0]?.[nh];c!==void 0&&i(!!c),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Mv()||Av()||Fh()}}const lR=aR;var cy="@firebase/auth",fy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(s){rr(new ns("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;J(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kv(s)},m=new NC(a,o,c,p);return PC(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),rr(new ns("auth-internal",e=>{const i=os(e.getProvider("auth").getImmediate());return(a=>new oR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(cy,fy,uR(s)),Si(cy,fy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=300,hR=lv("authIdTokenMaxAge")||fR;let hy=null;const dR=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>hR)return;const o=i?.token;hy!==o&&(hy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pR(s=mv()){const e=jh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=zC(s,{popupRedirectResolver:lR,persistence:[yw,aw,Yv]}),a=lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=dR(c.toString());nw(i,h,()=>h(i.currentUser)),tw(i,d=>h(d))}}const o=rv("auth");return o&&HC(i,`http://${o}`),i}function mR(){return document.getElementsByTagName("head")?.[0]??document}OC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=fn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",mR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var dy={};const py="@firebase/database",my="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v="";function gR(s){$v=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ye(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ua(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _R(e)}}catch{}return new yR},Ji=Jv("localStorage"),vR=Jv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Bh("@firebase/database"),ER=(function(){let s=1;return function(){return s++}})(),e0=function(s){const e=Yb(s),i=new qb;i.update(e);const a=i.digest();return Uh.encodeByteArray(a)},tl=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=tl.apply(null,a):typeof a=="object"?e+=Ye(a):e+=a,e+=" "}return e};let Da=null,gy=!0;const SR=function(s,e){B(!0,"Can't turn on custom loggers persistently."),nr.logLevel=be.VERBOSE,Da=nr.log.bind(nr)},ct=function(...s){if(gy===!0&&(gy=!1,Da===null&&vR.get("logging_enabled")===!0&&SR()),Da){const e=tl.apply(null,s);Da(e)}},nl=function(s){return function(...e){ct(s,...e)}},Th=function(...s){const e="FIREBASE INTERNAL ERROR: "+tl(...s);nr.error(e)},zn=function(...s){const e=`FIREBASE FATAL ERROR: ${tl(...s)}`;throw nr.error(e),new Error(e)},St=function(...s){const e="FIREBASE WARNING: "+tl(...s);nr.warn(e)},bR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},t0=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},TR=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ar="[MIN_NAME]",rs="[MAX_NAME]",gr=function(s,e){if(s===e)return 0;if(s===ar||e===rs)return-1;if(e===ar||s===rs)return 1;{const i=_y(s),a=_y(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},CR=function(s,e){return s===e?0:s<e?-1:1},ba=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Ye(e))},Zh=function(s){if(typeof s!="object"||s===null)return Ye(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Ye(e[a]),i+=":",i+=Zh(s[e[a]]);return i+="}",i},n0=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function bt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const i0=function(s){B(!t0(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,c,h,d,p;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(p=i;p;p-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(p=e;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const y=m.join("");let v="";for(p=0;p<64;p+=8){let E=parseInt(y.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},wR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function AR(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const NR=new RegExp("^-?(0*)\\d{1,10}$"),OR=-2147483648,IR=2147483647,_y=function(s){if(NR.test(s)){const e=Number(s);if(e>=OR&&e<=IR)return e}return null},_r=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw St("Exception was thrown by user callback.",i),e},Math.floor(0))}},DR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xa=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class ko{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ko.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="5",s0="v",r0="s",a0="r",l0="f",o0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,u0="ls",c0="p",Ch="ac",f0="websocket",h0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,i,a,o,c=!1,h="",d=!1,p=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function kR(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function p0(s,e,i){B(typeof e=="string","typeof type must == string"),B(typeof i=="object","typeof params must == object");let a;if(e===f0)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===h0)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kR(s)&&(i.ns=s.namespace);const o=[];return bt(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.counters_={}}incrementCounter(e,i=1){Hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return Eb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih={},sh={};function Jh(s){const e=s.toString();return ih[e]||(ih[e]=new LR),ih[e]}function UR(s,e){const i=s.toString();return sh[i]||(sh[i]=e()),sh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&_r(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="start",PR="close",HR="pLPCommand",BR="pRTLPCB",m0="id",g0="pw",_0="ser",qR="cb",jR="seg",VR="ts",GR="d",YR="dframe",y0=1870,v0=30,FR=y0-v0,QR=25e3,KR=3e4;class $s{constructor(e,i,a,o,c,h,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nl(e),this.stats_=Jh(i),this.urlFn=p=>(this.appCheckToken&&(p[Ch]=this.appCheckToken),p0(i,h0,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new zR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(KR)),TR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ed((...c)=>{const[h,d,p,m,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===yy)this.id=d,this.password=p;else if(h===PR)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,d]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[yy]="t",a[_0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[qR]=this.scriptTagHolder.uniqueCallbackIdentifier),a[s0]=$h,this.transportSessionId&&(a[r0]=this.transportSessionId),this.lastSessionId&&(a[u0]=this.lastSessionId),this.applicationId&&(a[c0]=this.applicationId),this.appCheckToken&&(a[Ch]=this.appCheckToken),typeof location<"u"&&location.hostname&&o0.test(location.hostname)&&(a[a0]=l0);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$s.forceAllow_=!0}static forceDisallow(){$s.forceDisallow_=!0}static isAvailable(){return $s.forceAllow_?!0:!$s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wR()&&!RR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Ye(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=iv(i),o=n0(a,FR);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[YR]="t",a[m0]=e,a[g0]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Ye(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class ed{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ER(),window[HR+this.uniqueCallbackIdentifier]=e,window[BR+this.uniqueCallbackIdentifier]=i,this.myIFrame=ed.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){ct("frame writing exception"),d.stack&&ct(d.stack),ct(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[m0]=this.myID,e[g0]=this.myPW,e[_0]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+v0+a.length<=y0;){const h=this.pendingSegs.shift();a=a+"&"+jR+o+"="+h.seg+"&"+VR+o+"="+h.ts+"&"+GR+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(QR)),c=()=>{clearTimeout(o),a()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=16384,XR=45e3;let Qo=null;typeof MozWebSocket<"u"?Qo=MozWebSocket:typeof WebSocket<"u"&&(Qo=WebSocket);class Kt{constructor(e,i,a,o,c,h,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nl(this.connId),this.stats_=Jh(i),this.connURL=Kt.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,c){const h={};return h[s0]=$h,typeof location<"u"&&location.hostname&&o0.test(location.hostname)&&(h[a0]=l0),i&&(h[r0]=i),a&&(h[u0]=a),o&&(h[Ch]=o),c&&(h[c0]=c),p0(e,f0,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let a;Mb(),this.mySock=new Qo(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Qo!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ua(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Ye(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=n0(i,WR);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XR))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static get ALL_TRANSPORTS(){return[$s,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Kt&&Kt.isAvailable();let a=i&&!Kt.previouslyFailed();if(e.webSocketOnly&&(i||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Kt];else{const o=this.transports_=[];for(const c of Ba.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Ba.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ba.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=6e4,$R=5e3,JR=10*1024,eA=100*1024,rh="t",vy="d",tA="s",Ey="r",nA="e",Sy="o",by="a",Ty="n",Cy="p",iA="h";class sA{constructor(e,i,a,o,c,h,d,p,m,y){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nl("c:"+this.id+":"),this.transportManager_=new Ba(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=xa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>JR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rh in e){const i=e[rh];i===by?this.upgradeIfSecondaryHealthy_():i===Ey?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Sy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=ba("t",e),a=ba("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Cy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:by,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ty,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=ba("t",e),a=ba("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=ba(rh,e);if(vy in e){const a=e[vy];if(i===iA){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Ty){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===tA?this.onConnectionShutdown_(a):i===Ey?this.onReset_(a):i===nA?Th("Server Error: "+a):i===Sy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Th("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),$h!==a&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),xa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ZR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($R))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Cy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(e){B(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends S0{static getInstance(){return new Ko}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ph()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=32,Ry=768;class Re{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function me(){return new Re("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ci(s){return s.pieces_.length-s.pieceNum_}function Ne(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Re(s.pieces_,e)}function b0(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function rA(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function T0(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function C0(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Re(e,0)}function Fe(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Re)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Re(i,0)}function ce(s){return s.pieceNum_>=s.pieces_.length}function dt(s,e){const i=fe(s),a=fe(e);if(i===null)return e;if(i===a)return dt(Ne(s),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function w0(s,e){if(Ci(s)!==Ci(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function Xt(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Ci(s)>Ci(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class aA{constructor(e,i){this.errorPrefix_=i,this.parts_=T0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=cu(this.parts_[a]);R0(this)}}function lA(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=cu(e),R0(s)}function oA(s){const e=s.parts_.pop();s.byteLength_-=cu(e),s.parts_.length>0&&(s.byteLength_-=1)}function R0(s){if(s.byteLength_>Ry)throw new Error(s.errorPrefix_+"has a key path longer than "+Ry+" bytes ("+s.byteLength_+").");if(s.parts_.length>wy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wy+") or object contains a cycle "+$i(s))}function $i(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends S0{static getInstance(){return new td}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=1e3,uA=300*1e3,Ay=30*1e3,cA=1.3,fA=3e4,hA="server_kill",Ny=3;class Mn extends E0{constructor(e,i,a,o,c,h,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Mn.nextPersistentConnectionId_++,this.log_=nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ta,this.maxReconnectDelay_=uA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");td.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ko.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(Ye(c)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new uu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,a,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(h,c,d=>{const p=d.d,m=d.s;Mn.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Hn(e,"w")){const a=sr(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Bb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ay)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=Hb(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ye(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Th("Unrecognized action received from server: "+Ye(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fA&&(this.reconnectDelay_=Ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Mn.nextConnectionId_++,c=this.lastSessionId;let h=!1,d=null;const p=function(){d?d.close():(h=!0,a())},m=function(v){B(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,d=new sA(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,O=>{St(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(hA)},c))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&St(v),p())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dh(this.interruptReasons_)&&(this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(c=>Zh(c)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Re(e).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){ct("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ny&&(this.reconnectDelay_=Ay,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ct("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ny&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+$v.replace(/\./g,"-")]=1,Ph()?e["framework.cordova"]=1:cv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ko.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&e}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new le(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new le(ar,e),o=new le(ar,i);return this.compare(a,o)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class A0 extends pu{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(e){Ao=e}compare(e,i){return gr(e.name,i.name)}isDefinedOn(e){throw fr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return le.MIN}maxPost(){return new le(rs,Ao)}makePost(e,i){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,Ao)}toString(){return".key"}}const ir=new A0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?a(e.key,i):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??et.RED,this.left=o??Et.EMPTY_NODE,this.right=c??Et.EMPTY_NODE}copy(e,i,a,o,c){return new et(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Et.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return Et.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class dA{copy(e,i,a,o,c){return this}insert(e,i,a){return new et(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Et{constructor(e,i=Et.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Et(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new Et(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new No(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new No(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new No(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new No(this.root_,null,this.comparator_,!0,e)}}Et.EMPTY_NODE=new dA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(s,e){return gr(s.name,e.name)}function nd(s,e){return gr(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;function mA(s){wh=s}const N0=function(s){return typeof s=="number"?"number:"+i0(s):"string:"+s},O0=function(s){if(s.isLeafNode()){const e=s.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hn(e,".sv"),"Priority must be a string or number.")}else B(s===wh||s.isEmpty(),"priority of unexpected type.");B(s===wh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy;class Je{static set __childrenNodeConstructor(e){Oy=e}static get __childrenNodeConstructor(){return Oy}constructor(e,i=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),O0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:fe(e)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=fe(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(B(a!==".priority"||Ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+N0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=i0(this.value_):e+=this.value_,this.lazyHash_=e0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=Je.VALUE_TYPE_ORDER.indexOf(i),c=Je.VALUE_TYPE_ORDER.indexOf(a);return B(o>=0,"Unknown leaf type: "+i),B(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I0,D0;function gA(s){I0=s}function _A(s){D0=s}class yA extends pu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?gr(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return le.MIN}maxPost(){return new le(rs,new Je("[PRIORITY-POST]",D0))}makePost(e,i){const a=I0(e);return new le(i,new Je("[PRIORITY-POST]",a))}toString(){return".priority"}}const ze=new yA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=Math.log(2);class EA{constructor(e){const i=c=>parseInt(Math.log(c)/vA,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wo=function(s,e,i,a){s.sort(e);const o=function(p,m){const y=m-p;let v,E;if(y===0)return null;if(y===1)return v=s[p],E=i?i(v):v,new et(E,v.node,et.BLACK,null,null);{const O=parseInt(y/2,10)+p,D=o(p,O),P=o(O+1,m);return v=s[O],E=i?i(v):v,new et(E,v.node,et.BLACK,D,P)}},c=function(p){let m=null,y=null,v=s.length;const E=function(D,P){const H=v-D,V=v;v-=D;const q=o(H+1,V),K=s[H],Te=i?i(K):K;O(new et(Te,K.node,P,null,q))},O=function(D){m?(m.left=D,m=D):(y=D,m=D)};for(let D=0;D<p.count;++D){const P=p.nextBitIsOne(),H=Math.pow(2,p.count-(D+1));P?E(H,et.BLACK):(E(H,et.BLACK),E(H,et.RED))}return y},h=new EA(s.length),d=c(h);return new Et(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;const Ws={};class Dn{static get Default(){return B(Ws&&ze,"ChildrenNode.ts has not been loaded"),ah=ah||new Dn({".priority":Ws},{".priority":ze}),ah}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=sr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Et?i:null}hasIndex(e){return Hn(this.indexSet_,e.toString())}addIndex(e,i){B(e!==ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(le.Wrap);let h=c.getNext();for(;h;)o=o||e.isDefinedOn(h.node),a.push(h),h=c.getNext();let d;o?d=Wo(a,e.getCompare()):d=Ws;const p=e.toString(),m={...this.indexSet_};m[p]=e;const y={...this.indexes_};return y[p]=d,new Dn(y,m)}addToIndexes(e,i){const a=Ho(this.indexes_,(o,c)=>{const h=sr(this.indexSet_,c);if(B(h,"Missing index implementation for "+c),o===Ws)if(h.isDefinedOn(e.node)){const d=[],p=i.getIterator(le.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),Wo(d,h.getCompare())}else return Ws;else{const d=i.get(e.name);let p=o;return d&&(p=p.remove(new le(e.name,d))),p.insert(e,e.node)}});return new Dn(a,this.indexSet_)}removeFromIndexes(e,i){const a=Ho(this.indexes_,o=>{if(o===Ws)return o;{const c=i.get(e.name);return c?o.remove(new le(e.name,c)):o}});return new Dn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class ee{static get EMPTY_NODE(){return Ca||(Ca=new ee(new Et(nd),null,Dn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&O0(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Ca:i}}getChild(e){const i=fe(e);return i===null?this:this.getImmediateChild(i).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(B(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new le(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?Ca:this.priorityNode_;return new ee(o,h,c)}}updateChild(e,i){const a=fe(e);if(a===null)return i;{B(fe(e)!==".priority"||Ci(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Ne(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(ze,(h,d)=>{i[h]=d.val(e),a++,c&&ee.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+N0(this.getPriority().val())+":"),this.forEachChild(ze,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":e0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new le(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new le(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new le(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,le.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===il?-1:0}withIndex(e){if(e===ir||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ir||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(ze),o=i.getIterator(ze);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===ir?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SA extends ee{constructor(){super(new Et(nd),ee.EMPTY_NODE,Dn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const il=new SA;Object.defineProperties(le,{MIN:{value:new le(ar,ee.EMPTY_NODE)},MAX:{value:new le(rs,il)}});A0.__EMPTY_NODE=ee.EMPTY_NODE;Je.__childrenNodeConstructor=ee;mA(il);_A(il);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=!0;function tt(s,e=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Je(i,tt(e))}if(!(s instanceof Array)&&bA){const i=[];let a=!1;if(bt(s,(h,d)=>{if(h.substring(0,1)!=="."){const p=tt(d);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new le(h,p)))}}),i.length===0)return ee.EMPTY_NODE;const c=Wo(i,pA,h=>h.name,nd);if(a){const h=Wo(i,ze.getCompare());return new ee(c,tt(e),new Dn({".priority":h},{".priority":ze}))}else return new ee(c,tt(e),Dn.Default)}else{let i=ee.EMPTY_NODE;return bt(s,(a,o)=>{if(Hn(s,a)&&a.substring(0,1)!=="."){const c=tt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(tt(e))}}gA(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends pu{constructor(e){super(),this.indexPath_=e,B(!ce(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?gr(e.name,i.name):c}makePost(e,i){const a=tt(e),o=ee.EMPTY_NODE.updateChild(this.indexPath_,a);return new le(i,o)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,il);return new le(rs,e)}toString(){return T0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends pu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?gr(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,i){const a=tt(e);return new le(i,a)}toString(){return".value"}}const wA=new CA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(s){return{type:"value",snapshotNode:s}}function lr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function qa(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function ja(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function RA(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.index_=e}updateChild(e,i,a,o,c,h){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?e.hasChild(i)?h.trackChildChange(qa(i,d)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(lr(i,a)):h.trackChildChange(ja(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(ze,(o,c)=>{i.hasChild(o)||a.trackChildChange(qa(o,c))}),i.isLeafNode()||i.forEachChild(ze,(o,c)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(c)||a.trackChildChange(ja(o,c,h))}else a.trackChildChange(lr(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.indexedFilter_=new id(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Va.getStartPost_(e),this.endPost_=Va.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,c,h){return this.matches(new le(i,a))||(a=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,c,h)}updateFullNode(e,i,a){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const c=this;return i.forEachChild(ze,(h,d)=>{c.matches(new le(h,d))||(o=o.updateImmediateChild(h,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Va(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,c,h){return this.rangedFilter_.matches(new le(i,a))||(a=ee.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,c,h):this.fullLimitUpdateChild_(e,i,a,c,h)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const d=c.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const d=c.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,c){let h;if(this.reverse_){const v=this.index_.getCompare();h=(E,O)=>v(O,E)}else h=this.index_.getCompare();const d=e;B(d.numChildren()===this.limit_,"");const p=new le(i,a),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(d.hasChild(i)){const v=d.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const O=E==null?1:h(E,p);if(y&&!a.isEmpty()&&O>=0)return c?.trackChildChange(ja(i,a,v)),d.updateImmediateChild(i,a);{c?.trackChildChange(qa(i,v));const P=d.updateImmediateChild(i,ee.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(c?.trackChildChange(lr(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return a.isEmpty()?e:y&&h(m,p)>=0?(c!=null&&(c.trackChildChange(qa(m.name,m.node)),c.trackChildChange(lr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(m.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ar}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new sd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function NA(s){return s.loadsAllData()?new id(s.getIndex()):s.hasLimit()?new AA(s):new Va(s)}function OA(s,e){const i=s.copy();return i.limitSet_=!0,i.limit_=e,i.viewFrom_="r",i}function Iy(s){const e={};if(s.isDefault())return e;let i;if(s.index_===ze?i="$priority":s.index_===wA?i="$value":s.index_===ir?i="$key":(B(s.index_ instanceof TA,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Ye(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Ye(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Ye(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Ye(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Ye(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Dy(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==ze&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends E0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=nl("p:rest:"),this.listens_={}}listen(e,i,a,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=Xo.getListenId_(e,a),d={};this.listens_[h]=d;const p=Iy(e._queryParams);this.restRequest_(c+".json",p,(m,y)=>{let v=y;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(c,v,!1,a),sr(this.listens_,h)===d){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",o(E,null)}})}unlisten(e,i){const a=Xo.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Iy(e._queryParams),a=e._path.toString(),o=new uu;return this.restRequest_(a+".json",i,(c,h)=>{let d=h;c===404&&(d=null,c=null),c===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+dr(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Ua(d.responseText)}catch{St("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,p)}else d.status!==401&&d.status!==404&&St("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return{value:null,children:new Map}}function M0(s,e,i){if(ce(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=fe(e);s.children.has(a)||s.children.set(a,Zo());const o=s.children.get(a);e=Ne(e),M0(o,e,i)}}function Rh(s,e,i){s.value!==null?i(e,s.value):DA(s,(a,o)=>{const c=new Re(e.toString()+"/"+a);Rh(o,c,i)})}function DA(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&bt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=10*1e3,MA=30*1e3,kA=300*1e3;class LA{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new xA(e);const a=xy+(MA-xy)*Math.random();xa(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;bt(e,(o,c)=>{c>0&&Hn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),xa(this.reportStats_.bind(this),Math.floor(Math.random()*2*kA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function k0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ad(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=Zt.ACK_USER_WRITE,this.source=k0()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(e));return new $o(me(),i,this.revert)}}else return B(fe(this.path)===e,"operationForChild called for unrelated child."),new $o(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,i){this.source=e,this.path=i,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new Ga(this.source,me()):new Ga(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=Zt.OVERWRITE}operationForChild(e){return ce(this.path)?new as(this.source,me(),this.snap.getImmediateChild(e)):new as(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=Zt.MERGE}operationForChild(e){if(ce(this.path)){const i=this.children.subtree(new Re(e));return i.isEmpty()?null:i.value?new as(this.source,me(),i.value):new Ya(this.source,me(),i)}else return B(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ya(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const i=fe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zA(s,e,i,a){const o=[],c=[];return e.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(RA(h.childName,h.snapshotNode))}),wa(s,o,"child_removed",e,a,i),wa(s,o,"child_added",e,a,i),wa(s,o,"child_moved",c,a,i),wa(s,o,"child_changed",e,a,i),wa(s,o,"value",e,a,i),o}function wa(s,e,i,a,o,c){const h=a.filter(d=>d.type===i);h.sort((d,p)=>HA(s,d,p)),h.forEach(d=>{const p=PA(s,d,c);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,s.query_))})})}function PA(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function HA(s,e,i){if(e.childName==null||i.childName==null)throw fr("Should only compare child_ events.");const a=new le(e.childName,e.snapshotNode),o=new le(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(s,e){return{eventCache:s,serverCache:e}}function Ma(s,e,i,a){return mu(new wi(e,i,a),s.serverCache)}function L0(s,e,i,a){return mu(s.eventCache,new wi(e,i,a))}function Jo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ls(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;const BA=()=>(lh||(lh=new Et(CR)),lh);class Oe{static fromObject(e){let i=new Oe(null);return bt(e,(a,o)=>{i=i.set(new Re(a),o)}),i}constructor(e,i=BA()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:me(),value:this.value};if(ce(e))return null;{const a=fe(e),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ne(e),i);return c!=null?{path:Fe(new Re(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const i=fe(e),a=this.children.get(i);return a!==null?a.subtree(Ne(e)):new Oe(null)}}set(e,i){if(ce(e))return new Oe(i,this.children);{const a=fe(e),c=(this.children.get(a)||new Oe(null)).set(Ne(e),i),h=this.children.insert(a,c);return new Oe(this.value,h)}}remove(e){if(ce(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const i=fe(e),a=this.children.get(i);if(a){const o=a.remove(Ne(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Oe(null):new Oe(this.value,c)}else return this}}get(e){if(ce(e))return this.value;{const i=fe(e),a=this.children.get(i);return a?a.get(Ne(e)):null}}setTree(e,i){if(ce(e))return i;{const a=fe(e),c=(this.children.get(a)||new Oe(null)).setTree(Ne(e),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new Oe(this.value,h)}}fold(e){return this.fold_(me(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(Fe(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,me(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(ce(e))return null;{const c=fe(e),h=this.children.get(c);return h?h.findOnPath_(Ne(e),Fe(i,c),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,me(),i)}foreachOnPath_(e,i,a){if(ce(e))return this;{this.value&&a(i,this.value);const o=fe(e),c=this.children.get(o);return c?c.foreachOnPath_(Ne(e),Fe(i,o),a):new Oe(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Fe(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.writeTree_=e}static empty(){return new $t(new Oe(null))}}function ka(s,e,i){if(ce(e))return new $t(new Oe(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let c=a.value;const h=dt(o,e);return c=c.updateChild(h,i),new $t(s.writeTree_.set(o,c))}else{const o=new Oe(i),c=s.writeTree_.setTree(e,o);return new $t(c)}}}function My(s,e,i){let a=s;return bt(i,(o,c)=>{a=ka(a,Fe(e,o),c)}),a}function ky(s,e){if(ce(e))return $t.empty();{const i=s.writeTree_.setTree(e,new Oe(null));return new $t(i)}}function Ah(s,e){return us(s,e)!=null}function us(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(dt(i.path,e)):null}function Ly(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ze,(a,o)=>{e.push(new le(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new le(a,o.value))}),e}function bi(s,e){if(ce(e))return s;{const i=us(s,e);return i!=null?new $t(new Oe(i)):new $t(s.writeTree_.subtree(e))}}function Nh(s){return s.writeTree_.isEmpty()}function or(s,e){return U0(me(),s.writeTree_,e)}function U0(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(B(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=U0(Fe(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Fe(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(s,e){return B0(e,s)}function qA(s,e,i,a,o){B(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=ka(s.visibleWrites,e,i)),s.lastWriteId=a}function jA(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function VA(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);B(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&GA(d,a.path)?o=!1:Xt(a.path,d.path)&&(c=!0)),h--}if(o){if(c)return YA(s),!0;if(a.snap)s.visibleWrites=ky(s.visibleWrites,a.path);else{const d=a.children;bt(d,p=>{s.visibleWrites=ky(s.visibleWrites,Fe(a.path,p))})}return!0}else return!1}function GA(s,e){if(s.snap)return Xt(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Xt(Fe(s.path,i),e))return!0;return!1}function YA(s){s.visibleWrites=z0(s.allWrites,FA,me()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function FA(s){return s.visible}function z0(s,e,i){let a=$t.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const h=c.path;let d;if(c.snap)Xt(i,h)?(d=dt(i,h),a=ka(a,d,c.snap)):Xt(h,i)&&(d=dt(h,i),a=ka(a,me(),c.snap.getChild(d)));else if(c.children){if(Xt(i,h))d=dt(i,h),a=My(a,d,c.children);else if(Xt(h,i))if(d=dt(h,i),ce(d))a=My(a,me(),c.children);else{const p=sr(c.children,fe(d));if(p){const m=p.getChild(Ne(d));a=ka(a,me(),m)}}}else throw fr("WriteRecord should have .snap or .children")}}return a}function P0(s,e,i,a,o){if(!a&&!o){const c=us(s.visibleWrites,e);if(c!=null)return c;{const h=bi(s.visibleWrites,e);if(Nh(h))return i;if(i==null&&!Ah(h,me()))return null;{const d=i||ee.EMPTY_NODE;return or(h,d)}}}else{const c=bi(s.visibleWrites,e);if(!o&&Nh(c))return i;if(!o&&i==null&&!Ah(c,me()))return null;{const h=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(Xt(m.path,e)||Xt(e,m.path))},d=z0(s.allWrites,h,e),p=i||ee.EMPTY_NODE;return or(d,p)}}}function QA(s,e,i){let a=ee.EMPTY_NODE;const o=us(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ze,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=bi(s.visibleWrites,e);return i.forEachChild(ze,(h,d)=>{const p=or(bi(c,new Re(h)),d);a=a.updateImmediateChild(h,p)}),Ly(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=bi(s.visibleWrites,e);return Ly(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function KA(s,e,i,a,o){B(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=Fe(e,i);if(Ah(s.visibleWrites,c))return null;{const h=bi(s.visibleWrites,c);return Nh(h)?o.getChild(i):or(h,o.getChild(i))}}function WA(s,e,i,a){const o=Fe(e,i),c=us(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=bi(s.visibleWrites,o);return or(h,a.getNode().getImmediateChild(i))}else return null}function XA(s,e){return us(s.visibleWrites,e)}function ZA(s,e,i,a,o,c,h){let d;const p=bi(s.visibleWrites,e),m=us(p,me());if(m!=null)d=m;else if(i!=null)d=or(p,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const y=[],v=h.getCompare(),E=c?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let O=E.getNext();for(;O&&y.length<o;)v(O,a)!==0&&y.push(O),O=E.getNext();return y}else return[]}function $A(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function eu(s,e,i,a){return P0(s.writeTree,s.treePath,e,i,a)}function ld(s,e){return QA(s.writeTree,s.treePath,e)}function Uy(s,e,i,a){return KA(s.writeTree,s.treePath,e,i,a)}function tu(s,e){return XA(s.writeTree,Fe(s.treePath,e))}function JA(s,e,i,a,o,c){return ZA(s.writeTree,s.treePath,e,i,a,o,c)}function od(s,e,i){return WA(s.writeTree,s.treePath,e,i)}function H0(s,e){return B0(Fe(s.treePath,e),s.writeTree)}function B0(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;B(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),B(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,ja(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,qa(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,lr(a,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,ja(a,e.snapshotNode,o.oldSnap));else throw fr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const q0=new t2;class ud{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return od(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ls(this.viewCache_),c=JA(this.writes_,o,i,1,a,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){return{filter:s}}function i2(s,e){B(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function s2(s,e,i,a,o){const c=new e2;let h,d;if(i.type===Zt.OVERWRITE){const m=i;m.source.fromUser?h=Oh(s,e,m.path,m.snap,a,o,c):(B(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ce(m.path),h=nu(s,e,m.path,m.snap,a,o,d,c))}else if(i.type===Zt.MERGE){const m=i;m.source.fromUser?h=a2(s,e,m.path,m.children,a,o,c):(B(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),h=Ih(s,e,m.path,m.children,a,o,d,c))}else if(i.type===Zt.ACK_USER_WRITE){const m=i;m.revert?h=u2(s,e,m.path,a,o,c):h=l2(s,e,m.path,m.affectedTree,a,o,c)}else if(i.type===Zt.LISTEN_COMPLETE)h=o2(s,e,i.path,a,c);else throw fr("Unknown operation type: "+i.type);const p=c.getChanges();return r2(e,h,p),{viewCache:h,changes:p}}function r2(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=Jo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(x0(Jo(e)))}}function j0(s,e,i,a,o,c){const h=e.eventCache;if(tu(a,i)!=null)return e;{let d,p;if(ce(i))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ls(e),y=m instanceof ee?m:ee.EMPTY_NODE,v=ld(a,y);d=s.filter.updateFullNode(e.eventCache.getNode(),v,c)}else{const m=eu(a,ls(e));d=s.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=fe(i);if(m===".priority"){B(Ci(i)===1,"Can't have a priority with additional path components");const y=h.getNode();p=e.serverCache.getNode();const v=Uy(a,i,y,p);v!=null?d=s.filter.updatePriority(y,v):d=h.getNode()}else{const y=Ne(i);let v;if(h.isCompleteForChild(m)){p=e.serverCache.getNode();const E=Uy(a,i,h.getNode(),p);E!=null?v=h.getNode().getImmediateChild(m).updateChild(y,E):v=h.getNode().getImmediateChild(m)}else v=od(a,m,e.serverCache);v!=null?d=s.filter.updateChild(h.getNode(),m,v,y,o,c):d=h.getNode()}}return Ma(e,d,h.isFullyInitialized()||ce(i),s.filter.filtersNodes())}}function nu(s,e,i,a,o,c,h,d){const p=e.serverCache;let m;const y=h?s.filter:s.filter.getIndexedFilter();if(ce(i))m=y.updateFullNode(p.getNode(),a,null);else if(y.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(i,a);m=y.updateFullNode(p.getNode(),O,null)}else{const O=fe(i);if(!p.isCompleteForPath(i)&&Ci(i)>1)return e;const D=Ne(i),H=p.getNode().getImmediateChild(O).updateChild(D,a);O===".priority"?m=y.updatePriority(p.getNode(),H):m=y.updateChild(p.getNode(),O,H,D,q0,null)}const v=L0(e,m,p.isFullyInitialized()||ce(i),y.filtersNodes()),E=new ud(o,v,c);return j0(s,v,i,o,E,d)}function Oh(s,e,i,a,o,c,h){const d=e.eventCache;let p,m;const y=new ud(o,e,c);if(ce(i))m=s.filter.updateFullNode(e.eventCache.getNode(),a,h),p=Ma(e,m,!0,s.filter.filtersNodes());else{const v=fe(i);if(v===".priority")m=s.filter.updatePriority(e.eventCache.getNode(),a),p=Ma(e,m,d.isFullyInitialized(),d.isFiltered());else{const E=Ne(i),O=d.getNode().getImmediateChild(v);let D;if(ce(E))D=a;else{const P=y.getCompleteChild(v);P!=null?b0(E)===".priority"&&P.getChild(C0(E)).isEmpty()?D=P:D=P.updateChild(E,a):D=ee.EMPTY_NODE}if(O.equals(D))p=e;else{const P=s.filter.updateChild(d.getNode(),v,D,E,y,h);p=Ma(e,P,d.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function zy(s,e){return s.eventCache.isCompleteForChild(e)}function a2(s,e,i,a,o,c,h){let d=e;return a.foreach((p,m)=>{const y=Fe(i,p);zy(e,fe(y))&&(d=Oh(s,d,y,m,o,c,h))}),a.foreach((p,m)=>{const y=Fe(i,p);zy(e,fe(y))||(d=Oh(s,d,y,m,o,c,h))}),d}function Py(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Ih(s,e,i,a,o,c,h,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ce(i)?m=a:m=new Oe(null).setTree(i,a);const y=e.serverCache.getNode();return m.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const O=e.serverCache.getNode().getImmediateChild(v),D=Py(s,O,E);p=nu(s,p,new Re(v),D,o,c,h,d)}}),m.children.inorderTraversal((v,E)=>{const O=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!O){const D=e.serverCache.getNode().getImmediateChild(v),P=Py(s,D,E);p=nu(s,p,new Re(v),P,o,c,h,d)}}),p}function l2(s,e,i,a,o,c,h){if(tu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(ce(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return nu(s,e,i,p.getNode().getChild(i),o,c,d,h);if(ce(i)){let m=new Oe(null);return p.getNode().forEachChild(ir,(y,v)=>{m=m.set(new Re(y),v)}),Ih(s,e,i,m,o,c,d,h)}else return e}else{let m=new Oe(null);return a.foreach((y,v)=>{const E=Fe(i,y);p.isCompleteForPath(E)&&(m=m.set(y,p.getNode().getChild(E)))}),Ih(s,e,i,m,o,c,d,h)}}function o2(s,e,i,a,o){const c=e.serverCache,h=L0(e,c.getNode(),c.isFullyInitialized()||ce(i),c.isFiltered());return j0(s,h,i,a,q0,o)}function u2(s,e,i,a,o,c){let h;if(tu(a,i)!=null)return e;{const d=new ud(a,e,o),p=e.eventCache.getNode();let m;if(ce(i)||fe(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=eu(a,ls(e));else{const v=e.serverCache.getNode();B(v instanceof ee,"serverChildren would be complete if leaf node"),y=ld(a,v)}y=y,m=s.filter.updateFullNode(p,y,c)}else{const y=fe(i);let v=od(a,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=p.getImmediateChild(y)),v!=null?m=s.filter.updateChild(p,y,v,Ne(i),d,c):e.eventCache.getNode().hasChild(y)?m=s.filter.updateChild(p,y,ee.EMPTY_NODE,Ne(i),d,c):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=eu(a,ls(e)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,c)))}return h=e.serverCache.isFullyInitialized()||tu(a,me())!=null,Ma(e,m,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new id(a.getIndex()),c=NA(a);this.processor_=n2(c);const h=i.serverCache,d=i.eventCache,p=o.updateFullNode(ee.EMPTY_NODE,h.getNode(),null),m=c.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),y=new wi(p,h.isFullyInitialized(),o.filtersNodes()),v=new wi(m,d.isFullyInitialized(),c.filtersNodes());this.viewCache_=mu(v,y),this.eventGenerator_=new UA(this.query_)}get query(){return this.query_}}function f2(s){return s.viewCache_.serverCache.getNode()}function h2(s){return Jo(s.viewCache_)}function d2(s,e){const i=ls(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ce(e)&&!i.getImmediateChild(fe(e)).isEmpty())?i.getChild(e):null}function Hy(s){return s.eventRegistrations_.length===0}function p2(s,e){s.eventRegistrations_.push(e)}function By(s,e,i){const a=[];if(i){B(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function qy(s,e,i,a){e.type===Zt.MERGE&&e.source.queryId!==null&&(B(ls(s.viewCache_),"We should always have a full cache before handling merges"),B(Jo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=s2(s.processor_,o,e,i,a);return i2(s.processor_,c.viewCache),B(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,V0(s,c.changes,c.viewCache.eventCache.getNode(),null)}function m2(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ze,(c,h)=>{a.push(lr(c,h))}),i.isFullyInitialized()&&a.push(x0(i.getNode())),V0(s,a,i.getNode(),e)}function V0(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return zA(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;class G0{constructor(){this.views=new Map}}function g2(s){B(!iu,"__referenceConstructor has already been defined"),iu=s}function _2(){return B(iu,"Reference.ts has not been loaded"),iu}function y2(s){return s.views.size===0}function cd(s,e,i,a){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return B(c!=null,"SyncTree gave us an op for an invalid query."),qy(c,e,i,a)}else{let c=[];for(const h of s.views.values())c=c.concat(qy(h,e,i,a));return c}}function Y0(s,e,i,a,o){const c=e._queryIdentifier,h=s.views.get(c);if(!h){let d=eu(i,o?a:null),p=!1;d?p=!0:a instanceof ee?(d=ld(i,a),p=!1):(d=ee.EMPTY_NODE,p=!1);const m=mu(new wi(d,p,!1),new wi(a,o,!1));return new c2(e,m)}return h}function v2(s,e,i,a,o,c){const h=Y0(s,e,a,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,h),p2(h,i),m2(h,i)}function E2(s,e,i,a){const o=e._queryIdentifier,c=[];let h=[];const d=Ri(s);if(o==="default")for(const[p,m]of s.views.entries())h=h.concat(By(m,i,a)),Hy(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||c.push(m.query));else{const p=s.views.get(o);p&&(h=h.concat(By(p,i,a)),Hy(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return d&&!Ri(s)&&c.push(new(_2())(e._repo,e._path)),{removed:c,events:h}}function F0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Ti(s,e){let i=null;for(const a of s.views.values())i=i||d2(a,e);return i}function Q0(s,e){if(e._queryParams.loadsAllData())return _u(s);{const a=e._queryIdentifier;return s.views.get(a)}}function K0(s,e){return Q0(s,e)!=null}function Ri(s){return _u(s)!=null}function _u(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function S2(s){B(!su,"__referenceConstructor has already been defined"),su=s}function b2(){return B(su,"Reference.ts has not been loaded"),su}let T2=1;class jy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=$A(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function W0(s,e,i,a,o){return qA(s.pendingWriteTree_,e,i,a,o),o?rl(s,new as(k0(),e,i)):[]}function es(s,e,i=!1){const a=jA(s.pendingWriteTree_,e);if(VA(s.pendingWriteTree_,e)){let c=new Oe(null);return a.snap!=null?c=c.set(me(),!0):bt(a.children,h=>{c=c.set(new Re(h),!0)}),rl(s,new $o(a.path,c,i))}else return[]}function sl(s,e,i){return rl(s,new as(rd(),e,i))}function C2(s,e,i){const a=Oe.fromObject(i);return rl(s,new Ya(rd(),e,a))}function w2(s,e){return rl(s,new Ga(rd(),e))}function R2(s,e,i){const a=hd(s,i);if(a){const o=dd(a),c=o.path,h=o.queryId,d=dt(c,e),p=new Ga(ad(h),d);return pd(s,c,p)}else return[]}function X0(s,e,i,a,o=!1){const c=e._path,h=s.syncPointTree_.get(c);let d=[];if(h&&(e._queryIdentifier==="default"||K0(h,e))){const p=E2(h,e,i,a);y2(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const m=p.removed;if(d=p.events,!o){const y=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(c,(E,O)=>Ri(O));if(y&&!v){const E=s.syncPointTree_.subtree(c);if(!E.isEmpty()){const O=I2(E);for(let D=0;D<O.length;++D){const P=O[D],H=P.query,V=eE(s,P);s.listenProvider_.startListening(La(H),Fa(s,H),V.hashFn,V.onComplete)}}}!v&&m.length>0&&!a&&(y?s.listenProvider_.stopListening(La(e),null):m.forEach(E=>{const O=s.queryToTagMap.get(yu(E));s.listenProvider_.stopListening(La(E),O)}))}D2(s,m)}return d}function Z0(s,e,i,a){const o=hd(s,a);if(o!=null){const c=dd(o),h=c.path,d=c.queryId,p=dt(h,e),m=new as(ad(d),p,i);return pd(s,h,m)}else return[]}function A2(s,e,i,a){const o=hd(s,a);if(o){const c=dd(o),h=c.path,d=c.queryId,p=dt(h,e),m=Oe.fromObject(i),y=new Ya(ad(d),p,m);return pd(s,h,y)}else return[]}function N2(s,e,i,a=!1){const o=e._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(E,O)=>{const D=dt(E,o);c=c||Ti(O,D),h=h||Ri(O)});let d=s.syncPointTree_.get(o);d?(h=h||Ri(d),c=c||Ti(d,me())):(d=new G0,s.syncPointTree_=s.syncPointTree_.set(o,d));let p;c!=null?p=!0:(p=!1,c=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((O,D)=>{const P=Ti(D,me());P&&(c=c.updateImmediateChild(O,P))}));const m=K0(d,e);if(!m&&!e._queryParams.loadsAllData()){const E=yu(e);B(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const O=x2();s.queryToTagMap.set(E,O),s.tagToQueryMap.set(O,E)}const y=gu(s.pendingWriteTree_,o);let v=v2(d,e,i,y,c,p);if(!m&&!h&&!a){const E=Q0(d,e);v=v.concat(M2(s,e,E))}return v}function fd(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(h,d)=>{const p=dt(h,e),m=Ti(d,p);if(m)return m});return P0(o,e,c,i,!0)}function O2(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(m,y)=>{const v=dt(m,i);a=a||Ti(y,v)});let o=s.syncPointTree_.get(i);o?a=a||Ti(o,me()):(o=new G0,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=a!=null,h=c?new wi(a,!0,!1):null,d=gu(s.pendingWriteTree_,e._path),p=Y0(o,e,d,c?h.getNode():ee.EMPTY_NODE,c);return h2(p)}function rl(s,e){return $0(e,s.syncPointTree_,null,gu(s.pendingWriteTree_,me()))}function $0(s,e,i,a){if(ce(s.path))return J0(s,e,i,a);{const o=e.get(me());i==null&&o!=null&&(i=Ti(o,me()));let c=[];const h=fe(s.path),d=s.operationForChild(h),p=e.children.get(h);if(p&&d){const m=i?i.getImmediateChild(h):null,y=H0(a,h);c=c.concat($0(d,p,m,y))}return o&&(c=c.concat(cd(o,s,a,i))),c}}function J0(s,e,i,a){const o=e.get(me());i==null&&o!=null&&(i=Ti(o,me()));let c=[];return e.children.inorderTraversal((h,d)=>{const p=i?i.getImmediateChild(h):null,m=H0(a,h),y=s.operationForChild(h);y&&(c=c.concat(J0(y,d,p,m)))}),o&&(c=c.concat(cd(o,s,a,i))),c}function eE(s,e){const i=e.query,a=Fa(s,i);return{hashFn:()=>(f2(e)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?R2(s,i._path,a):w2(s,i._path);{const c=AR(o,i);return X0(s,i,null,c)}}}}function Fa(s,e){const i=yu(e);return s.queryToTagMap.get(i)}function yu(s){return s._path.toString()+"$"+s._queryIdentifier}function hd(s,e){return s.tagToQueryMap.get(e)}function dd(s){const e=s.indexOf("$");return B(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Re(s.substr(0,e))}}function pd(s,e,i){const a=s.syncPointTree_.get(e);B(a,"Missing sync point for query tag that we're tracking");const o=gu(s.pendingWriteTree_,e);return cd(a,i,o,null)}function I2(s){return s.fold((e,i,a)=>{if(i&&Ri(i))return[_u(i)];{let o=[];return i&&(o=F0(i)),bt(a,(c,h)=>{o=o.concat(h)}),o}})}function La(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(b2())(s._repo,s._path):s}function D2(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=yu(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function x2(){return T2++}function M2(s,e,i){const a=e._path,o=Fa(s,e),c=eE(s,i),h=s.listenProvider_.startListening(La(e),o,c.hashFn,c.onComplete),d=s.syncPointTree_.subtree(a);if(o)B(!Ri(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,y,v)=>{if(!ce(m)&&y&&Ri(y))return[_u(y).query];{let E=[];return y&&(E=E.concat(F0(y).map(O=>O.query))),bt(v,(O,D)=>{E=E.concat(D)}),E}});for(let m=0;m<p.length;++m){const y=p[m];s.listenProvider_.stopListening(La(y),Fa(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new md(i)}node(){return this.node_}}class gd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Fe(this.path_,e);return new gd(this.syncTree_,i)}node(){return fd(this.syncTree_,this.path_)}}const k2=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Vy=function(s,e,i){if(!s||typeof s!="object")return s;if(B(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return L2(s[".sv"],e,i);if(typeof s[".sv"]=="object")return U2(s[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},L2=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:B(!1,"Unexpected server value: "+s)}},U2=function(s,e,i){s.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&B(!1,"Unexpected increment value: "+a);const o=e.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},z2=function(s,e,i,a){return _d(e,new gd(i,s),a)},tE=function(s,e,i){return _d(s,new md(e),i)};function _d(s,e,i){const a=s.getPriority().val(),o=Vy(a,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,d=Vy(h.getValue(),e,i);return d!==h.getValue()||o!==h.getPriority().val()?new Je(d,tt(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new Je(o))),h.forEachChild(ze,(d,p)=>{const m=_d(p,e.getImmediateChild(d),i);m!==p&&(c=c.updateImmediateChild(d,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function vd(s,e){let i=e instanceof Re?e:new Re(e),a=s,o=fe(i);for(;o!==null;){const c=sr(a.node.children,o)||{children:{},childCount:0};a=new yd(o,a,c),i=Ne(i),o=fe(i)}return a}function yr(s){return s.node.value}function nE(s,e){s.node.value=e,Dh(s)}function iE(s){return s.node.childCount>0}function P2(s){return yr(s)===void 0&&!iE(s)}function vu(s,e){bt(s.node.children,(i,a)=>{e(new yd(i,s,a))})}function sE(s,e,i,a){i&&e(s),vu(s,o=>{sE(o,e,!0)})}function H2(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function al(s){return new Re(s.parent===null?s.name:al(s.parent)+"/"+s.name)}function Dh(s){s.parent!==null&&B2(s.parent,s.name,s)}function B2(s,e,i){const a=P2(i),o=Hn(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,Dh(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Dh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/[\[\].#$\/\u0000-\u001F\u007F]/,j2=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,rE=function(s){return typeof s=="string"&&s.length!==0&&!q2.test(s)},aE=function(s){return typeof s=="string"&&s.length!==0&&!j2.test(s)},V2=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),aE(s)},lE=function(s,e,i,a){a&&e===void 0||Ed(Hh(s,"value"),e,i)},Ed=function(s,e,i){const a=i instanceof Re?new aA(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+$i(a));if(typeof e=="function")throw new Error(s+"contains a function "+$i(a)+" with contents = "+e.toString());if(t0(e))throw new Error(s+"contains "+e.toString()+" "+$i(a));if(typeof e=="string"&&e.length>oh/3&&cu(e)>oh)throw new Error(s+"contains a string greater than "+oh+" utf8 bytes "+$i(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(bt(e,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!rE(h)))throw new Error(s+" contains an invalid key ("+h+") "+$i(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lA(a,h),Ed(s,d,a),oA(a)}),o&&c)throw new Error(s+' contains ".value" child '+$i(a)+" in addition to actual children.")}},oE=function(s,e,i,a){if(!aE(i))throw new Error(Hh(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},G2=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),oE(s,e,i)},Sd=function(s,e){if(fe(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},Y2=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!V2(i))throw new Error(Hh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uE(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],c=o.getPath();i!==null&&!w0(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function dn(s,e,i){uE(s,i),Q2(s,a=>Xt(a,e)||Xt(e,a))}function Q2(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;e(c)?(K2(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function K2(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Da&&ct("event: "+i.toString()),_r(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="repo_interrupt",X2=25;class Z2{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new F2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new yd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $2(s,e,i){if(s.stats_=Jh(s.repoInfo_),s.forceRestClient_||DR())s.server_=new Xo(s.repoInfo_,(a,o,c,h)=>{Gy(s,a,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Yy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Mn(s.repoInfo_,e,(a,o,c,h)=>{Gy(s,a,o,c,h)},a=>{Yy(s,a)},a=>{J2(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=UR(s.repoInfo_,()=>new LA(s.stats_,s.server_)),s.infoData_=new IA,s.infoSyncTree_=new jy({startListening:(a,o,c,h)=>{let d=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(d=sl(s.infoSyncTree_,a._path,p),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Td(s,"connected",!1),s.serverSyncTree_=new jy({startListening:(a,o,c,h)=>(s.server_.listen(a,c,o,(d,p)=>{const m=h(d,p);dn(s.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function cE(s){const i=s.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function bd(s){return k2({timestamp:cE(s)})}function Gy(s,e,i,a,o){s.dataUpdateCount++;const c=new Re(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let h=[];if(o)if(a){const p=Ho(i,m=>tt(m));h=A2(s.serverSyncTree_,c,p,o)}else{const p=tt(i);h=Z0(s.serverSyncTree_,c,p,o)}else if(a){const p=Ho(i,m=>tt(m));h=C2(s.serverSyncTree_,c,p)}else{const p=tt(i);h=sl(s.serverSyncTree_,c,p)}let d=c;h.length>0&&(d=Su(s,c)),dn(s.eventQueue_,d,h)}function Yy(s,e){Td(s,"connected",e),e===!1&&nN(s)}function J2(s,e){bt(e,(i,a)=>{Td(s,i,a)})}function Td(s,e,i){const a=new Re("/.info/"+e),o=tt(i);s.infoData_.updateSnapshot(a,o);const c=sl(s.infoSyncTree_,a,o);dn(s.eventQueue_,a,c)}function fE(s){return s.nextWriteId_++}function eN(s,e,i){const a=O2(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const c=tt(o).withIndex(e._queryParams.getIndex());N2(s.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=sl(s.serverSyncTree_,e._path,c);else{const d=Fa(s.serverSyncTree_,e);h=Z0(s.serverSyncTree_,e._path,c,d)}return dn(s.eventQueue_,e._path,h),X0(s.serverSyncTree_,e,i,null,!0),c},o=>(Eu(s,"get for query "+Ye(e)+" failed: "+o),Promise.reject(new Error(o))))}function tN(s,e,i,a,o){Eu(s,"set",{path:e.toString(),value:i,priority:a});const c=bd(s),h=tt(i,a),d=fd(s.serverSyncTree_,e),p=tE(h,d,c),m=fE(s),y=W0(s.serverSyncTree_,e,p,m,!0);uE(s.eventQueue_,y),s.server_.put(e.toString(),h.val(!0),(E,O)=>{const D=E==="ok";D||St("set at "+e+" failed: "+E);const P=es(s.serverSyncTree_,m,!D);dn(s.eventQueue_,e,P),sN(s,o,E,O)});const v=gE(s,e);Su(s,v),dn(s.eventQueue_,v,[])}function nN(s){Eu(s,"onDisconnectEvents");const e=bd(s),i=Zo();Rh(s.onDisconnect_,me(),(o,c)=>{const h=z2(o,c,s.serverSyncTree_,e);M0(i,o,h)});let a=[];Rh(i,me(),(o,c)=>{a=a.concat(sl(s.serverSyncTree_,o,c));const h=gE(s,o);Su(s,h)}),s.onDisconnect_=Zo(),dn(s.eventQueue_,me(),a)}function iN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(W2)}function Eu(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ct(i,...e)}function sN(s,e,i,a){e&&_r(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const h=new Error(c);h.code=o,e(h)}})}function hE(s,e,i){return fd(s.serverSyncTree_,e,i)||ee.EMPTY_NODE}function Cd(s,e=s.transactionQueueTree_){if(e||bu(s,e),yr(e)){const i=pE(s,e);B(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&rN(s,al(e),i)}else iE(e)&&vu(e,i=>{Cd(s,i)})}function rN(s,e,i){const a=i.map(m=>m.currentWriteId),o=hE(s,e,a);let c=o;const h=o.hash();for(let m=0;m<i.length;m++){const y=i[m];B(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=dt(e,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const d=c.val(!0),p=e;s.server_.put(p.toString(),d,m=>{Eu(s,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const v=[];for(let E=0;E<i.length;E++)i[E].status=2,y=y.concat(es(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&v.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();bu(s,vd(s.transactionQueueTree_,e)),Cd(s,s.transactionQueueTree_),dn(s.eventQueue_,e,y);for(let E=0;E<v.length;E++)_r(v[E])}else{if(m==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{St("transaction at "+p.toString()+" failed: "+m);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=m}Su(s,e)}},h)}function Su(s,e){const i=dE(s,e),a=al(i),o=pE(s,i);return aN(s,o,a),a}function aN(s,e,i){if(e.length===0)return;const a=[];let o=[];const h=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=dt(i,p.path);let y=!1,v;if(B(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,v=p.abortReason,o=o.concat(es(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=X2)y=!0,v="maxretry",o=o.concat(es(s.serverSyncTree_,p.currentWriteId,!0));else{const E=hE(s,p.path,h);p.currentInputSnapshot=E;const O=e[d].update(E.val());if(O!==void 0){Ed("transaction failed: Data returned ",O,p.path);let D=tt(O);typeof O=="object"&&O!=null&&Hn(O,".priority")||(D=D.updatePriority(E.getPriority()));const H=p.currentWriteId,V=bd(s),q=tE(D,E,V);p.currentOutputSnapshotRaw=D,p.currentOutputSnapshotResolved=q,p.currentWriteId=fE(s),h.splice(h.indexOf(H),1),o=o.concat(W0(s.serverSyncTree_,p.path,q,p.currentWriteId,p.applyLocally)),o=o.concat(es(s.serverSyncTree_,H,!0))}else y=!0,v="nodata",o=o.concat(es(s.serverSyncTree_,p.currentWriteId,!0))}dn(s.eventQueue_,i,o),o=[],y&&(e[d].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(v==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(v),!1,null))))}bu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)_r(a[d]);Cd(s,s.transactionQueueTree_)}function dE(s,e){let i,a=s.transactionQueueTree_;for(i=fe(e);i!==null&&yr(a)===void 0;)a=vd(a,i),e=Ne(e),i=fe(e);return a}function pE(s,e){const i=[];return mE(s,e,i),i.sort((a,o)=>a.order-o.order),i}function mE(s,e,i){const a=yr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);vu(e,o=>{mE(s,o,i)})}function bu(s,e){const i=yr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,nE(e,i.length>0?i:void 0)}vu(e,a=>{bu(s,a)})}function gE(s,e){const i=al(dE(s,e)),a=vd(s.transactionQueueTree_,e);return H2(a,o=>{uh(s,o)}),uh(s,a),sE(a,o=>{uh(s,o)}),i}function uh(s,e){const i=yr(e);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(B(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(B(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(es(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?nE(e,void 0):i.length=c+1,dn(s.eventQueue_,al(e),o);for(let h=0;h<a.length;h++)_r(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function oN(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):St(`Invalid query segment '${i}' in query '${s}'`)}return e}const Fy=function(s,e){const i=uN(s),a=i.namespace;i.domain==="firebase.com"&&zn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||bR();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new d0(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Re(i.pathString)}},uN=function(s){let e="",i="",a="",o="",c="",h=!0,d="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(d=s.substring(0,m-1),s=s.substring(m+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),e=s.substring(0,Math.min(y,v)),y<v&&(o=lN(s.substring(y,v)));const E=oN(s.substring(Math.min(s.length,v)));m=e.indexOf(":"),m>=0?(h=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const O=e.slice(0,m);if(O.toLowerCase()==="localhost")i="localhost";else if(O.split(".").length<=2)i=O;else{const D=e.indexOf(".");a=e.substring(0,D).toLowerCase(),i=e.substring(D+1),c=a}"ns"in E&&(c=E.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cN=(function(){let s=0;const e=[];return function(i){const a=i===s;s=i;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=Qy.charAt(i%64),i=Math.floor(i/64);B(i===0,"Cannot push at time == 0");let h=c.join("");if(a){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Qy.charAt(e[o]);return B(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class hN{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return ce(this._path)?null:b0(this._path)}get ref(){return new Bn(this._repo,this._path)}get _queryIdentifier(){const e=Dy(this._queryParams),i=Zh(e);return i==="{}"?"default":i}get _queryObject(){return Dy(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof Tu))return!1;const i=this._repo===e._repo,a=w0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+rA(this._path)}}class Bn extends Tu{constructor(e,i){super(e,i,new sd,!1)}get parent(){const e=C0(this._path);return e===null?null:new Bn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Qa{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Re(e),a=Ka(this.ref,e);return new Qa(this._node.getChild(i),a,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new Qa(o,Ka(this.ref,a),ze)))}hasChild(e){const i=new Re(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ur(s,e){return s=ft(s),s._checkNotDeleted("ref"),e!==void 0?Ka(s._root,e):s._root}function Ka(s,e){return s=ft(s),fe(s._path)===null?G2("child","path",e):oE("child","path",e),new Bn(s._repo,Fe(s._path,e))}function pN(s,e){s=ft(s),Sd("push",s._path),lE("push",e,s._path,!0);const i=cE(s._repo),a=cN(i),o=Ka(s,a),c=Ka(s,a);let h;return e!=null?h=wd(c,e).then(()=>c):h=Promise.resolve(c),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function mN(s){return Sd("remove",s._path),wd(s,null)}function wd(s,e){s=ft(s),Sd("set",s._path),lE("set",e,s._path,!1);const i=new uu;return tN(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function Rd(s){s=ft(s);const e=new dN(()=>{}),i=new Ad(e);return eN(s._repo,s,i).then(a=>new Qa(a,new Bn(s._repo,s._path),s._queryParams.getIndex()))}class Ad{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new fN("value",this,new Qa(e.snapshotNode,new Bn(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new hN(this,e,i):null}matches(e){return e instanceof Ad?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class gN{}class _N extends gN{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tu(e._repo,e._path,OA(e._queryParams,this._limit),e._orderByCalled)}}function yN(s){if(Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _N(s)}function vN(s,...e){let i=ft(s);for(const a of e)i=a._apply(i);return i}g2(Bn);S2(Bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="FIREBASE_DATABASE_EMULATOR_HOST",xh={};let SN=!1;function bN(s,e,i,a){const o=e.lastIndexOf(":"),c=e.substring(0,o),h=hr(c);s.repoInfo_=new d0(e,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function TN(s,e,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Fy(c,o),d=h.repoInfo,p;typeof process<"u"&&dy&&(p=dy[EN]),p?(c=`http://${p}?ns=${d.namespace}`,h=Fy(c,o),d=h.repoInfo):h.repoInfo.secure;const m=new MR(s.name,s.options,e);Y2("Invalid Firebase Database URL",h),ce(h.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=wN(d,s,m,new xR(s,i));return new RN(y,s)}function CN(s,e){const i=xh[e];(!i||i[s.key]!==s)&&zn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),iN(s),delete i[s.key]}function wN(s,e,i,a){let o=xh[e.name];o||(o={},xh[e.name]=o);let c=o[s.toURLString()];return c&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new Z2(s,SN,i,a),o[s.toURLString()]=c,c}class RN{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zn("Cannot call "+e+" on a deleted database.")}}function AN(s=mv(),e){const i=jh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=Rb("database");a&&NN(i,...a)}return i}function NN(s,e,i,a={}){s=ft(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ts(a,c.repoInfo_.emulatorOptions))return;zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new ko(ko.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:Ab(a.mockUserToken,s.app.options.projectId);h=new ko(d)}hr(e)&&(ov(e),uv("Database",!0)),bN(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(s){gR(pr),rr(new ns("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return TN(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),Si(py,my,s),Si(py,my,"esm2020")}Mn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Mn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};ON();const IN={apiKey:"AIzaSyAqiG1sH0mwPjDVODyJebywVwNYt-L21pk",authDomain:"guy20questions.firebaseapp.com",databaseURL:"https://guy20questions-default-rtdb.europe-west1.firebasedatabase.app",projectId:"guy20questions",storageBucket:"guy20questions.firebasestorage.app",messagingSenderId:"693808415157",appId:"1:693808415157:web:5b3ab93dba9bc8f00f59fc"},_E=pv(IN),Cu=pR(_E),cr=AN(_E),yE=yi.createContext();function vr(){return I.useContext(yE)}function DN({children:s}){const[e,i]=I.useState(null),[a,o]=I.useState(!1),[c,h]=I.useState(!0);I.useEffect(()=>iw(Cu,d),[]);async function d(m){m?(i({...m}),o(!0)):(i(null),o(!1)),h(!1)}const p={currentUser:e,userLoggedIn:a,loading:c};return U.jsx(yE.Provider,{value:p,children:!c&&s})}function en({children:s,onClick:e,type:i="button",className:a}){return U.jsx("button",{className:`rounded-full border-2 p-2 h-20 w-20 ${a}`,type:i,onClick:e,children:U.jsx("div",{className:"w-fit m-auto",children:s})})}/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ky="popstate";function xN(s={}){function e(a,o){let{pathname:c,search:h,hash:d}=a.location;return Mh("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Wa(o)}return kN(e,i,null,s)}function xe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function tn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function Wy(s,e){return{usr:s.state,key:s.key,idx:e}}function Mh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Er(e):e,state:i,key:e&&e.key||a||MN()}}function Wa({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Er(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function kN(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,h=o.history,d="POP",p=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function v(){d="POP";let H=y(),V=H==null?null:H-m;m=H,p&&p({action:d,location:P.location,delta:V})}function E(H,V){d="PUSH";let q=Mh(P.location,H,V);m=y()+1;let K=Wy(q,m),Te=P.createHref(q);try{h.pushState(K,"",Te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(Te)}c&&p&&p({action:d,location:P.location,delta:1})}function O(H,V){d="REPLACE";let q=Mh(P.location,H,V);m=y();let K=Wy(q,m),Te=P.createHref(q);h.replaceState(K,"",Te),c&&p&&p({action:d,location:P.location,delta:0})}function D(H){return LN(H)}let P={get action(){return d},get location(){return s(o,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ky,v),p=H,()=>{o.removeEventListener(Ky,v),p=null}},createHref(H){return e(o,H)},createURL:D,encodeLocation(H){let V=D(H);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:O,go(H){return h.go(H)}};return P}function LN(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),xe(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Wa(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function vE(s,e,i="/"){return UN(s,e,i,!1)}function UN(s,e,i,a){let o=typeof e=="string"?Er(e):e,c=Pn(o.pathname||"/",i);if(c==null)return null;let h=EE(s);zN(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let m=KN(c);d=FN(h[p],m,a)}return d}function EE(s,e=[],i=[],a="",o=!1){let c=(h,d,p=o,m)=>{let y={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;xe(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=kn([a,y.relativePath]),E=i.concat(y);h.children&&h.children.length>0&&(xe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),EE(h.children,e,E,v,p)),!(h.path==null&&!h.index)&&e.push({path:v,score:GN(v,h.index),routesMeta:E})};return s.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))c(h,d);else for(let p of SE(h.path))c(h,d,!0,p)}),e}function SE(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let h=SE(a.join("/")),d=[];return d.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&d.push(...h),d.map(p=>s.startsWith("/")&&p===""?"/":p)}function zN(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:YN(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var PN=/^:[\w-]+$/,HN=3,BN=2,qN=1,jN=10,VN=-2,Xy=s=>s==="*";function GN(s,e){let i=s.split("/"),a=i.length;return i.some(Xy)&&(a+=VN),e&&(a+=BN),i.filter(o=>!Xy(o)).reduce((o,c)=>o+(PN.test(c)?HN:c===""?qN:jN),a)}function YN(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function FN(s,e,i=!1){let{routesMeta:a}=s,o={},c="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],m=d===a.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!v&&m&&i&&!a[a.length-1].route.index&&(v=ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:kn([c,v.pathname]),pathnameBase:$N(kn([c,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(c=kn([c,v.pathnameBase]))}return h}function ru(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=QN(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:v},E)=>{if(y==="*"){let D=d[E]||"";h=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const O=d[E];return v&&!O?m[y]=void 0:m[y]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:h,pattern:s}}function QN(s,e=!1,i=!0){tn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function KN(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Pn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function WN(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?Er(s):s;return{pathname:i?i.startsWith("/")?i:XN(i,e):e,search:JN(a),hash:eO(o)}}function XN(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ch(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZN(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Nd(s){let e=ZN(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Od(s,e,i,a=!1){let o;typeof s=="string"?o=Er(s):(o={...s},xe(!o.pathname||!o.pathname.includes("?"),ch("?","pathname","search",o)),xe(!o.pathname||!o.pathname.includes("#"),ch("#","pathname","hash",o)),xe(!o.search||!o.search.includes("#"),ch("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,d;if(h==null)d=i;else{let v=e.length-1;if(!a&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}d=v>=0?e[v]:"/"}let p=WN(o,d),m=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var kn=s=>s.join("/").replace(/\/\/+/g,"/"),$N=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,eO=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function tO(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var nO=["GET",...bE];new Set(nO);var Sr=I.createContext(null);Sr.displayName="DataRouter";var wu=I.createContext(null);wu.displayName="DataRouterState";I.createContext(!1);var TE=I.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var iO=I.createContext(new Map);iO.displayName="Fetchers";var sO=I.createContext(null);sO.displayName="Await";var nn=I.createContext(null);nn.displayName="Navigation";var ll=I.createContext(null);ll.displayName="Location";var sn=I.createContext({outlet:null,matches:[],isDataRoute:!1});sn.displayName="Route";var Id=I.createContext(null);Id.displayName="RouteError";function rO(s,{relative:e}={}){xe(br(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=I.useContext(nn),{hash:o,pathname:c,search:h}=ul(s,{relative:e}),d=c;return i!=="/"&&(d=c==="/"?i:kn([i,c])),a.createHref({pathname:d,search:h,hash:o})}function br(){return I.useContext(ll)!=null}function Ii(){return xe(br(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ll).location}var CE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wE(s){I.useContext(nn).static||I.useLayoutEffect(s)}function ol(){let{isDataRoute:s}=I.useContext(sn);return s?yO():aO()}function aO(){xe(br(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Sr),{basename:e,navigator:i}=I.useContext(nn),{matches:a}=I.useContext(sn),{pathname:o}=Ii(),c=JSON.stringify(Nd(a)),h=I.useRef(!1);return wE(()=>{h.current=!0}),I.useCallback((p,m={})=>{if(tn(h.current,CE),!h.current)return;if(typeof p=="number"){i.go(p);return}let y=Od(p,JSON.parse(c),o,m.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:kn([e,y.pathname])),(m.replace?i.replace:i.push)(y,m.state,m)},[e,i,c,o,s])}I.createContext(null);function RE(){let{matches:s}=I.useContext(sn),e=s[s.length-1];return e?e.params:{}}function ul(s,{relative:e}={}){let{matches:i}=I.useContext(sn),{pathname:a}=Ii(),o=JSON.stringify(Nd(i));return I.useMemo(()=>Od(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function lO(s,e){return AE(s,e)}function AE(s,e,i,a,o){xe(br(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(nn),{matches:h}=I.useContext(sn),d=h[h.length-1],p=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let q=v&&v.path||"";NE(m,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Ii(),O;if(e){let q=typeof e=="string"?Er(e):e;xe(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),O=q}else O=E;let D=O.pathname||"/",P=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let H=vE(s,{pathname:P});tn(v||H!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),tn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=hO(H&&H.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:kn([y,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:kn([y,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),h,i,a,o);return e&&V?I.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},V):V}function oO(){let s=_O(),e=tO(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:o},i):null,h)}var uO=I.createElement(oO,null),cO=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?I.createElement(sn.Provider,{value:this.props.routeContext},I.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fO({routeContext:s,match:e,children:i}){let a=I.useContext(Sr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(sn.Provider,{value:s},i)}function hO(s,e=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,h=i?.errors;if(h!=null){let m=c.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,p=-1;if(i)for(let m=0;m<c.length;m++){let y=c[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:v,errors:E}=i,O=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||O){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,y,v)=>{let E,O=!1,D=null,P=null;i&&(E=h&&y.route.id?h[y.route.id]:void 0,D=y.route.errorElement||uO,d&&(p<0&&v===0?(NE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):p===v&&(O=!0,P=y.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,v+1)),V=()=>{let q;return E?q=D:O?q=P:y.route.Component?q=I.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=m,I.createElement(fO,{match:y,routeContext:{outlet:m,matches:H,isDataRoute:i!=null},children:q})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?I.createElement(cO,{location:i.location,revalidation:i.revalidation,component:D,error:E,children:V(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:a}):V()},null)}function Dd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dO(s){let e=I.useContext(Sr);return xe(e,Dd(s)),e}function pO(s){let e=I.useContext(wu);return xe(e,Dd(s)),e}function mO(s){let e=I.useContext(sn);return xe(e,Dd(s)),e}function xd(s){let e=mO(s),i=e.matches[e.matches.length-1];return xe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function gO(){return xd("useRouteId")}function _O(){let s=I.useContext(Id),e=pO("useRouteError"),i=xd("useRouteError");return s!==void 0?s:e.errors?.[i]}function yO(){let{router:s}=dO("useNavigate"),e=xd("useNavigate"),i=I.useRef(!1);return wE(()=>{i.current=!0}),I.useCallback(async(o,c={})=>{tn(i.current,CE),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var Zy={};function NE(s,e,i){!e&&!Zy[s]&&(Zy[s]=!0,tn(!1,i))}I.memo(vO);function vO({routes:s,future:e,state:i,unstable_onError:a}){return AE(s,void 0,i,a,e)}function EO({to:s,replace:e,state:i,relative:a}){xe(br(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(nn);tn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=I.useContext(sn),{pathname:h}=Ii(),d=ol(),p=Od(s,Nd(c),h,a==="path"),m=JSON.stringify(p);return I.useEffect(()=>{d(JSON.parse(m),{replace:e,state:i,relative:a})},[d,m,a,e,i]),null}function Xs(s){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SO({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){xe(!br(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=Er(i));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:E="default"}=i,O=I.useMemo(()=>{let D=Pn(p,h);return D==null?null:{location:{pathname:D,search:m,hash:y,state:v,key:E},navigationType:a}},[h,p,m,y,v,E,a]);return tn(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:I.createElement(nn.Provider,{value:d},I.createElement(ll.Provider,{children:e,value:O}))}function bO({children:s,location:e}){return lO(kh(s),e)}function kh(s,e=[]){let i=[];return I.Children.forEach(s,(a,o)=>{if(!I.isValidElement(a))return;let c=[...e,o];if(a.type===I.Fragment){i.push.apply(i,kh(a.props.children,c));return}xe(a.type===Xs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=kh(a.props.children,c)),i.push(h)}),i}var Lo="get",Uo="application/x-www-form-urlencoded";function Ru(s){return s!=null&&typeof s.tagName=="string"}function TO(s){return Ru(s)&&s.tagName.toLowerCase()==="button"}function CO(s){return Ru(s)&&s.tagName.toLowerCase()==="form"}function wO(s){return Ru(s)&&s.tagName.toLowerCase()==="input"}function RO(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function AO(s,e){return s.button===0&&(!e||e==="_self")&&!RO(s)}var Oo=null;function NO(){if(Oo===null)try{new FormData(document.createElement("form"),0),Oo=!1}catch{Oo=!0}return Oo}var OO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fh(s){return s!=null&&!OO.has(s)?(tn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uo}"`),null):s}function IO(s,e){let i,a,o,c,h;if(CO(s)){let d=s.getAttribute("action");a=d?Pn(d,e):null,i=s.getAttribute("method")||Lo,o=fh(s.getAttribute("enctype"))||Uo,c=new FormData(s)}else if(TO(s)||wO(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||d.getAttribute("action");if(a=p?Pn(p,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||Lo,o=fh(s.getAttribute("formenctype"))||fh(d.getAttribute("enctype"))||Uo,c=new FormData(d,s),!NO()){let{name:m,type:y,value:v}=s;if(y==="image"){let E=m?`${m}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else m&&c.append(m,v)}}else{if(Ru(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Lo,a=null,o=Uo,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Md(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function DO(s,e,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Pn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function xO(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MO(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function kO(s,e,i){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await xO(c,i);return h.links?h.links():[]}return[]}));return PO(a.flat(1).filter(MO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $y(s,e,i,a,o,c){let h=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,m)=>h(p,m)||d(p,m)):c==="data"?e.filter((p,m)=>{let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(h(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function LO(s,e,{includeHydrateFallback:i}={}){return UO(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function UO(s){return[...new Set(s)]}function zO(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function PO(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify(zO(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function OE(){let s=I.useContext(Sr);return Md(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function HO(){let s=I.useContext(wu);return Md(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var kd=I.createContext(void 0);kd.displayName="FrameworkContext";function IE(){let s=I.useContext(kd);return Md(s,"You must render this element inside a <HydratedRouter> element"),s}function BO(s,e){let i=I.useContext(kd),[a,o]=I.useState(!1),[c,h]=I.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,E=I.useRef(null);I.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let P=V=>{V.forEach(q=>{h(q.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return E.current&&H.observe(E.current),()=>{H.disconnect()}}},[s]),I.useEffect(()=>{if(a){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[a]);let O=()=>{o(!0)},D=()=>{o(!1),h(!1)};return i?s!=="intent"?[c,E,{}]:[c,E,{onFocus:Ra(d,O),onBlur:Ra(p,D),onMouseEnter:Ra(m,O),onMouseLeave:Ra(y,D),onTouchStart:Ra(v,O)}]:[!1,E,{}]}function Ra(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function qO({page:s,...e}){let{router:i}=OE(),a=I.useMemo(()=>vE(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?I.createElement(VO,{page:s,matches:a,...e}):null}function jO(s){let{manifest:e,routeModules:i}=IE(),[a,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return kO(s,e,i).then(h=>{c||o(h)}),()=>{c=!0}},[s,e,i]),a}function VO({page:s,matches:e,...i}){let a=Ii(),{manifest:o,routeModules:c}=IE(),{basename:h}=OE(),{loaderData:d,matches:p}=HO(),m=I.useMemo(()=>$y(s,e,p,o,a,"data"),[s,e,p,o,a]),y=I.useMemo(()=>$y(s,e,p,o,a,"assets"),[s,e,p,o,a]),v=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let D=new Set,P=!1;if(e.forEach(V=>{let q=o.routes[V.route.id];!q||!q.hasLoader||(!m.some(K=>K.route.id===V.route.id)&&V.route.id in d&&c[V.route.id]?.shouldRevalidate||q.hasClientLoader?P=!0:D.add(V.route.id))}),D.size===0)return[];let H=DO(s,h,"data");return P&&D.size>0&&H.searchParams.set("_routes",e.filter(V=>D.has(V.route.id)).map(V=>V.route.id).join(",")),[H.pathname+H.search]},[h,d,a,o,m,e,s,c]),E=I.useMemo(()=>LO(y,o),[y,o]),O=jO(y);return I.createElement(I.Fragment,null,v.map(D=>I.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...i})),E.map(D=>I.createElement("link",{key:D,rel:"modulepreload",href:D,...i})),O.map(({key:D,link:P})=>I.createElement("link",{key:D,nonce:i.nonce,...P})))}function GO(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var DE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DE&&(window.__reactRouterVersion="7.9.3")}catch{}function YO({basename:s,children:e,window:i}){let a=I.useRef();a.current==null&&(a.current=xN({window:i,v5Compat:!0}));let o=a.current,[c,h]=I.useState({action:o.action,location:o.location}),d=I.useCallback(p=>{I.startTransition(()=>h(p))},[h]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(SO,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Au=I.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:h,state:d,target:p,to:m,preventScrollReset:y,viewTransition:v,...E},O){let{basename:D}=I.useContext(nn),P=typeof m=="string"&&xE.test(m),H,V=!1;if(typeof m=="string"&&P&&(H=m,DE))try{let ke=new URL(window.location.href),Tt=m.startsWith("//")?new URL(ke.protocol+m):new URL(m),kt=Pn(Tt.pathname,D);Tt.origin===ke.origin&&kt!=null?m=kt+Tt.search+Tt.hash:V=!0}catch{tn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=rO(m,{relative:o}),[K,Te,ne]=BO(a,E),Qe=WO(m,{replace:h,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:v});function je(ke){e&&e(ke),ke.defaultPrevented||Qe(ke)}let Ke=I.createElement("a",{...E,...ne,href:H||q,onClick:V||c?e:je,ref:GO(O,Te),target:p,"data-discover":!P&&i==="render"?"true":void 0});return K&&!P?I.createElement(I.Fragment,null,Ke,I.createElement(qO,{page:q})):Ke});Au.displayName="Link";var FO=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:h,viewTransition:d,children:p,...m},y){let v=ul(h,{relative:m.relative}),E=Ii(),O=I.useContext(wu),{navigator:D,basename:P}=I.useContext(nn),H=O!=null&&eI(v)&&d===!0,V=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,q=E.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(q=q.toLowerCase(),K=K?K.toLowerCase():null,V=V.toLowerCase()),K&&P&&(K=Pn(K,P)||K);const Te=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ne=q===V||!o&&q.startsWith(V)&&q.charAt(Te)==="/",Qe=K!=null&&(K===V||!o&&K.startsWith(V)&&K.charAt(V.length)==="/"),je={isActive:ne,isPending:Qe,isTransitioning:H},Ke=ne?e:void 0,ke;typeof a=="function"?ke=a(je):ke=[a,ne?"active":null,Qe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Tt=typeof c=="function"?c(je):c;return I.createElement(Au,{...m,"aria-current":Ke,className:ke,ref:y,style:Tt,to:h,viewTransition:d},typeof p=="function"?p(je):p)});FO.displayName="NavLink";var QO=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:h=Lo,action:d,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:v,...E},O)=>{let D=$O(),P=JO(d,{relative:m}),H=h.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&xE.test(d),q=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let Te=K.nativeEvent.submitter,ne=Te?.getAttribute("formmethod")||h;D(Te||K.currentTarget,{fetcherKey:e,method:ne,navigate:i,replace:o,state:c,relative:m,preventScrollReset:y,viewTransition:v})};return I.createElement("form",{ref:O,method:H,action:P,onSubmit:a?p:q,...E,"data-discover":!V&&s==="render"?"true":void 0})});QO.displayName="Form";function KO(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ME(s){let e=I.useContext(Sr);return xe(e,KO(s)),e}function WO(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:h}={}){let d=ol(),p=Ii(),m=ul(s,{relative:c});return I.useCallback(y=>{if(AO(y,e)){y.preventDefault();let v=i!==void 0?i:Wa(p)===Wa(m);d(s,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:h})}},[p,d,m,i,a,e,s,o,c,h])}var XO=0,ZO=()=>`__${String(++XO)}__`;function $O(){let{router:s}=ME("useSubmit"),{basename:e}=I.useContext(nn),i=gO();return I.useCallback(async(a,o={})=>{let{action:c,method:h,encType:d,formData:p,body:m}=IO(a,e);if(o.navigate===!1){let y=o.fetcherKey||ZO();await s.fetch(y,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function JO(s,{relative:e}={}){let{basename:i}=I.useContext(nn),a=I.useContext(sn);xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...ul(s||".",{relative:e})},h=Ii();if(s==null){c.search=h.search;let d=new URLSearchParams(c.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();c.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:kn([i,c.pathname])),Wa(c)}function eI(s,{relative:e}={}){let i=I.useContext(TE);xe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ME("useViewTransitionState"),o=ul(s,{relative:e});if(!i.isTransitioning)return!1;let c=Pn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Pn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return ru(o.pathname,h)!=null||ru(o.pathname,c)!=null}function tI(){const{currentUser:s,userLoggedIn:e}=vr(),[i,a]=I.useState([]);I.useEffect(()=>{o()},[]);async function o(){const c=vN(ur(cr,"/quizzes"),yN(10)),d=(await Rd(c)).val(),p=Object.entries(d).map(([m,y])=>({id:m,...y}));a(p)}return U.jsxs("div",{children:[U.jsx("h1",{className:"text-3xl font-bold",children:"20   "}),e&&U.jsx("h3",{children:` ${s.email}`}),U.jsxs("div",{className:"mx-6",children:[U.jsx("h2",{className:"text-2xl text-start my-5",children:"  :"}),U.jsx("div",{className:"flex flex-col gap-3 my-3",children:i.map(c=>U.jsx(nI,{quiz:c},c.id))})]})]})}function nI({quiz:s}){return U.jsxs("div",{className:"border-2 rounded-2xl flex flex-row justify-between",children:[U.jsx("div",{className:"p-2 w-full flex items-center",children:U.jsx("h3",{children:s.title})}),U.jsx("div",{className:"p-2 flex flex-col justify-around border-s-2 border-dashed",children:U.jsx(Au,{to:`quiz/${s.id}`,children:U.jsx(en,{className:"bg-fuchsia-300 hover:bg-fuchsia-700",children:""})})})]})}async function iI(s,e){return JC(Cu,s,e)}async function sI(s,e){return ew(Cu,s,e)}function rI(){return Cu.signOut()}function au({id:s,className:e,type:i="text",placeholder:a,value:o,onChange:c}){return U.jsx("div",{className:"w-full border-2 rounded-2xl px-4 py-2  my-6 "+e,children:U.jsx("input",{className:"w-full",id:s,type:i,placeholder:a,value:o,onChange:c})})}function aI(){const{userLoggedIn:s}=vr(),[e,i]=I.useState(""),[a,o]=I.useState(""),[c,h]=I.useState(!1),[d,p]=I.useState("");async function m(v){c||(h(!0),await sI(e,a))}async function y(v){c||(h(!0),await iI(e,a))}return U.jsxs(U.Fragment,{children:[s&&U.jsx(EO,{to:"/",replace:!0}),U.jsx("h1",{className:"text-3xl font-bold",children:""}),U.jsxs("div",{className:"w-2xs mx-auto",children:[U.jsxs("div",{children:[U.jsx("div",{className:"w-full border-2 rounded-2xl px-4 py-2 my-6",children:U.jsx("input",{className:"w-full",id:"email",type:"text",placeholder:"",onChange:v=>{i(v.target.value)}})}),U.jsx(au,{id:"password",type:"password",placeholder:"",value:a,onChange:v=>{o(v.target.value)}})]}),c&&"",U.jsxs("div",{className:"flex flex-row justify-between",children:[U.jsx(en,{className:"bg-green-300 hover:bg-green-500",onClick:m,children:" "}),U.jsx(en,{className:"bg-yellow-200 hover:bg-yellow-300 text-sm",onClick:y,children:"  "})]})]})]})}var kE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jy=yi.createContext&&yi.createContext(kE),lI=["attr","size","title"];function oI(s,e){if(s==null)return{};var i=uI(s,e),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(o=0;o<c.length;o++)a=c[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function uI(s,e){if(s==null)return{};var i={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(e.indexOf(a)>=0)continue;i[a]=s[a]}return i}function lu(){return lu=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},lu.apply(this,arguments)}function ev(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function ou(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ev(Object(i),!0).forEach(function(a){cI(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ev(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function cI(s,e,i){return e=fI(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function fI(s){var e=hI(s,"string");return typeof e=="symbol"?e:e+""}function hI(s,e){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function LE(s){return s&&s.map((e,i)=>yi.createElement(e.tag,ou({key:i},e.attr),LE(e.child)))}function qn(s){return e=>yi.createElement(dI,lu({attr:ou({},s.attr)},e),LE(s.child))}function dI(s){var e=i=>{var{attr:a,size:o,title:c}=s,h=oI(s,lI),d=o||i.size||"1em",p;return i.className&&(p=i.className),s.className&&(p=(p?p+" ":"")+s.className),yi.createElement("svg",lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,h,{className:p,style:ou(ou({color:s.color||i.color},i.style),s.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&yi.createElement("title",null,c),s.children)};return Jy!==void 0?yi.createElement(Jy.Consumer,null,i=>e(i)):e(kE)}function pI(s){return qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 0 0-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 0 1-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0 1 33.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0 1 19.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0 1 19.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0 1 19.6 43c0 19.1-11 37.5-28.8 48.4z"},child:[]}]})(s)}function mI(s){return qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0 1 42.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"},child:[]}]})(s)}const hh={BLANK:"",RIGHT:"bg-green-100",WRONG:"bg-red-100"};function gI({question:s,answer:e}){const[i,a]=I.useState(!1),[o,c]=I.useState(hh.BLANK);return U.jsxs("div",{className:`border-4 border-slate-600 rounded-2xl p-3 ${o}`,children:[U.jsx("h2",{className:"my-2 font-bold",children:s}),U.jsx("button",{className:`border-2 rounded-md p-1 px-3 ${i?"hidden":""}`,onClick:()=>a(!0),children:"  "}),U.jsxs("div",{style:{display:i?"block":"none"},children:[U.jsx("p",{className:"my-3",children:e}),U.jsxs("div",{className:"flex flex-row justify-around w-1/2 m-auto",children:[U.jsx(en,{className:"bg-green-300 hover:bg-green-500",onClick:()=>c(hh.RIGHT),children:U.jsx(mI,{className:"w-6 h-6"})}),U.jsx(en,{className:"bg-red-300 hover:bg-red-500",onClick:()=>c(hh.WRONG),children:U.jsx(pI,{className:"w-6 h-6"})})]})]})]})}function _I({questions:s}){return U.jsx("div",{className:"flex flex-col gap-3 my-3 mx-6",children:s.map(e=>U.jsx(gI,{question:e.question,answer:e.answer},e.id))})}function yI(s){return qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 48c-67.61.29-117.87 9.6-154.24 25.69-27.14 12-37.76 21.08-37.76 51.84V448c41.57-37.5 78.46-48 224-48V48zM48 48c67.61.29 117.87 9.6 154.24 25.69 27.14 12 37.76 21.08 37.76 51.84V448c-41.57-37.5-78.46-48-224-48V48z"},child:[]}]})(s)}function vI(s){return qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 176v-40a40 40 0 0 1 40-40h160a40 40 0 0 1 40 40v240a40 40 0 0 1-40 40H240c-22.09 0-48-17.91-48-40v-40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m288 336 80-80-80-80M80 256h272"},child:[]}]})(s)}function EI(s){return qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(s)}function UE(s){return qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 112 20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40m-64 64v224m-72-224 8 224m136-224-8 224"},child:[]}]})(s)}function SI(s){return qn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},child:[]}]})(s)}function bI({}){const{quizId:s}=RE(),{currentUser:e,isLoggedin:i}=vr(),[a,o]=I.useState(null),c=ol();I.useEffect(()=>{h()},[]);async function h(){const p=ur(cr,`quizzes/${s}`),y=(await Rd(p)).val();o(y)}async function d(){const p=ur(cr,`quizzes/${s}`);await mN(p),c(-1)}return U.jsx("div",{children:a&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"flex flex-row justify-between",children:e?.uid===a.creator&&U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"flex flex-col",children:[U.jsx(en,{className:"bg-red-300 hover:bg-red-500",onClick:d,children:U.jsx(UE,{})}),""]}),U.jsxs("div",{className:"flex flex-col",children:[U.jsx(en,{className:"bg-lime-200 hover:bg-lime-600",onClick:p=>c(`/quiz/${s}/edit`),children:U.jsx(SI,{})}),""]})]})}),U.jsx("h1",{className:"text-3xl font-bold",children:a.title}),U.jsx(_I,{questions:a.questions})]})})}function zE({quiz:s,onSubmit:e}){const[i,a]=I.useState(s.title),[o,c]=I.useState(s.questions),[h,d]=I.useState(Math.max(...s.questions.map(D=>D.id),0)+1),[p,m]=I.useState(!1);function y(D){c([...o,{id:h,question:"",answer:""}]),d(P=>P+1)}function v(D,P,H){c(o.map(V=>V.id===D?{...V,[P]:H}:V))}function E(D,P){c(o.filter(H=>H.id!==P))}function O(D){D.preventDefault(),m(!0),e({title:i,questions:o})}return U.jsxs("form",{onSubmit:p?void 0:O,children:[U.jsxs("div",{children:[U.jsx(au,{id:"title",placeholder:"title",value:i,onChange:D=>a(D.target.value)}),U.jsx("div",{className:"flex gap-2 flex-col",children:o.map((D,P)=>U.jsx(TI,{questionData:D,index:P,onQuestionChange:v,onQuestionDelete:E},D.id))}),U.jsx(en,{className:"bg-fuchsia-400 hover:bg-fuchsia-600",onClick:y,children:"+"})]}),U.jsx(en,{className:"bg-green-300 hover:bg-green-500",type:"submit",children:"!"})]})}function TI({questionData:s,index:e,onQuestionChange:i,onQuestionDelete:a}){return U.jsxs("div",{className:"border-2 rounded-2xl flex flex-row justify-between",children:[U.jsxs("div",{className:"p-2 w-full",children:[U.jsx(au,{id:"question",placeholder:`  ${e+1}`,value:s.question,onChange:o=>{i(s.id,"question",o.target.value)}}),U.jsx(au,{id:"answer",placeholder:"",value:s.answer,onChange:o=>{i(s.id,"answer",o.target.value)}})]}),U.jsx("div",{className:"p-2 flex flex-col justify-around border-s-2",children:U.jsx(en,{className:"bg-red-300 hover:bg-red-500",onClick:o=>a(o,s.id),children:U.jsx(UE,{className:"w-6 h-6"})})})]})}function CI(){const{currentUser:s}=vr(),e=ol(),i={title:"",questions:[{id:1,question:"",answer:""}]};async function a(o){const h=(await pN(ur(cr,"quizzes/"),{title:o.title,creator:s.uid,questions:o.questions}))._path.pieces_[1];e(`/quiz/${h}`)}return U.jsxs("div",{children:[U.jsx("h1",{className:"text-3xl font-bold",children:" "}),U.jsx(zE,{quiz:i,onSubmit:a})]})}function wI(){const{quizId:s}=RE(),{currentUser:e}=vr(),i=ol(),[a,o]=I.useState(void 0);async function c(d){await wd(ur(cr,`quizzes/${s}`),{title:d.title,creator:a.creator,questions:d.questions}),i(`/quiz/${s}`)}I.useEffect(()=>{h()},[]);async function h(){const d=ur(cr,`quizzes/${s}`),m=(await Rd(d)).val();o(m)}return U.jsxs("div",{children:[U.jsx("h1",{className:"text-3xl font-bold",children:" "}),a&&U.jsx(zE,{quiz:a,onSubmit:c})]})}function RI(s){return qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.5 104.1c-1.5-1.2-3.5-1.2-5 0l-156 124.8c-.9.8-1.5 1.9-1.5 3.1v230c0 1.1.9 2 2 2h108c1.1 0 2-.9 2-2V322c0-1.1.9-2 2-2h92c1.1 0 2 .9 2 2v140c0 1.1.9 2 2 2h108c1.1 0 2-.9 2-2V232c0-1.2-.6-2.4-1.5-3.1l-156-124.8z"},child:[]},{tag:"path",attr:{d:"M458.7 204.2l-189-151.4C265.9 49.7 261 48 256 48s-9.9 1.7-13.7 4.8L160 119.7V77.5c0-1.1-.9-2-2-2H98c-1.1 0-2 .9-2 2v92.2l-42.7 35.1c-3.1 2.5-5.1 6.2-5.3 10.2-.2 4 1.3 7.9 4.1 10.7 2.6 2.6 6.1 4.1 9.9 4.1 3.2 0 6.3-1.1 8.8-3.1l183.9-148c.5-.4.9-.4 1.3-.4s.8.1 1.3.4l183.9 147.4c2.5 2 5.6 3.1 8.8 3.1 3.7 0 7.2-1.4 9.9-4.1 2.9-2.8 4.4-6.7 4.2-10.7-.3-4-2.2-7.7-5.4-10.2z"},child:[]}]})(s)}function AI(s){return qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(s)}function NI(){const{userLoggedIn:s}=vr(),i=[...[{title:"",link:"/",style:"bg-indigo-400 hover:bg-indigo-600",icon:U.jsx(RI,{className:"w-5 h-5"}),onClick:void 0,condition:!0},{title:"",link:"quiz/new",style:"bg-amber-200 hover:bg-amber-400",icon:U.jsx(AI,{className:"w-5 h-5"}),onClick:void 0,condition:s},{title:" ",link:"/",style:"bg-emerald-300 hover:bg-emerald-700",icon:U.jsx(yI,{className:"w-5 h-5"}),onClick:void 0,condition:s},{title:"",link:void 0,style:"bg-orange-300 hover:bg-orange-500",icon:U.jsx(EI,{className:"w-5 h-5"}),onClick:rI,condition:s},{title:"",link:"/login",style:"bg-lime-300 hover:bg-lime-600",icon:U.jsx(vI,{className:"w-5 h-5"}),onClick:void 0,condition:!s}].filter(a=>a.condition)];return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"h-32"}),U.jsx("div",{className:"w-full fixed bottom-0 start-0 p-4 bg-gray-100",children:U.jsx("div",{className:"flex flex-row justify-around",children:i.map(a=>U.jsxs(Au,{to:a.link,className:"flex flex-col",children:[U.jsx(en,{className:a.style,onClick:a.onClick,children:a.icon}),a.title]}))})})]})}function OI(){return U.jsx(U.Fragment,{children:U.jsx(DN,{children:U.jsxs(YO,{basename:"/",children:[U.jsxs(bO,{children:[U.jsx(Xs,{path:"/",element:U.jsx(tI,{})}),U.jsx(Xs,{path:"/login",element:U.jsx(aI,{})}),U.jsx(Xs,{path:"/quiz/new",element:U.jsx(CI,{})}),U.jsx(Xs,{path:"/quiz/:quizId",element:U.jsx(bI,{})}),U.jsx(Xs,{path:"/quiz/:quizId/edit",element:U.jsx(wI,{})})]}),U.jsx(NI,{})]})})})}gb.createRoot(document.getElementById("root")).render(U.jsx(I.StrictMode,{children:U.jsx(OI,{})}));
